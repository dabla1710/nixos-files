var SIH=function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=269)}({0:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){e=decodeURIComponent(e);var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function s(e){return new Promise(function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()})}function o(){var e=a(window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var t=e.pathname.split("/");return{appId:t[3],marketHashName:t[4]+e.hash,location:e}}return{}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return e=e.replace(/[^0-9.,]/g,""),e.indexOf(",")>e.indexOf(".")&&(t=","),(e.match(RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=e.replace(RegExp("[^0-9"+t+"]","g"),""),e=e.replace(",","."),parseFloat(e)}function u(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=_.getPriceFromCurrency(e,t,r,n),s=a.price,o=a.symbolPosition,i=a.symbol;return s>1e5&&(s=Math.ceil(s)),("before"===o?i:"")+" "+(+s.toFixed(2)).toLocaleString("ru").replace(",",".")+" "+("after"===o?i:"")}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/t)*100)/100*r}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=a,t.getPriceFromSteam=s,t.getPageParams=o,t.parseNumber=i,r.d(t,"localStorageJSON",function(){return S}),r.d(t,"chromeStorage",function(){return f}),r.d(t,"App",function(){return b}),t.formatNumber=u,t.formatNumberToLocalRu=l,t.getPercentNumberDifference=c,r.d(t,"ModifyHoverItemName",function(){return y}),r.d(t,"SihAppGlobal",function(){return g}),r.d(t,"SihUserPrices",function(){return h}),r.d(t,"Currency",function(){return _}),r.d(t,"TopSales",function(){return I}),r.d(t,"SellListing",function(){return C}),r.d(t,"BuyOrders",function(){return k});var m=r(1),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p={USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""}},S={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return null}}},f={getSync:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:{key:e}},function(r){var n=r[e]||{};t(n)})})},setSync:function(e,t){return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},function(e){r(e)})})},getLocal:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:e}},function(r){var n=r[e]||{};t(n)})})},setLocal:function(e,t){return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},function(e){r(e)})})}},b={getManifest:function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)}).then(function(e){return e.data})}},y=function(e){var t=e.item;$J(".item-hover-name-tooltip").remove(),t.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),t.css({display:"inline-block",cursor:"pointer"}),t.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),t.off("click").click(function(){var t=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then(function(){t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})}).catch(function(e){})}),t.mouseout(function(){t.tooltip("close"),t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})})},g=function(){function e(){n(this,e)}return e.getLoginSihAppUser=function(){return new Promise(function(e,t){sih_app_account?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(t){t.success&&Object.keys(t).length||chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},function(t){e(t)}),e(t.success&&Object.keys(t).length?t:{success:!1})}):e({success:!1,auth:!1})})},e.getUserSihApp=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},function(t){e(t)})})},e.getSubscribeAds=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},function(t){e(t)})})},e.getSubscribeAdsPlans=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},function(t){e(t)})})},e.getDaysNumber=function(e){var t=(new Date).toUTCString(),r=new Date(""+t).getTime(),n=new Date(""+e).getTime(),a=n-r,s=Math.round(a/36e5);if(s>=24){return{days:Math.round(s/24)}}return{hours:s}},e.setItemToBuyStack=function(t){var r=t.hashName,n=void 0===r?null:r,a=t.countAdd,s=void 0===a?1:a,i=t.statusCode,u=void 0===i?null:i,l=t.steamId,c=void 0===l?null:l,d=t.appId,p=void 0===d?"730":d,S=t.price,f=void 0===S?null:S,b=t.image,y=t.url,g=t.gameName,h=void 0===g?"Counter-Strike 2":g,_=t.color,I=void 0===_?"rgb(210, 210, 210)":_;return new Promise(function(t,r){var a=m.a.getMarkets().find(function(e){return"sihmarket"===e.name});if(a||f){var i=f||m.a.getPriceMarket(a);if(i&&(i.price||f)){var l=o(),d=n||encodeURIComponent(l.marketHashName);e.getAllItemsBuyStackByName(d).then(function(a){for(var o=e.getFilterItemsByStatus(a,u),m=[],S=s>1?s-o.length:s,g=b||$J(".market_listing_largeimage").find("img").attr("src"),_=h||$J(".market_listing_nav > a:nth(0)").text(),C=I||$J("#largeiteminfo_item_name").css("color"),k=p&&n?p+"/"+n:l.appId+"/"+encodeURIComponent(l.marketHashName),A=0;A<S;A++){var P={appid:p||l.appId,market_hash_name:n?decodeURIComponent(n):l.marketHashName,price:f||i.price,providerName:"sih",steam_id:c||g_steamID,custom_trade_link:null,createdAt:Date.now()+A+1,image:g,url:y||window.location.href,gameName:_,hashMarket:k,color:C,isChecked:!0};null!==u&&(P.status=u),m.push(P)}e.getAllItemsBuyStackByName(d).then(function(n){var a,s=(a={},a[d]=[].concat(n,m),a);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:s},function(n){n.success?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{hashName:d}},function(n){n.success?e.getAllItemsBuyStackByName(d).then(function(e){t(e)}):r(n)}):r(n)})})})}}else n&&e.getAllItemsBuyStackByName(n).then(function(a){var o,i=e.getFilterItemsByStatus(a,u);if(i.length){for(var l=i.map(function(e){return e.createdAt}),c=i.find(function(e){return e.createdAt===Math.max.apply(Math,l)}),m=s>1?s-i.length:s,d=[],p=0;p<m;p++){var S=Object.assign({},c);S.createdAt=Date.now()+p+1,d.push(S)}var f=(o={},o[n]=[].concat(a,d),o);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:f},function(e){e.success?t(f[n]):r(e)})}})})},e.deleteItemFromBuyStack=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(a,s){e.getAllItemsBuyStackByName(t).then(function(o){var i=e.getFilterItemsByStatus(o,n),u=i.length-(null!==r?r:i.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:t,statusCode:n,countDelete:u}},function(r){e.getAllItemsBuyStackByName(t).then(function(e){r.success?a(e):s(r)})})})})},e.getAllBuyStack=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},function(t){e(t)})})},e.getAllItemsBuyStackByName=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},function(e){t(e)})})},e.getFilterItemsByStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter(function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status})||[]},e.updateSIHMarketPrice=function(){return new Promise(function(t,r){e.getAllBuyStack().then(function(e){var r=[];e.forEach(function(e){var t=e.market_hash_name;0!==r.length&&r.includes(t)||r.push(t)});var n={appId:730,markets:["sihmarket"],items:r};n.items.length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:n},function(e){var n=!e.success||!Object.keys(e.items).length;e.items||(e.items={});for(var a=r,s=Array.isArray(a),o=0,a=s?a:a[Symbol.iterator]();;){var i;if(s){if(o>=a.length)break;i=a[o++]}else{if(o=a.next(),o.done)break;i=o.value}var u=i;if(n||!e.items[u]){var l,c={sihmarket:{price:null}};Object.assign(e.items,(l={},l[u]=c,l))}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:e},function(r){t({responsePrices:e,responseUpdate:r})})}):t()})})},e.changeItemsStatus=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},function(){t()})})},e.cancelSihAppOrder=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.updateItemLocalHistoryOrders=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.getUserOrdersHistory=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise(function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:r}},function(e){n(e)})})},e.createBuyOrder=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},function(t){e(t)})})},e.getTopSales=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},function(e){t(e)})})},e.getLogs=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},function(t){e(t)})})},e.readAllNotification=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},function(t){e(t)})})},e.renderTextLog=function(t){return(e._buyOrderErrorsEnum[t.error]?e._buyOrderErrorsEnum[t.error]+" <br>":t.error||t.message||SIHLang.sihAppMarket.orders.order+" № "+t.orderId+" "+SIHLang.sihAppMarket.orders.successful_operation+" <br>")+" "+(t.itemData?t.itemData.market_hash_name+" <br>":"")+" "+(t.itemData?SIHLang.sihAppMarket.orders.price+": "+t.itemData.price+" <br>":"")},e.getLogTemplateByGroup=function(t){var r=void 0;switch(t.groupType){case"bookmarks":var n=m.a._getLink(t.itemData.marketName||"buff163",t.itemData.appId||"730",t.itemData.market_hash_name,t.itemData.market_hash_name),a=_.getPriceFromCurrency(t.itemData.price,t.itemData.currencyId||1).text;r='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+t.title+'</span>\n                      <a href="'+n+'" target="_blank" class="text text_blue hover-opacity-8">'+t.itemData.market_hash_name+'</a>\n            </div>\n            <div class="row gap-5 items-end pb-2">\n\x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n                    <img class="notification-panel__icon" src="chrome-extension://'+SIHID+"/assets/marketplace/mini-icons/"+(t.itemData.marketName||"buff163")+'.svg" alt="'+(t.itemData.marketName||"buff163")+'">\n                    <span class="text text_green whitespace-nowrap">'+a+"</span>\n            </div>\n           ";break;default:r='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+SIHLang.notifications[t.title]+'</span>\n                      <span class="text '+(t.success?"text_green":"text_red")+'">'+e.renderTextLog(t)+"</span>\n            </div>\n           "}return r},e.validateInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)?r:e<=0?r:e>=t?Math.ceil(t):n?Math.floor(1e3*e)/1e3:Math.ceil(e)},e.getSubscribeAdsMethods=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},function(t){e(t)})})},e.getLinkForInvoice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},function(e){r(e)})})},e.updateTradeLink=function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})},e.getSihAppToken=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},function(t){e(t)})})},e.getAutoLoadFloats=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},function(t){e(t)})})},e.errorHandler=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";n.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click(function(){window.location.reload()})),0===r.length?t.append('<span class="sih-modal__text sih-modal__error_message">Error! '+n+"</span>"):(r.text("Error! "+n),r.hasClass("blink")?(r.removeClass("blink"),setTimeout(function(){r.addClass("blink")},100)):r.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()},e}();g._buyOrderStatusEnum={ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized},g._buyOrderErrorsEnum={"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed};var h=function(){function e(){n(this,e)}return e.sendItemData=function(e,t,r,n,a,s){try{var o=JSON.parse(JSON.stringify(e)),i=JSON.parse(JSON.stringify(o.buy_order_graph)),u=JSON.parse(JSON.stringify(o.sell_order_graph));if(!t||5!==n)return!1;if(!g_steamID)return!1;if(0===u.length)return;u.length>5?u.length=5:u.length,i.length>1?i.length=1:i.length;for(var l=[],c=u.length-1;c>=0;c--){var m=u[c][0],d=0!==c?u[c][1]-u[c-1][1]:u[c][1];l.unshift({price:m,count:d})}var p=i[0][0],S=i[0][1],f={app_id:t,hash_name:r,prices:l,steamid:g_steamID};if(i.length){var b={price:p,count:S};Object.assign(f,{buy_price:b})}if(a&&Object.keys(a).length&&Object.assign(f,{steamSoldData:a}),s){var y=["koreana","japanese","turkish"],g=void 0,h=void 0;"russian"===s?(g=+$J.parseHTML(o.buy_order_summary)[1].innerHTML,h=+$J.parseHTML(o.sell_order_summary)[1].innerHTML):y.includes(s)?(g=+$J(o.buy_order_summary)[2].innerHTML,h=+$J(o.sell_order_summary)[2].innerHTML):(g=+$J(o.buy_order_summary)[0].innerHTML,h=+$J(o.sell_order_summary)[0].innerHTML),f.orders={buy:g,sell:h}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:f})}catch(e){}},e}(),_=function(){function e(){n(this,e)}return e.getPriceFromCurrency=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.getCurrency(+r),o=e.getCurrency(+n),i=a?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode],u=a?ExchangeSteamRates[o.strCode]:ExchangeRates._rates[o.strCode];return"USD"===o.strCode&&t?"USD"!=s.strCode&&(t*=i)<.03&&(t=.03):o.strCode!=s.strCode&&t&&(t=t/u*i)<.03&&(t=.03),{price:t||0,code:s.strCode,symbol:s.strSymbol,text:(s.bSymbolIsPrefix?""+s.strSymbol+s.strSymbolAndNumberSeparator:"")+(t?t.toFixed(2):0)+(s.bSymbolIsPrefix?"":""+s.strSymbolAndNumberSeparator+s.strSymbol),template:(s.bSymbolIsPrefix?""+s.strSymbol+s.strSymbolAndNumberSeparator:"")+"$price"+(s.bSymbolIsPrefix?"":""+s.strSymbolAndNumberSeparator+s.strSymbol),symbolPosition:s.bSymbolIsPrefix?"before":"after"}},e.getCurrency=function(e){var t=null;e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1;for(var r in p)if(p[r].eCurrencyCode===+e){t=p[r];break}return t},e.getCurrencyCodeSteam=function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1},e}(),I=function e(){n(this,e)};I._skinWear=[{wearFull:"Factory New",wearShort:"FN",color:"#5EB648"},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154"},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B"},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D"},{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59"}],I.getWearInfo=function(e){var t=I._skinWear.filter(function(t){return e.includes(t.wearFull)}),r=e.includes("StatTrak™"),n=e.includes("Souvenir");return t.length?d({},t[0],{name:e,stattrak:r,souvenir:n}):null},I.getSplitName=function(e){var t=e.split("|");return{skinTagName:t[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),skinName:2===t.length?t[1]:t.splice(1,t.length).join("|")}};var C=function e(){n(this,e)};C.SELL_LISTING={},C.setItem=function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID},r=e.appid+"/"+e.contextid,n=e.market_hash_name+"/"+e.price;if(Object.keys(C.SELL_LISTING).length){var a=C.SELL_LISTING.data.findIndex(function(e){return Object.keys(e)[0]===r});if(a>=0)if(C.SELL_LISTING.data[a][r].length){var s=C.SELL_LISTING.data[a][r].findIndex(function(e){return Object.keys(e)[0]===n});if(s<0){var o;C.SELL_LISTING.data[a][r].push((o={},o[n]=[e],o))}else{var i=C.SELL_LISTING.data[a][r][s][n].findIndex(function(t){return t.assetid===e.assetid});i<0&&C.SELL_LISTING.data[a][r][s][n].push(e)}}else{var u;C.SELL_LISTING.data[a][r].push((u={},u[n]=[e],u))}else{var l,c;C.SELL_LISTING.data.push((c={},c[r]=[(l={},l[n]=[e],l)],c))}}else{var m,d;C.SELL_LISTING={data:[(d={},d[r]=[(m={},m[n]=[e],m)],d)],userInfo:t}}}},C.removeItem=function(e){e&&C.SELL_LISTING&&C.SELL_LISTING.data&&C.SELL_LISTING.data.length&&C.SELL_LISTING.data.forEach(function(t,r){for(var n=Object.entries(t),a=Array.isArray(n),s=0,n=a?n:n[Symbol.iterator]();;){var o;if(a){if(s>=n.length)break;o=n[s++]}else{if(s=n.next(),s.done)break;o=s.value}var i=o,u=i[0],l=i[1];!function(t,n){n.forEach(function(n,a){for(var s=Object.entries(n),o=Array.isArray(s),i=0,s=o?s:s[Symbol.iterator]();;){var u;if(o){if(i>=s.length)break;u=s[i++]}else{if(i=s.next(),i.done)break;u=i.value}var l=u,c=l[0],m=l[1],d=m.findIndex(function(t){return t.assetid===e});d>=0&&(C.SELL_LISTING.data[r][t][a][c].splice(d,1),C.SELL_LISTING.data[r][t][a][c].length||(C.SELL_LISTING.data[r][t].splice(a,1),C.SELL_LISTING.data[r][t].length||C.SELL_LISTING.data.splice(r,1)))}})}(u,l)}})},C.resellItems=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:C.SELL_LISTING},function(t){e()})})};var k=function e(){n(this,e)};k.BUY_ORDERS=[],k.setItem=function(e){if(e)if(k.BUY_ORDERS.length){var t=k.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e.payload.buy_orderid});-1===t&&k.BUY_ORDERS.push(e)}else k.BUY_ORDERS.push(e)},k.removeItem=function(e){if(e&&k.BUY_ORDERS.length){var t=k.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e});-1!==t&&k.BUY_ORDERS.splice(t,1)}},k.createBuyOrders=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:k.BUY_ORDERS},function(t){e()})})}},1:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=0;if(g_plotPriceHistory&&Array.isArray(g_plotPriceHistory.data)&&g_plotPriceHistory.data.length>0&&Array.isArray(g_plotPriceHistory.data[0])){g_plotPriceHistory.data[0].forEach(function(r){var n=new Date(r[0]).getTime(),a=new Date;a.setDate(a.getDate()-e)<=n&&isFinite(r[2])&&(t+=parseFloat(r[2]))})}return t}function s(e){e=e||"",e=e.trim().replace(/[^0-9.,]/g,"").replace(/\.$/,"");var t=e.replace(/[^0-9]/g,"");return/[,\.]\d{2}$/.test(e)&&(t=t.replace(/(\d{2})$/,".$1")),isFinite(t)?+t:null}function o(e){}r.d(t,"a",function(){return l}),r.d(t,"c",function(){return c}),r.d(t,"b",function(){return m}),r.d(t,"j",function(){return d}),r.d(t,"k",function(){return p}),r.d(t,"i",function(){return S}),r.d(t,"g",function(){return f}),r.d(t,"h",function(){return b}),t.e=a,t.f=s,t.d=o;var i=r(0),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(){function e(){n(this,e)}return e._getMarkets=function(t,r,n){var a,s=e._markets.filter(function(e){return e.isView&&e.appIds.includes(t)});if(!window.sih_subscribe_ads){var o="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";s=["RU","BY"].includes(o)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?s.filter(function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name}):s.filter(function(e){return e.name}):["ZH","CN"].includes(o)?s.filter(function(e){return e.name}):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?s.filter(function(e){return"igxe"!==e.name}):s.filter(function(e){return e.name})}s.forEach(function(a){a.link=e._getLink(a.name,t,r,n)});var i=e._markets.filter(function(e){return!e.isView});return(a=s).push.apply(a,i),s},e._getLink=function(e,t,r,n){var a="https://t.sih-db.com/15GzoA",s="",o="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":o="csgo.com";break;case"570":o="market.dota2.net";break;case"440":o="tf2.tm";break;case"252490":o="rust.tm";break;default:return}s=a+"?subid1="+encodeURIComponent("?s=price&t=all&search="+r+"&sd=asc")+"&subid2="+o+(n?"-side-menu":"")}if(["csmoney","csmoneyStore","csmoneyTrade"].includes(e)){var i=r.indexOf("™")>-1,u="csmoneyStore"===e?"store":"trade",l="csmoneyStore"===e?"market":"trade",c="utm_source=mediabuy&utm_medium=sih&utm_campaign="+l+"&utm_content=link";s=a+"?subid1="+encodeURIComponent("/csgo/"+u+"/?search="+r+"&isStatTrak="+i+"&sort=price&order=asc&"+c)+"%26&subid2=cs.money"+(n?"-side-menu":"")}if("skinport"===e){var m=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),d="";"570"===t?d="/dota2":"440"===t?d="/tf2":"252490"===t&&(d="/rust"),s=a+"?subid1="+encodeURIComponent(d+"/market?search="+m+"&sort=price&order=asc")+"&subid2=skinport"+(n?"-side-menu":"")}if("bitskins"===e){var p="";switch(t){case"730":p="csgo";break;case"570":p="dota2";break;case"440":p="tf2"}s=a+"?subid1="+encodeURIComponent(p+'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"'+r+'"}}')+"&subid2=newBitskins"+(n?"-side-menu":"")}if("bitskinsp2p"===e){var S=r.replace(/ /g,"+");s=a+"?subid1="+encodeURIComponent('?search={"where":{"name":"'+S+'"}}')+"&subid2=p2p-bitskins"+(n?"-side-menu":"")}if("skinbaron"===e){r=r.replace("Souvenir Package","");var f="";"730"===t?f="/csgo":"440"===t&&(f="/tf2");s=a+"?subid1="+encodeURIComponent(f+"?str="+r+"&sort=CF")+"&subid2=skinbaron"+(n?"-side-menu":"")}if("shadowpay"===e){s=a+"?subid1="+encodeURIComponent("?search="+r)+"&subid2=shadowpay"+(n?"-side-menu":"")}if("waxpeer"===e){var b=r.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),y="";["252490"].includes(t)&&(y="rust/"),["440"].includes(t)&&(y="tf2/"),s=a+"?subid1="+y+b+"/item/&subid2=waxpeer"+(n?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var g=r.replace(/[™★]/g,""),h="";"730"===t&&(h="csgo-skins"),"570"===t&&(h="dota2-skins"),"252490"===t&&(h="rust-skins"),"440"===t&&(h="tf2-skins");s=a+"?subid1="+encodeURIComponent("/ingame-items/item-list/"+h+"?title="+g)+"&subid2=dmarket"+(n?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var _="";if(r.indexOf("Unusual")>-1)_=encodeURIComponent("/market?e="+r+"&f=ASC&appid="+t);else{_="/item/"+t+"-"+r.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()}s=a+"?subid1="+_+"&subid2=manncostore"+(n?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var I="";"730"===t&&(I="csgo"),"440"===t&&(I="tf2"),"570"===t&&(I="dota2"),"252490"===t&&(I="rust");s=a+"?subid1="+encodeURIComponent("/"+I+"/store?search="+r)+"&subid2=tradeit"+(n?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var C="";"730"===t&&(C="csgo"),"440"===t&&(C="tf2"),"570"===t&&(C="dota2"),"252490"===t&&(C="rust");s=a+"?subid1="+encodeURIComponent("/"+C+"/trade?search="+r)+"&subid2=tradeit"+(n?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(s=a+"?subid1="+r+"&subid2=cstrade"+(n?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){s=a+"?subid1="+encodeURIComponent("#skin="+t+"_"+r)+"&subid2=lootfarm"+(n?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){s=a+"?subid1="+encodeURIComponent("/browse/"+t+"?search="+r.replace("|"," "))+"&subid2=swapgg"+(n?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var k="";"730"===t&&(k="csgo"),"570"===t&&(k="dota2"),"252490"===t&&(k="rust");s=a+"?subid1="+encodeURIComponent("/"+k+"/?query="+r)+"&subid2=lisskins"+(n?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var A="";"730"===t&&(A="csgo");s=a+"?subid1="+encodeURIComponent("/market/"+A+"#tab=selling&page_num=1&search="+r)+"&subid2=buff163"+(n?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var P=r,N="";"730"===t&&(N="csgo");s=a+"?subid1="+encodeURIComponent("/market/"+N+"?keyword="+P)+"&subid2=igxe"+(n?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var D=r;s=a+"?subid1="+encodeURIComponent("/buy?query="+D)+"&subid2=gamerpay"+(n?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var O=r;s=a+"?subid1="+encodeURIComponent("appId="+t+"&q="+O)+"&subid2=skinmonkey"+(n?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var v=r;s=a+"?subid1="+encodeURIComponent("appId="+t+"&q="+v)+"&subid2=skinmonkey"+(n?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){s=a+"?subid1="+r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()+"&subid2=skinout"+(n?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){s=a+"?subid1="+r+"&subid2=whitemarket"+(n?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){s=a+"?subid1="+encodeURIComponent(r.replace(/&/,""))+"&subid2=haloskins"+(n?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){s=a+"?subid1="+(t+"/"+r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase())+"&subid2=cs2go"+(n?"-side-menu":"")}return s},e.getPriceMarket=function(e){var t=m.get(),r=!1,n=0,a=0,s=0,o=0,i=0,u=0;return e.data&&(s=e.data.price||0,o=e.data.count||0,e.data.locked&&(i=e.data.locked.price||0,u=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(n=s,a=o),"B"===e.group&&(s?s>i&&i?(n=i,r=!0,a=u):(n=s,a=o):(n=i,a=u,r=!0)),"C"===e.group&&(n=i,a=u,r=!0)):"A"!==e.group&&"B"!==e.group||(n=s,a=o),{price:n,isLock:r,count:a}},e.makeNewData=function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING},e.loadMarkets=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e._statusLoadMarkers==e._statusLoadMarkersEnum.NO_LOADING){e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING;var a=null===t&&null===n?r.i(i.getPageParams)():{appId:t,marketHashName:n};if(a.marketHashName=decodeURIComponent(a.marketHashName),a){var s=f.get(),o=a.appId+"_"+a.marketHashName;if(sih_app_account&&(window.marketCacheTime=3e4),s[o]&&Date.now()-s[o].time<window.marketCacheTime)return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),void(e._marketplace.markets=s[o].data);var u=t&&n,l=e._getMarkets(a.appId,a.marketHashName,u),c={appId:a.appId,markets:l.map(function(e){return e.name}),items:[a.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:c},function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[a.marketHashName]&&t.items[a.marketHashName].csmoney&&(t.items[a.marketHashName].csmoney.csmoneyStore&&(t.items[a.marketHashName].csmoneyStore=t.items[a.marketHashName].csmoney.csmoneyStore),t.items[a.marketHashName].csmoney.csmoneyTrade&&(t.items[a.marketHashName].csmoneyTrade=t.items[a.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=l.map(function(e){return e.data=t.items[a.marketHashName]&&t.items[a.marketHashName][e.name],e}).filter(function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))}),s[o]={},s[o].data=e._marketplace.markets,s[o].time=Date.now(),f.set(s)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR})}}},e._getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.checkLoadMarkets=function(){var t=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(t){var r=m.get();r.market&&e.getMarkets().filter(function(e){return e.isView}).forEach(function(e){var t=r.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)})}return t},e.getMarkets=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e._marketplace?m.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter(function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price}):[]},e.getMarketLowerPrice=function(){var t=null;if(e.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var r=m.get(),n=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},a=function(e,t){return t.isServiceCommission?e||0:0},s=this.excludeBuyMarkets(e.getMarkets()).filter(function(e){return e.isView});s.length>1?t=s.reduce(function(t,s){var o=e.getPriceMarket(t),i=e.getPriceMarket(s);return o.price*n(t.depositPercentage,r)+a(t.fixedDepositPercentage,r)<i.price*n(s.depositPercentage,r)+a(s.fixedDepositPercentage,r)?t:s}):1===s.length&&(t=s[0])}return t},e.getOffersCount=function(e){var t=this;return this.excludeBuyMarkets(e).reduce(function(e,r){return e+t.getPriceMarket(r).count},0)},e.excludeBuyMarkets=function(e){var t=["csgocomBuy"];return e.filter(function(e){return!t.includes(e.name)})},u(e,null,[{key:"_markets",get:function(){return[{name:"waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"dmarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csgocomBuy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csmoney",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csmoneyStore",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"csmoneyTrade",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",sort:"B"},{name:"bitskins",isView:!0,appIds:["730","570","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"skinbaron",isView:!0,appIds:["730","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"shadowpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"mannco",isView:!0,appIds:["440","730","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"B"},{name:"tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"tradeitDeposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"cstrade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lootfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"buff163",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"cs2go",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"haloskins",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"igxe",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"gamerpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"skinsmonkey",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinsmonkeycash",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinout",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"bitskinsp2p",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"whitemarket",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"B"},{name:"sihmarket",isView:!1,appIds:["730"],link:null,data:null,group:"B"}]}}]),e}();l._statusLoadMarkersEnum={NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"},l._statusLoadMarkers=l._statusLoadMarkersEnum.NO_LOADING,l._marketplace=null;var c={"Factory new":{id:"FN",color:"#5EB648",min:0,max:.07},"Minimal Wear":{id:"MW",color:"#79D154",min:.07,max:.15},"Field-Tested":{id:"FT",color:"#E3E15B",min:.15,max:.38},"Well-Worn":{id:"WW",color:"#E9A75D",min:.38,max:.45},"Battle-Scarred":{id:"BS",color:"#E05A59",min:.45,max:1}},m={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return i.localStorageJSON.get(this._name)||{}},set:function(e){i.localStorageJSON.set(this._name,e)}},d={_name:"SIH_CONTROL_PANEL_MARKET_LISTINGS",get:function(){return i.localStorageJSON.get(this._name)||{}},set:function(e){i.localStorageJSON.set(this._name,e)}},p={_name:"SIH_MARKET_COMMODITY_ORDER_SPREAD",get:function(){return i.localStorageJSON.get(this._name)||{}},set:function(e){i.localStorageJSON.set(this._name,e)}},S={_name:"SIH_SEARCH_PAINT_SEED_AND_FLOAT_V3",get:function(){return i.localStorageJSON.get(this._name)},set:function(e){i.localStorageJSON.set(this._name,e)}},f={_name:"SIH_MARKETPLACES_CACHE",get:function(){return i.localStorageJSON.get(this._name)||{}},set:function(e){i.localStorageJSON.set(this._name,e)}},b={_name:"SIH_PRICE_HISTORY_GRAPH",get:function(){return i.localStorageJSON.get(this._name)},set:function(e){i.localStorageJSON.set(this._name,e)}}},227:function(e,t,r){"use strict";function n(){var e=$J("html").attr("lang");i.a.get().isClose||"ru"!==e||(a(),s())}function a(){var e=Math.floor(3*Math.random())+1,t=$J('\n    <div class="sih_lab_banner">\n        <div class="close_button"><div class="icon"></div></div>\n        <a href="http://23.105.226.164/Phx3RR?placement=refillpage" target="_blank">\n            <img class="banner'+e+'">\n        </a>\n    </div>\n  ');$J(".block.accountInfoBlock").append(t)}function s(){var e=$J(".sih_lab_banner");e.find(".close_button").click(function(){var t=i.a.get();t.isClose=!0,i.a.set(t),e.remove()})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n;var o=r(327),i=(r.n(o),r(268))},268:function(e,t,r){"use strict";r.d(t,"a",function(){return a});var n=r(0),a={_name:"SIH_LAB_BANNER",get:function(){return n.localStorageJSON.get(this._name)||{}},set:function(e){n.localStorageJSON.set(this._name,e)}}},269:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(227);r.d(t,"Banner",function(){return n})},327:function(e,t){}});