var SIH=function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=244)}([function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){e=decodeURIComponent(e);var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function s(e){return new Promise(function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()})}function r(){var e=a(window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var t=e.pathname.split("/");return{appId:t[3],marketHashName:t[4]+e.hash,location:e}}return{}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return e=e.replace(/[^0-9.,]/g,""),e.indexOf(",")>e.indexOf(".")&&(t=","),(e.match(RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=e.replace(RegExp("[^0-9"+t+"]","g"),""),e=e.replace(",","."),parseFloat(e)}function l(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=k.getPriceFromCurrency(e,t,i,n),s=a.price,r=a.symbolPosition,o=a.symbol;return s>1e5&&(s=Math.ceil(s)),("before"===r?o:"")+" "+(+s.toFixed(2)).toLocaleString("ru").replace(",",".")+" "+("after"===r?o:"")}function c(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/t)*100)/100*i}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=a,t.getPriceFromSteam=s,t.getPageParams=r,t.parseNumber=o,i.d(t,"localStorageJSON",function(){return h}),i.d(t,"chromeStorage",function(){return p}),i.d(t,"App",function(){return f}),t.formatNumber=l,t.formatNumberToLocalRu=d,t.getPercentNumberDifference=c,i.d(t,"ModifyHoverItemName",function(){return g}),i.d(t,"SihAppGlobal",function(){return b}),i.d(t,"SihUserPrices",function(){return v}),i.d(t,"Currency",function(){return k}),i.d(t,"TopSales",function(){return y}),i.d(t,"SellListing",function(){return S}),i.d(t,"BuyOrders",function(){return C});var _=i(1),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u={USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""}},h={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return null}}},p={getSync:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:{key:e}},function(i){var n=i[e]||{};t(n)})})},setSync:function(e,t){return new Promise(function(i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},function(e){i(e)})})},getLocal:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:e}},function(i){var n=i[e]||{};t(n)})})},setLocal:function(e,t){return new Promise(function(i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},function(e){i(e)})})}},f={getManifest:function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)}).then(function(e){return e.data})}},g=function(e){var t=e.item;$J(".item-hover-name-tooltip").remove(),t.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),t.css({display:"inline-block",cursor:"pointer"}),t.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),t.off("click").click(function(){var t=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then(function(){t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})}).catch(function(e){})}),t.mouseout(function(){t.tooltip("close"),t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})})},b=function(){function e(){n(this,e)}return e.getLoginSihAppUser=function(){return new Promise(function(e,t){sih_app_account?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(t){t.success&&Object.keys(t).length||chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},function(t){e(t)}),e(t.success&&Object.keys(t).length?t:{success:!1})}):e({success:!1,auth:!1})})},e.getUserSihApp=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},function(t){e(t)})})},e.getSubscribeAds=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},function(t){e(t)})})},e.getSubscribeAdsPlans=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},function(t){e(t)})})},e.getDaysNumber=function(e){var t=(new Date).toUTCString(),i=new Date(""+t).getTime(),n=new Date(""+e).getTime(),a=n-i,s=Math.round(a/36e5);if(s>=24){return{days:Math.round(s/24)}}return{hours:s}},e.setItemToBuyStack=function(t){var i=t.hashName,n=void 0===i?null:i,a=t.countAdd,s=void 0===a?1:a,o=t.statusCode,l=void 0===o?null:o,d=t.steamId,c=void 0===d?null:d,m=t.appId,u=void 0===m?"730":m,h=t.price,p=void 0===h?null:h,f=t.image,g=t.url,b=t.gameName,v=void 0===b?"Counter-Strike 2":b,k=t.color,y=void 0===k?"rgb(210, 210, 210)":k;return new Promise(function(t,i){var a=_.a.getMarkets().find(function(e){return"sihmarket"===e.name});if(a||p){var o=p||_.a.getPriceMarket(a);if(o&&(o.price||p)){var d=r(),m=n||encodeURIComponent(d.marketHashName);e.getAllItemsBuyStackByName(m).then(function(a){for(var r=e.getFilterItemsByStatus(a,l),_=[],h=s>1?s-r.length:s,b=f||$J(".market_listing_largeimage").find("img").attr("src"),k=v||$J(".market_listing_nav > a:nth(0)").text(),S=y||$J("#largeiteminfo_item_name").css("color"),C=u&&n?u+"/"+n:d.appId+"/"+encodeURIComponent(d.marketHashName),I=0;I<h;I++){var x={appid:u||d.appId,market_hash_name:n?decodeURIComponent(n):d.marketHashName,price:p||o.price,providerName:"sih",steam_id:c||g_steamID,custom_trade_link:null,createdAt:Date.now()+I+1,image:b,url:g||window.location.href,gameName:k,hashMarket:C,color:S,isChecked:!0};null!==l&&(x.status=l),_.push(x)}e.getAllItemsBuyStackByName(m).then(function(n){var a,s=(a={},a[m]=[].concat(n,_),a);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:s},function(n){n.success?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{hashName:m}},function(n){n.success?e.getAllItemsBuyStackByName(m).then(function(e){t(e)}):i(n)}):i(n)})})})}}else n&&e.getAllItemsBuyStackByName(n).then(function(a){var r,o=e.getFilterItemsByStatus(a,l);if(o.length){for(var d=o.map(function(e){return e.createdAt}),c=o.find(function(e){return e.createdAt===Math.max.apply(Math,d)}),_=s>1?s-o.length:s,m=[],u=0;u<_;u++){var h=Object.assign({},c);h.createdAt=Date.now()+u+1,m.push(h)}var p=(r={},r[n]=[].concat(a,m),r);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:p},function(e){e.success?t(p[n]):i(e)})}})})},e.deleteItemFromBuyStack=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(a,s){e.getAllItemsBuyStackByName(t).then(function(r){var o=e.getFilterItemsByStatus(r,n),l=o.length-(null!==i?i:o.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:t,statusCode:n,countDelete:l}},function(i){e.getAllItemsBuyStackByName(t).then(function(e){i.success?a(e):s(i)})})})})},e.getAllBuyStack=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},function(t){e(t)})})},e.getAllItemsBuyStackByName=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},function(e){t(e)})})},e.getFilterItemsByStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter(function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status})||[]},e.updateSIHMarketPrice=function(){return new Promise(function(t,i){e.getAllBuyStack().then(function(e){var i=[];e.forEach(function(e){var t=e.market_hash_name;0!==i.length&&i.includes(t)||i.push(t)});var n={appId:730,markets:["sihmarket"],items:i};n.items.length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:n},function(e){var n=!e.success||!Object.keys(e.items).length;e.items||(e.items={});for(var a=i,s=Array.isArray(a),r=0,a=s?a:a[Symbol.iterator]();;){var o;if(s){if(r>=a.length)break;o=a[r++]}else{if(r=a.next(),r.done)break;o=r.value}var l=o;if(n||!e.items[l]){var d,c={sihmarket:{price:null}};Object.assign(e.items,(d={},d[l]=c,d))}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:e},function(i){t({responsePrices:e,responseUpdate:i})})}):t()})})},e.changeItemsStatus=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},function(){t()})})},e.cancelSihAppOrder=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.updateItemLocalHistoryOrders=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.getUserOrdersHistory=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise(function(n){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:i}},function(e){n(e)})})},e.createBuyOrder=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},function(t){e(t)})})},e.getTopSales=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},function(e){t(e)})})},e.getLogs=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},function(t){e(t)})})},e.readAllNotification=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},function(t){e(t)})})},e.renderTextLog=function(t){return(e._buyOrderErrorsEnum[t.error]?e._buyOrderErrorsEnum[t.error]+" <br>":t.error||t.message||SIHLang.sihAppMarket.orders.order+" № "+t.orderId+" "+SIHLang.sihAppMarket.orders.successful_operation+" <br>")+" "+(t.itemData?t.itemData.market_hash_name+" <br>":"")+" "+(t.itemData?SIHLang.sihAppMarket.orders.price+": "+t.itemData.price+" <br>":"")},e.getLogTemplateByGroup=function(t){var i=void 0;switch(t.groupType){case"bookmarks":var n=_.a._getLink(t.itemData.marketName||"buff163",t.itemData.appId||"730",t.itemData.market_hash_name,t.itemData.market_hash_name),a=k.getPriceFromCurrency(t.itemData.price,t.itemData.currencyId||1).text;i='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+t.title+'</span>\n                      <a href="'+n+'" target="_blank" class="text text_blue hover-opacity-8">'+t.itemData.market_hash_name+'</a>\n            </div>\n            <div class="row gap-5 items-end pb-2">\n\x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n                    <img class="notification-panel__icon" src="chrome-extension://'+SIHID+"/assets/marketplace/mini-icons/"+(t.itemData.marketName||"buff163")+'.svg" alt="'+(t.itemData.marketName||"buff163")+'">\n                    <span class="text text_green whitespace-nowrap">'+a+"</span>\n            </div>\n           ";break;default:i='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+SIHLang.notifications[t.title]+'</span>\n                      <span class="text '+(t.success?"text_green":"text_red")+'">'+e.renderTextLog(t)+"</span>\n            </div>\n           "}return i},e.validateInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)?i:e<=0?i:e>=t?Math.ceil(t):n?Math.floor(1e3*e)/1e3:Math.ceil(e)},e.getSubscribeAdsMethods=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},function(t){e(t)})})},e.getLinkForInvoice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(i){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},function(e){i(e)})})},e.updateTradeLink=function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})},e.getSihAppToken=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},function(t){e(t)})})},e.getAutoLoadFloats=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},function(t){e(t)})})},e.errorHandler=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";n.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click(function(){window.location.reload()})),0===i.length?t.append('<span class="sih-modal__text sih-modal__error_message">Error! '+n+"</span>"):(i.text("Error! "+n),i.hasClass("blink")?(i.removeClass("blink"),setTimeout(function(){i.addClass("blink")},100)):i.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()},e}();b._buyOrderStatusEnum={ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized},b._buyOrderErrorsEnum={"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed};var v=function(){function e(){n(this,e)}return e.sendItemData=function(e,t,i,n,a,s){try{var r=JSON.parse(JSON.stringify(e)),o=JSON.parse(JSON.stringify(r.buy_order_graph)),l=JSON.parse(JSON.stringify(r.sell_order_graph));if(!t||5!==n)return!1;if(!g_steamID)return!1;if(0===l.length)return;l.length>5?l.length=5:l.length,o.length>1?o.length=1:o.length;for(var d=[],c=l.length-1;c>=0;c--){var _=l[c][0],m=0!==c?l[c][1]-l[c-1][1]:l[c][1];d.unshift({price:_,count:m})}var u=o[0][0],h=o[0][1],p={app_id:t,hash_name:i,prices:d,steamid:g_steamID};if(o.length){var f={price:u,count:h};Object.assign(p,{buy_price:f})}if(a&&Object.keys(a).length&&Object.assign(p,{steamSoldData:a}),s){var g=["koreana","japanese","turkish"],b=void 0,v=void 0;"russian"===s?(b=+$J.parseHTML(r.buy_order_summary)[1].innerHTML,v=+$J.parseHTML(r.sell_order_summary)[1].innerHTML):g.includes(s)?(b=+$J(r.buy_order_summary)[2].innerHTML,v=+$J(r.sell_order_summary)[2].innerHTML):(b=+$J(r.buy_order_summary)[0].innerHTML,v=+$J(r.sell_order_summary)[0].innerHTML),p.orders={buy:b,sell:v}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:p})}catch(e){}},e}(),k=function(){function e(){n(this,e)}return e.getPriceFromCurrency=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.getCurrency(+i),r=e.getCurrency(+n),o=a?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode],l=a?ExchangeSteamRates[r.strCode]:ExchangeRates._rates[r.strCode];return"USD"===r.strCode&&t?"USD"!=s.strCode&&(t*=o)<.03&&(t=.03):r.strCode!=s.strCode&&t&&(t=t/l*o)<.03&&(t=.03),{price:t||0,code:s.strCode,symbol:s.strSymbol,text:(s.bSymbolIsPrefix?""+s.strSymbol+s.strSymbolAndNumberSeparator:"")+(t?t.toFixed(2):0)+(s.bSymbolIsPrefix?"":""+s.strSymbolAndNumberSeparator+s.strSymbol),template:(s.bSymbolIsPrefix?""+s.strSymbol+s.strSymbolAndNumberSeparator:"")+"$price"+(s.bSymbolIsPrefix?"":""+s.strSymbolAndNumberSeparator+s.strSymbol),symbolPosition:s.bSymbolIsPrefix?"before":"after"}},e.getCurrency=function(e){var t=null;e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1;for(var i in u)if(u[i].eCurrencyCode===+e){t=u[i];break}return t},e.getCurrencyCodeSteam=function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1},e}(),y=function e(){n(this,e)};y._skinWear=[{wearFull:"Factory New",wearShort:"FN",color:"#5EB648"},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154"},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B"},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D"},{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59"}],y.getWearInfo=function(e){var t=y._skinWear.filter(function(t){return e.includes(t.wearFull)}),i=e.includes("StatTrak™"),n=e.includes("Souvenir");return t.length?m({},t[0],{name:e,stattrak:i,souvenir:n}):null},y.getSplitName=function(e){var t=e.split("|");return{skinTagName:t[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),skinName:2===t.length?t[1]:t.splice(1,t.length).join("|")}};var S=function e(){n(this,e)};S.SELL_LISTING={},S.setItem=function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID},i=e.appid+"/"+e.contextid,n=e.market_hash_name+"/"+e.price;if(Object.keys(S.SELL_LISTING).length){var a=S.SELL_LISTING.data.findIndex(function(e){return Object.keys(e)[0]===i});if(a>=0)if(S.SELL_LISTING.data[a][i].length){var s=S.SELL_LISTING.data[a][i].findIndex(function(e){return Object.keys(e)[0]===n});if(s<0){var r;S.SELL_LISTING.data[a][i].push((r={},r[n]=[e],r))}else{var o=S.SELL_LISTING.data[a][i][s][n].findIndex(function(t){return t.assetid===e.assetid});o<0&&S.SELL_LISTING.data[a][i][s][n].push(e)}}else{var l;S.SELL_LISTING.data[a][i].push((l={},l[n]=[e],l))}else{var d,c;S.SELL_LISTING.data.push((c={},c[i]=[(d={},d[n]=[e],d)],c))}}else{var _,m;S.SELL_LISTING={data:[(m={},m[i]=[(_={},_[n]=[e],_)],m)],userInfo:t}}}},S.removeItem=function(e){e&&S.SELL_LISTING&&S.SELL_LISTING.data&&S.SELL_LISTING.data.length&&S.SELL_LISTING.data.forEach(function(t,i){for(var n=Object.entries(t),a=Array.isArray(n),s=0,n=a?n:n[Symbol.iterator]();;){var r;if(a){if(s>=n.length)break;r=n[s++]}else{if(s=n.next(),s.done)break;r=s.value}var o=r,l=o[0],d=o[1];!function(t,n){n.forEach(function(n,a){for(var s=Object.entries(n),r=Array.isArray(s),o=0,s=r?s:s[Symbol.iterator]();;){var l;if(r){if(o>=s.length)break;l=s[o++]}else{if(o=s.next(),o.done)break;l=o.value}var d=l,c=d[0],_=d[1],m=_.findIndex(function(t){return t.assetid===e});m>=0&&(S.SELL_LISTING.data[i][t][a][c].splice(m,1),S.SELL_LISTING.data[i][t][a][c].length||(S.SELL_LISTING.data[i][t].splice(a,1),S.SELL_LISTING.data[i][t].length||S.SELL_LISTING.data.splice(i,1)))}})}(l,d)}})},S.resellItems=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:S.SELL_LISTING},function(t){e()})})};var C=function e(){n(this,e)};C.BUY_ORDERS=[],C.setItem=function(e){if(e)if(C.BUY_ORDERS.length){var t=C.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e.payload.buy_orderid});-1===t&&C.BUY_ORDERS.push(e)}else C.BUY_ORDERS.push(e)},C.removeItem=function(e){if(e&&C.BUY_ORDERS.length){var t=C.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e});-1!==t&&C.BUY_ORDERS.splice(t,1)}},C.createBuyOrders=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:C.BUY_ORDERS},function(t){e()})})}},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=0;if(g_plotPriceHistory&&Array.isArray(g_plotPriceHistory.data)&&g_plotPriceHistory.data.length>0&&Array.isArray(g_plotPriceHistory.data[0])){g_plotPriceHistory.data[0].forEach(function(i){var n=new Date(i[0]).getTime(),a=new Date;a.setDate(a.getDate()-e)<=n&&isFinite(i[2])&&(t+=parseFloat(i[2]))})}return t}function s(e){e=e||"",e=e.trim().replace(/[^0-9.,]/g,"").replace(/\.$/,"");var t=e.replace(/[^0-9]/g,"");return/[,\.]\d{2}$/.test(e)&&(t=t.replace(/(\d{2})$/,".$1")),isFinite(t)?+t:null}function r(e){}i.d(t,"a",function(){return d}),i.d(t,"c",function(){return c}),i.d(t,"b",function(){return _}),i.d(t,"j",function(){return m}),i.d(t,"k",function(){return u}),i.d(t,"i",function(){return h}),i.d(t,"g",function(){return p}),i.d(t,"h",function(){return f}),t.e=a,t.f=s,t.d=r;var o=i(0),l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),d=function(){function e(){n(this,e)}return e._getMarkets=function(t,i,n){var a,s=e._markets.filter(function(e){return e.isView&&e.appIds.includes(t)});if(!window.sih_subscribe_ads){var r="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";s=["RU","BY"].includes(r)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?s.filter(function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name}):s.filter(function(e){return e.name}):["ZH","CN"].includes(r)?s.filter(function(e){return e.name}):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?s.filter(function(e){return"igxe"!==e.name}):s.filter(function(e){return e.name})}s.forEach(function(a){a.link=e._getLink(a.name,t,i,n)});var o=e._markets.filter(function(e){return!e.isView});return(a=s).push.apply(a,o),s},e._getLink=function(e,t,i,n){var a="https://t.sih-db.com/15GzoA",s="",r="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":r="csgo.com";break;case"570":r="market.dota2.net";break;case"440":r="tf2.tm";break;case"252490":r="rust.tm";break;default:return}s=a+"?subid1="+encodeURIComponent("?s=price&t=all&search="+i+"&sd=asc")+"&subid2="+r+(n?"-side-menu":"")}if(["csmoney","csmoneyStore","csmoneyTrade"].includes(e)){var o=i.indexOf("™")>-1,l="csmoneyStore"===e?"store":"trade",d="csmoneyStore"===e?"market":"trade",c="utm_source=mediabuy&utm_medium=sih&utm_campaign="+d+"&utm_content=link";s=a+"?subid1="+encodeURIComponent("/csgo/"+l+"/?search="+i+"&isStatTrak="+o+"&sort=price&order=asc&"+c)+"%26&subid2=cs.money"+(n?"-side-menu":"")}if("skinport"===e){var _=i.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),m="";"570"===t?m="/dota2":"440"===t?m="/tf2":"252490"===t&&(m="/rust"),s=a+"?subid1="+encodeURIComponent(m+"/market?search="+_+"&sort=price&order=asc")+"&subid2=skinport"+(n?"-side-menu":"")}if("bitskins"===e){var u="";switch(t){case"730":u="csgo";break;case"570":u="dota2";break;case"440":u="tf2"}s=a+"?subid1="+encodeURIComponent(u+'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"'+i+'"}}')+"&subid2=newBitskins"+(n?"-side-menu":"")}if("bitskinsp2p"===e){var h=i.replace(/ /g,"+");s=a+"?subid1="+encodeURIComponent('?search={"where":{"name":"'+h+'"}}')+"&subid2=p2p-bitskins"+(n?"-side-menu":"")}if("skinbaron"===e){i=i.replace("Souvenir Package","");var p="";"730"===t?p="/csgo":"440"===t&&(p="/tf2");s=a+"?subid1="+encodeURIComponent(p+"?str="+i+"&sort=CF")+"&subid2=skinbaron"+(n?"-side-menu":"")}if("shadowpay"===e){s=a+"?subid1="+encodeURIComponent("?search="+i)+"&subid2=shadowpay"+(n?"-side-menu":"")}if("waxpeer"===e){var f=i.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),g="";["252490"].includes(t)&&(g="rust/"),["440"].includes(t)&&(g="tf2/"),s=a+"?subid1="+g+f+"/item/&subid2=waxpeer"+(n?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var b=i.replace(/[™★]/g,""),v="";"730"===t&&(v="csgo-skins"),"570"===t&&(v="dota2-skins"),"252490"===t&&(v="rust-skins"),"440"===t&&(v="tf2-skins");s=a+"?subid1="+encodeURIComponent("/ingame-items/item-list/"+v+"?title="+b)+"&subid2=dmarket"+(n?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var k="";if(i.indexOf("Unusual")>-1)k=encodeURIComponent("/market?e="+i+"&f=ASC&appid="+t);else{k="/item/"+t+"-"+i.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()}s=a+"?subid1="+k+"&subid2=manncostore"+(n?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var y="";"730"===t&&(y="csgo"),"440"===t&&(y="tf2"),"570"===t&&(y="dota2"),"252490"===t&&(y="rust");s=a+"?subid1="+encodeURIComponent("/"+y+"/store?search="+i)+"&subid2=tradeit"+(n?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var S="";"730"===t&&(S="csgo"),"440"===t&&(S="tf2"),"570"===t&&(S="dota2"),"252490"===t&&(S="rust");s=a+"?subid1="+encodeURIComponent("/"+S+"/trade?search="+i)+"&subid2=tradeit"+(n?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(s=a+"?subid1="+i+"&subid2=cstrade"+(n?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){s=a+"?subid1="+encodeURIComponent("#skin="+t+"_"+i)+"&subid2=lootfarm"+(n?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){s=a+"?subid1="+encodeURIComponent("/browse/"+t+"?search="+i.replace("|"," "))+"&subid2=swapgg"+(n?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var C="";"730"===t&&(C="csgo"),"570"===t&&(C="dota2"),"252490"===t&&(C="rust");s=a+"?subid1="+encodeURIComponent("/"+C+"/?query="+i)+"&subid2=lisskins"+(n?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var I="";"730"===t&&(I="csgo");s=a+"?subid1="+encodeURIComponent("/market/"+I+"#tab=selling&page_num=1&search="+i)+"&subid2=buff163"+(n?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var x=i,w="";"730"===t&&(w="csgo");s=a+"?subid1="+encodeURIComponent("/market/"+w+"?keyword="+x)+"&subid2=igxe"+(n?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var A=i;s=a+"?subid1="+encodeURIComponent("/buy?query="+A)+"&subid2=gamerpay"+(n?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var E=i;s=a+"?subid1="+encodeURIComponent("appId="+t+"&q="+E)+"&subid2=skinmonkey"+(n?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var T=i;s=a+"?subid1="+encodeURIComponent("appId="+t+"&q="+T)+"&subid2=skinmonkey"+(n?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){s=a+"?subid1="+i.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()+"&subid2=skinout"+(n?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){s=a+"?subid1="+i+"&subid2=whitemarket"+(n?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){s=a+"?subid1="+encodeURIComponent(i.replace(/&/,""))+"&subid2=haloskins"+(n?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){s=a+"?subid1="+(t+"/"+i.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase())+"&subid2=cs2go"+(n?"-side-menu":"")}return s},e.getPriceMarket=function(e){var t=_.get(),i=!1,n=0,a=0,s=0,r=0,o=0,l=0;return e.data&&(s=e.data.price||0,r=e.data.count||0,e.data.locked&&(o=e.data.locked.price||0,l=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(n=s,a=r),"B"===e.group&&(s?s>o&&o?(n=o,i=!0,a=l):(n=s,a=r):(n=o,a=l,i=!0)),"C"===e.group&&(n=o,a=l,i=!0)):"A"!==e.group&&"B"!==e.group||(n=s,a=r),{price:n,isLock:i,count:a}},e.makeNewData=function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING},e.loadMarkets=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e._statusLoadMarkers==e._statusLoadMarkersEnum.NO_LOADING){e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING;var a=null===t&&null===n?i.i(o.getPageParams)():{appId:t,marketHashName:n};if(a.marketHashName=decodeURIComponent(a.marketHashName),a){var s=p.get(),r=a.appId+"_"+a.marketHashName;if(sih_app_account&&(window.marketCacheTime=3e4),s[r]&&Date.now()-s[r].time<window.marketCacheTime)return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),void(e._marketplace.markets=s[r].data);var l=t&&n,d=e._getMarkets(a.appId,a.marketHashName,l),c={appId:a.appId,markets:d.map(function(e){return e.name}),items:[a.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:c},function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[a.marketHashName]&&t.items[a.marketHashName].csmoney&&(t.items[a.marketHashName].csmoney.csmoneyStore&&(t.items[a.marketHashName].csmoneyStore=t.items[a.marketHashName].csmoney.csmoneyStore),t.items[a.marketHashName].csmoney.csmoneyTrade&&(t.items[a.marketHashName].csmoneyTrade=t.items[a.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=d.map(function(e){return e.data=t.items[a.marketHashName]&&t.items[a.marketHashName][e.name],e}).filter(function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))}),s[r]={},s[r].data=e._marketplace.markets,s[r].time=Date.now(),p.set(s)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR})}}},e._getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.checkLoadMarkets=function(){var t=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(t){var i=_.get();i.market&&e.getMarkets().filter(function(e){return e.isView}).forEach(function(e){var t=i.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)})}return t},e.getMarkets=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e._marketplace?_.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter(function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price}):[]},e.getMarketLowerPrice=function(){var t=null;if(e.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var i=_.get(),n=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},a=function(e,t){return t.isServiceCommission?e||0:0},s=this.excludeBuyMarkets(e.getMarkets()).filter(function(e){return e.isView});s.length>1?t=s.reduce(function(t,s){var r=e.getPriceMarket(t),o=e.getPriceMarket(s);return r.price*n(t.depositPercentage,i)+a(t.fixedDepositPercentage,i)<o.price*n(s.depositPercentage,i)+a(s.fixedDepositPercentage,i)?t:s}):1===s.length&&(t=s[0])}return t},e.getOffersCount=function(e){var t=this;return this.excludeBuyMarkets(e).reduce(function(e,i){return e+t.getPriceMarket(i).count},0)},e.excludeBuyMarkets=function(e){var t=["csgocomBuy"];return e.filter(function(e){return!t.includes(e.name)})},l(e,null,[{key:"_markets",get:function(){return[{name:"waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"dmarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csgocomBuy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csmoney",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csmoneyStore",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"csmoneyTrade",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",sort:"B"},{name:"bitskins",isView:!0,appIds:["730","570","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"skinbaron",isView:!0,appIds:["730","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"shadowpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"mannco",isView:!0,appIds:["440","730","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"B"},{name:"tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"tradeitDeposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"cstrade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lootfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"buff163",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"cs2go",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"haloskins",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"igxe",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"gamerpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"skinsmonkey",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinsmonkeycash",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinout",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"bitskinsp2p",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"whitemarket",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"B"},{name:"sihmarket",isView:!1,appIds:["730"],link:null,data:null,group:"B"}]}}]),e}();d._statusLoadMarkersEnum={NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"},d._statusLoadMarkers=d._statusLoadMarkersEnum.NO_LOADING,d._marketplace=null;var c={"Factory new":{id:"FN",color:"#5EB648",min:0,max:.07},"Minimal Wear":{id:"MW",color:"#79D154",min:.07,max:.15},"Field-Tested":{id:"FT",color:"#E3E15B",min:.15,max:.38},"Well-Worn":{id:"WW",color:"#E9A75D",min:.38,max:.45},"Battle-Scarred":{id:"BS",color:"#E05A59",min:.45,max:1}},_={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},m={_name:"SIH_CONTROL_PANEL_MARKET_LISTINGS",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},u={_name:"SIH_MARKET_COMMODITY_ORDER_SPREAD",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},h={_name:"SIH_SEARCH_PAINT_SEED_AND_FLOAT_V3",get:function(){return o.localStorageJSON.get(this._name)},set:function(e){o.localStorageJSON.set(this._name,e)}},p={_name:"SIH_MARKETPLACES_CACHE",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},f={_name:"SIH_PRICE_HISTORY_GRAPH",get:function(){return o.localStorageJSON.get(this._name)},set:function(e){o.localStorageJSON.set(this._name,e)}}},function(e,t,i){"use strict";function n(e,t){return t.success&&!t.tfaNeed&&t.orders.data.length?[].concat(e,t.orders.data):e}function a(){var e=$J("#sih-header-cart"),t=e.find(".sih-global-menu__counter");l.SihAppGlobal.getAllBuyStack().then(function(i){var n=l.SihAppGlobal.getFilterItemsByStatus(i).length;n&&!t.length?(e.append('<span class="sih-global-menu__counter">'+n+"</span>"),e.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn()):n&&t.length?(e.addClass("active"),t.text(n),t.css("display","flex").fadeIn()):!n&&t.length&&(t.css("display","flex").fadeOut(),e.removeClass("active"))})}function s(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J("#sih-header-orders"),i=t.find(".sih-global-menu__counter"),a=$J("#sih-header-timer");$J(".sih-global-menu");l.SihAppGlobal.getAllBuyStack().then(function(s){l.SihAppGlobal.getUserOrdersHistory(e).then(function(e){var o=n(s,e),d=l.SihAppGlobal.getFilterItemsByStatus(o,["new","pending","created","processing","sent"]),c=d.length;c&&!i.length?(t.append('<span class="sih-global-menu__counter">'+c+"</span>"),t.addClass("active").find(".sih-global-menu__counter").css("display","flex").hide().fadeIn(),r()):c&&i.length?(t.addClass("active"),i.text(c),i.is(":visible")||i.css("display","flex").fadeIn(),r()):!c&&i.length&&(t.removeClass("active"),i.css("display","flex").fadeOut(),a.css("display","flex").fadeOut())})})}function r(){var e=$J("#sih-header-orders"),t=e.find(".sih-global-menu__counter"),r=$J("#sih-header-timer"),o=$J("#sih-header-timer__count"),u=$J(".sih-global-menu__spinner");r.is(":visible")||r.css("display","flex").fadeIn(),u.is(":visible")||u.css("display","flex").fadeIn(),e.is(":visible")||e.css("display","flex").fadeIn(),clearInterval(c),c=setInterval(function(){l.SihAppGlobal.getAllBuyStack().then(function(u){l.SihAppGlobal.getUserOrdersHistory().then(function(h){var p=n(u,h),f=l.SihAppGlobal.getFilterItemsByStatus(p,["new","pending","created","processing","sent"]);if(f.length){var g=f.find(function(e){return e.finishOrderAt}),b=f.map(function(e){return e.createdAt||new Date(e.created_at).getTime()}),v=l.SihAppGlobal.getFilterItemsByStatus(f,"new");if(v.length&&v.forEach(function(e){new Date(e.created_at).getTime()+m-Date.now()<0&&(l.SihAppGlobal.cancelSihAppOrder(e.id),l.SihAppGlobal.updateItemLocalHistoryOrders(e.id).then(function(e){e&&e.success&&s()}))}),g){var k=g.finishOrderAt-Date.now(),y=new Date(k).toISOString().slice(14,19);o.fadeIn().text(y),r.is(":visible")||(r.css("display","flex").fadeIn(),e.css("display","flex").fadeIn())}else JSON.stringify(_)!==JSON.stringify(b)&&(_=b,o.fadeOut().text(""),a(),i.i(d.ChangeItemCountInItemPage)(),s())}else clearInterval(c),t.css("display","flex").fadeOut(),o.fadeOut().text(""),r.css("display","flex").fadeOut(),e.removeClass("active").css("display","flex").fadeOut(),a(),i.i(d.ChangeItemCountInItemPage)(),s()})})},1e3)}t.b=a,t.a=s;var o=i(81),l=(i.n(o),i(18),i(0)),d=i(5),c=(i(34),i(53),i(6),null),_=null,m=6e5},function(e,t,i){"use strict";i.d(t,"b",function(){return d}),i.d(t,"g",function(){return c}),i.d(t,"d",function(){return _}),i.d(t,"j",function(){return m}),i.d(t,"e",function(){return u}),i.d(t,"a",function(){return h}),i.d(t,"k",function(){return p}),i.d(t,"f",function(){return f}),i.d(t,"c",function(){return g}),i.d(t,"m",function(){return b}),i.d(t,"i",function(){return v}),i.d(t,"h",function(){return S}),i.d(t,"l",function(){return C});var n=i(0),a=i(41),s=i(12),r=i(8),o=i(39),l=i(25);$J(window).off("beforeunload").on("beforeunload",function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RESELL_ITEMS"},function(e){}),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS"},function(e){})});var d={_name:"SIH_MARKET_RESUBMIT",get:function(){return n.localStorageJSON.get(this._name)},set:function(e){n.localStorageJSON.set(this._name,e)},getPercentAlert:function(e){var t=n.localStorageJSON.get(this._name);return{percent_alert:t?t["percent_alert_"+e]:20}}},c=function(e,t,i){var a=$J("#sih-resubmit-orders"),s=e.find(".sih-resubmit"),o=e.find(".sih-resubmit__btn"),l=e.closest(".my_listing_section").attr("data-table-id"),d=e.find(".market_listing_item_name_link").attr("href"),c=d.replace(/https:\/\/steamcommunity.com\/market\/listings\//,""),_=c.split("/"),m=_[0],u=_[1],g=p(e,t),b=g.oldSellingPrice,v=g.newSellingPrice,k=g.oldReceivePrice,y=g.newReceivePrice,S=g.formattedNewSellingPrice,C=g.formattedNewReceivePrice;if("manual"===t&&i){v=+i.val(),y=f(v);var I=Math.floor(window.PriceUtils.steamBuyerPrice(y,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;I<v&&(v=I),S=n.Currency.getPriceFromCurrency(+v,currencyId,currencyId).text,C=n.Currency.getPriceFromCurrency(y/100,currencyId,currencyId).text,o.attr("data-state","manual"),o.find("img").attr("src","chrome-extension://"+SIHID+"/assets/market/resubmit/resubmit_manual.svg").attr("alt","manual")}var x="manual"!==t?h(e):a[0].itemInfo?a[0].itemInfo:e[0].itemInfo,w=r.a.get(),A=w.commission,E=void 0===A||A;if(s.before('\n      <div class="resubmit-price">\n        <div class="column">\n            <span class="resubmit-price__selling"\n                data-old-price="'+b.toFixed(2)+'"\n                data-new-price="'+v.toFixed(2)+'">\n                '+S+"\n            </span>\n            "+("sell_listings"===l?'\n              <span class="resubmit-price__receive fs-12"\n                style="display: '+(E?"flex":"none")+'"\n                data-old-price="'+k/100+'"\n                data-new-price="'+y/100+'">\n                ('+C+")\n              </span>\n            ":"")+"\n\n        </div>\n      </div>\n      "),"sell_listings"===l){var T={market_hash_name:u,listingid:x[1],appid:x[2],contextid:x[3],assetid:x[4],amount:1,price:y};n.SellListing.setItem(T),s.find(".sih-resubmit__undo").attr("data-id",""+x[4])}else{var L=+e.find(".market_listing_buyorder_qty .market_listing_price").text(),H={payload:{buy_orderid:x[0],sessionid:g_sessionID,currency:g_rgWalletInfo&&g_rgWalletInfo.wallet_currency?g_rgWalletInfo.wallet_currency:1,appid:m,market_hash_name:decodeURIComponent(u),price_total:100*v*L,quantity:L,billing_state:"",save_my_address:0},requestHeaders:{referer:d}};n.BuyOrders.setItem(H),s.find(".sih-resubmit__undo").attr("data-id",""+x[0])}e.css("background-color","#101822").addClass("stack")},_=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",data:{steamId:g_steamID}},function(t){e(t)})})},m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=h(e),l=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",d=r||!!e.find(".sih-market-alert").length,c=e.find(".market_listing_item_name_link").attr("href"),_=e.find(".market_listing_item_img").attr("src"),m=e.find(".market_listing_item_img").css("border-color"),u=e.find(".market_listing_item_name_link").text(),p=e.find(".market_listing_game_name").text(),f="sell_listings"===l?e.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):e.find(".sih_listing_my_price"),g="sell_listings"===l?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),b="sell_listings"===l?f.find("span:first-child").text().trim():f.text().trim(),v=b.match(RegExp(/([\d+?., ]+)/g))||"0",S=i.i(n.parseNumber)("0"!==v?v[0]:v),C=g.match(RegExp(/([\d+?., ]+)/g))||"0",I=i.i(n.parseNumber)("0"!==C?C[0]:C),x=e.find(".resubmit-price__selling").length?+e.find(".resubmit-price__selling").attr("data-new-price"):0,w=$J('\n      <div class="sih-market-content__item">\n\n        <div class="sih-market-content__item-info row items-center">\n            <img class="sih-market-content__image market_listing_item_img" src="'+_+'" style="border-color: '+m+'">\n            <div class="column">\n                <a href="'+c+'" target="_blank" class="sih-market-content__item-name text bold" title="'+u+'">'+u+'</a>\n                <span class="text fs-12 text_grey-900">'+p+'</span>\n            </div>\n        </div>\n\n        <div class="sih-market-content__compare">\n\n            <a href="javascript:void(0)" class="sih-market-content__current-price row items-center gap-15" data-price="'+S+'">\n\n              '+(d?'\n                 <span class="sih-market-alert row items-center" title="">\n                    <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z" fill="#C44E4E"/>\n                    </svg>\n                 </span>\n              ':"")+'\n\n              <span class="text text_white bold text-center text-ellipsis">'+b+'</span>\n            </a>\n\n            <div class="row justify-center items-center w-24 h-24">\n                <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="#9EA7B3"/>\n                </svg>\n            </div>\n\n            <label for="sih-market-content-input-'+t+'" class="sih-market-content__input-outer row justify-between items-center bg-black-100 py-8 px-24 br2-grey">\n\n               <input type="number" id="sih-market-content-input-'+t+'" class="sih-market-content__input text '+(r?"text_red":"text_white")+' bg-transparent border-none" value="'+(x||S)+'" step="0.01" min="0.03">\n\n                <label for="sih-market-content-input-'+t+'" class="sih-market-content__best-price row gap-5" data-price="'+I+'">\n                    '+(d?'<span class="text text_red">'+SIHLang.market.resubmit_orders.market_price+'</span>\n                        <span class="text text_red">'+g+"</span>":'<span class="text text_grey-900">'+SIHLang.market.resubmit_orders.market_price+'</span>\n                        <span class="text text_grey-900">'+g+"</span>")+"\n                </label>\n\n            </label>\n\n            "+(r?'\n              <a href="javascript:void(0)" class="sih-market-content__remove">\n                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="#9EA7B3"/>\n                </svg>\n              </a>\n            ':"")+"\n          </div>\n\n      </div>\n    ");w[0].itemInfo=o;var A=w.find(".sih-market-content__current-price"),E=w.find(".sih-market-alert");return k(A),y(E,l),w.find(".sih-market-content__item-name").tooltip({position:{my:"left top",at:"left bottom"}}),w.find(".sih-market-content__remove").length&&w.find(".sih-market-content__remove").click(function(){var t=$J(this),r=t.closest(".sih-market-content__item");e.find(".resubmit-price").remove(),e.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),"sell_listings"===l?n.SellListing.removeItem(o[4]):n.BuyOrders.removeItem(o[0]),i.i(s.a)(l),r.fadeOut(300,function(){r.remove();var e=$J('.my_listing_section[data-table-id="'+l+'"] .market_listing_row.stack[id^="'+("sell_listings"===l?"mylisting":"mybuyorder")+'"]'),t=e?e.length:0;i.i(a.a)(),t||i.i(a.b)()})}),w},u=function e(){function t(){return!i&&n}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=$J("#sih-resubmit-orders"),s=$J("#tabContentsMyActiveMarketListingsTable"),r=a.find(".sih-market-content__input"),o=+s.find("#totalRow0 .sih-total-sell__receive").attr("data-price"),l=0;s.find("#totalRow0 .total-resubmit-price__receive").length&&(o=+s.find("#totalRow0 .total-resubmit-price__receive").attr("data-price")),$J("#await_listings").length&&(l=+$J("#totalRow1").find(".sih-market-total__receive").attr("data-price"));var d=i?i.closest(".sih-market-content__compare").find(".sih-market-content__current-price").length?i.closest(".sih-market-content__compare").find(".sih-market-content__current-price"):i.closest(".sih-modal").find(".sih-resubmit-orders__current-price"):a.find(".sih-market-content__current-price"),c=i&&n?i:a.find("#sih-resubmit-orders-group-input-all"),_=i?i.closest(".sih-market-content__item").siblings().find(".sih-market-content__input"):a.find(".sih-market-content__item"),m=+g_rgWalletInfo.wallet_balance/100,u=+g_rgWalletInfo.wallet_max_balance/100,h=+g_rgWalletInfo.wallet_trade_max_balance/100,p=+d.attr("data-price"),g=f(p)/100,b=+c.val()<.03?.03:+c.val()>h?h:+c.val(),v=f(b)/100,k=0;i?_.each(function(e,t){var i=$J(t);k+=+i.val()}):k=b*_.length;var y=k?f(k)/100:0,S=Math.ceil(1.15*(u-m-(o+l+(i?y:0)-g))*100)/100;(i?v:0)+y+o+l>u-m?S>h?t()&&r.each(function(t,i){var n=$J(i);e(n,!1)}):(n?"sih-resubmit-orders-group-input-all"!==c.attr("id")&&(b<=S?c.val(b):c.val(S)):b<=S&&i.val(b),t()&&r.each(function(t,i){var n=$J(i);e(n,!1)})):t()?(c.val(b),r.val(c.val())):b<=S&&i.val(b)},h=function(e){return e.find(".item_market_action_button.item_market_action_button_edit").attr("href").match(/\((.+)\)/)[1].replace(/['\s]/g,"").split(",")},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",s=e.find(".sih_listing_my_price").text().trim(),r="sell_listings"===a?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),o=s.match(RegExp(/([\d+?., ]+)/g))[0].trim()||"0",l=r.match(RegExp(/([\d+?., ]+)/g))[0].trim()||"0",d=i.i(n.parseNumber)(o),c="0"!==l?i.i(n.parseNumber)(l):d;c&&("default"===t?"sell_listings"===a?c-=.01:c+=.01:"percent"===t&&(c="sell_listings"===a?Math.floor(100*(c-.01*c))/100:Math.floor(100*(c+.01*c))/100));var _=f(d),m=c?f(c):_,u=Math.floor(window.PriceUtils.steamBuyerPrice(m,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;return u<c&&(c=u),{oldSellingPrice:d,newSellingPrice:c,oldReceivePrice:_,newReceivePrice:m,formattedNewSellingPrice:n.Currency.getPriceFromCurrency(c,currencyId,currencyId).text,formattedNewReceivePrice:n.Currency.getPriceFromCurrency(m/100,currencyId,currencyId).text}},f=function(e){var t=getPriceAsInt(""+Math.floor(100*e)/100),i=g_rgWalletInfo.wallet_publisher_fee_percent_default;return t-CalculateFeeAmount(t,i).fees},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sell_listings";i.i(r.b)(e).each(function(t,a){var s=$J(a),r=s.find(".sih_listing_my_price"),l="sell_listings"===e?s.find(".market_listing_minimum .market_listing_minimum--text"):s.find(".market_listing_buyorder_max .market_listing_price");if(l.length){var c=r.text().match(RegExp(/([\d+?., ]+)/g))?r.text().match(RegExp(/([\d+?., ]+)/g))[0].trim():"0",_=i.i(n.parseNumber)(c),m=l.text().match(RegExp(/([\d+?., ]+)/g))?l.text().match(RegExp(/([\d+?., ]+)/g))[0].trim():"0",u=i.i(n.parseNumber)(m);if(u&&_&&("sell_listings"===e?u<_:u>_)){var h=100*u,p=100*_,f=Math.round(i.i(n.getPercentNumberDifference)(h,p,"sell_listings"===e?-1:1)),g=d.getPercentAlert(e),b=g.percent_alert,v=void 0===b?20:b;s.find(".sih-market-alert").remove(),f<=-v&&i.i(o.a)(e,s),s.hasClass("red-bg")||(s.addClass("red-bg"),s.prepend('<div class="sih-listing__color-cell start red"></div>'),s.append('<div class="sih-listing__color-cell end red"></div>'))}}})},b=function(e){var t=Object.values(e).reduce(function(e,t){return Object.values(t).forEach(function(t){Object.values(t).forEach(function(t){if(2===t.status){var i=t.appid,n=t.contextid,a=t.id,s=t.classid,r=t.instanceid,o={appid:""+i,contextid:n,assetid:a,classid:s,instanceid:r};e.push(o)}})}),e},[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SAVE_ITEM_FOR_SALE",data:t},function(){})},v=function(e){var t=e.find(".sih-market-content__item"),i=!1;return t.each(function(e,t){var n=$J(t),a=n.find(".sih-market-content__input"),s=a.val();+n.find(".sih-market-content__current-price").attr("data-price")!=+s&&(i=!0)}),i},k=function(e){e.attr("title",""+SIHLang.market.resubmit_orders.tooltips.current_price).tooltip({position:{my:"left top",at:"left bottom"},tooltipClass:"sih-tooltip__current-price"})},y=function(e,t){var n=d.getPercentAlert(t),a=n.percent_alert,s=void 0===a?20:a,r=$J('\n        <div class="sih-global">\n             <div class="column gap-5">\n                <span class="text">\n                    '+("sell_listings"===t?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1)+'\n                    <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">'+s+"%</a>\n                    "+("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"")+'\n                </span>\n                <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.tooltips.alert_info_edit+"</a>\n            </div>\n        </div>\n    ");e.tooltip({content:r.text(),position:{my:"left top",at:"left bottom",using:function(e,n){r.find(".sih-edit-alert__btn").click(function(){i.i(l.a)(t)}),$J(this).css(e),$J(".ui-tooltip-content").hide(),$J(this).append(r),$J(".sih-tooltip__current-price").hide()}}}).on("mouseenter",function(t){e.not($J(this)).tooltip("close")}).on("mouseleave",function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()}),$J("body").on("mouseleave",".ui-tooltip",function(t){e.tooltip(),e.tooltip("close")})},S=function(){var e=$J(".pq-container"),t=$J(".sih-toolbar:visible:not(.animate-down)"),i=$J(".sih-change-panel:visible:not(.animate-down)"),n=$J(".sih-progress-panel:visible:not(.animate-down)");t.length||i.length?e.css("bottom","15vh"):n.length?e.css("bottom","40px"):e.css("bottom","3px")},C=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J(".market_listing_table_header .select-checkbox"),n=i.i(r.b)("sell_listings"),a=i.i(r.b)("await_listings"),s=i.i(r.b)("buy_orders"),o=$J(".sih-select-overprices"),l=$J("#tabContentsMyActiveMarketListings_controls");n.children().toggleClass("pointer-events-none",e),a.children().toggleClass("pointer-events-none",e),s.children().toggleClass("pointer-events-none",e),o.toggleClass("pointer-events-none",e),t.toggleClass("pointer-events-none",e).parent().addClass("sih-global"),l.addClass("sih-global").children().toggleClass("pointer-events-none",e)}},function(e,t,i){"use strict";function n(){r(),i.i(v.a)(),i.i(k.a)(),i.i(b.a)(),i.i(g.a)(),i.i(f.a)(),i.i(S.a)(),o()}function a(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];C=e&&e.attr("data-name")?e.attr("data-name"):null,$J(".sih-subscribe-ads").show(),t?p.SihAppGlobal.getUserSihApp().then(function(e){l()}):l()}function s(){$J(".sih-subscribe-ads").hide().remove()}function r(){$J("body").find("#mainContent").length>0?$J("#mainContent").addClass("sih-pagecontent"):$J("#mainContents").addClass("sih-pagecontent"),$J(".inventory_page").addClass("sih-inventory_page");var e=$J(".sih-pagecontent");e.find(".sih-subscribe-ads").length||e.append('\n    <div class="sih-modal__fade sih-subscribe-ads">\n      <div class="sih-modal sih-global loader-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner sih-loader">\n            <div class="sih-logo-loader"></div>\n        </div>\n      </div>\n    </div>\n  ')}function o(){m()}function l(){p.SihAppGlobal.getLoginSihAppUser().then(function(e){e.success?d(e):(window.sih_app_account=!0,e.hasOwnProperty("auth")?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},function(){d()}):d())}),new h.a({location:location.href,SIHID:SIHID}).register({target:"sih-adept-button",targetType:"button",action:"click"})}function d(){function e(){var e=setInterval(function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(t){t.success&&!t.authorization&&(clearInterval(e),t.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):p.SihAppGlobal.getSubscribeAds().then(function(e){e.success?c():_()}))})},500)}function t(){i.tfaNeed?($J(".sih-subscribe-ads").hide(),$J("#sih-enter-password").attr("data-show-modal","subscription-info").show()):_()}var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;p.SihAppGlobal.getSubscribeAds().then(function(n){n.success?c():i?t():e()})}function c(e){$J(".sih-modal.loader-tab").hide(),e?i.i(f.b)(e.subscribes):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(e){i.i(f.b)(e.subscribes)}),$J(".sih-modal.active-plan-tab").show()}function _(){p.SihAppGlobal.getSubscribeAdsPlans().then(function(e){e&&e.length&&i.i(v.b)(e)}),$J(".sih-modal.loader-tab").hide(),C?$J(".sih-modal."+C).show():$J(".sih-modal.subscription-info-tab").show()}function m(){$J(document).off("keydown").keydown(function(e){27===e.keyCode&&(e.stopPropagation(),s(),i.i(y.a)())}),$J(".sih-subscribe-ads").find(".sih-modal__close").each(function(e,t){$J(t).off("click").click(function(){s()})}),$J(".sih-subscribe-ads").find(".sih-modal__button-exit").click(function(){s()})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadSubscribeAds=n,t.ShowModalSubscribeAds=a,t.SetModalSubscribeToDefaultState=s;var u=i(68),h=(i.n(u),i(47)),p=i(0),f=i(21),g=i(22),b=i(51),v=i(31),k=i(27),y=i(6),S=i(30),C=void 0},function(e,t,i){"use strict";function n(){if(730==+i.i(m.getPageParams)().appId&&sih_app_account&&g_steamID)var e=setInterval(function(){if(_.a.checkLoadMarkets()){clearInterval(e);var t=_.a.getMarkets().find(function(e){return"sihmarket"===e.name});if(t){var i=_.a.getPriceMarket(t);i&&i.price&&i.price>=.01&&(a(Math.ceil(100*i.price)/100,"sih"),r(),o().then(function(){l()}))}}},100)}function a(e,t){var n=_.b.get(),a=m.Currency.getPriceFromCurrency(1,n.currencyCode).text,s=i.i(m.formatNumberToLocalRu)(e,1),r=i.i(m.formatNumberToLocalRu)(e,n.currencyCode),o=$J("#sih_block_best_offer_of_marketplace_tabs_2"),l=$J('\n    <div class="sih-v-splitter"></div>\n    <div class="sih_market column sihmarket_container">\n\n        <div class="title">'+SIHLang.sihAppMarket.listing_lot.sih_best_price+'</div>\n\n        <div class="sih_market__column items-start '+(1==+n.currencyCode?"mb-18":"")+'">\n                <span class="sih_market__price">'+(1!==n.currencyCode?r:s)+"</span>\n              "+(1!=+n.currencyCode?'<span class="sih_market__text sih_market__text--gray sih_converted-market__price pt-2" title="'+SIHLang.sihAppMarket.listing_lot.current_rate+"  $1 - "+a+'">'+s+"</span>":"")+'\n        </div>\n\n        <div class="sih_market__row mt-16 gap-12">\n            <a href="javascript:void(0)" id="sih_market__add-to-cart" class="sih_market__button sih_market__button--blue sih_market__button--cart">\n                <span class="sih_market__text sih_market__text--small sih_market__text--white text-uppercase">'+SIHLang.sihAppMarket.listing_lot.add_cart+'</span>\n\n                 <div class="sih_market__in-cart sih_market__row">\n                     <svg width="16" height="16" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16.21 7H21C21.55 7 22 7.45 22 8L21.97 8.27L19.43 17.54C19.19 18.38 18.42 19 17.5 19H4.5C3.58 19 2.81 18.38 2.58 17.54L0.04 8.27C0 8.18 0 8.09 0 8C0 7.45 0.45 7 1 7H5.79L10.17 0.45C10.36 0.16 10.68 0 11 0C11.32 0 11.64 0.16 11.83 0.44L16.21 7ZM13.8 7L11 2.8L8.2 7H13.8Z" fill="white"/>\n                     </svg>\n\n                     <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="white"/>\n                     </svg>\n\n                </div>\n            </a>\n        </div>\n        <div class="sih_market__error"></div>\n    </div>\n  ');l.find(".sih_converted-market__price").tooltip({position:{my:"left bottom",at:"left top"}}),0!==o.find(".sih_market").length&&(o.find(".sih-v-splitter").remove(),o.find(".sihmarket_container").remove()),o.find(".markets_container").append(l),$J(".market_container").hide()}function s(e){var t=$J("#sih_block_best_offer_of_marketplace_tabs_2");if(e){var i=t.find(".sih_market__row--cart-counter"),n=t.find("#sih_market__add-to-cart"),a=e.filter(function(e){return!e.status}).length;if(!i.length&&a){n.find(".sih_market__in-cart").css("display","flex").show(),n.find(".sih_market__text").text(""),n.after('\n           <div class="sih_market__row px-5 sih_market__row--grey sih_market__row--br2-grey sih_market__row--cart-counter">\n                        <a href="javascript:void(0)" id="sih_market__decrement" class="sih_market__button sih_market__button--grey"></a>\n                        <input type="number" id="sih_market__cart-count-input" class="sih_market__input">\n                        <a href="javascript:void(0)" id="sih_market__increment" class="sih_market__button sih_market__button--grey"></a>\n           </div>\n          ');var s=t.find("#sih_market__increment");a>=p&&s.addClass("opacity-5 pointer-events-none"),t.find("#sih_market__cart-count-input").val(a),t.find(".sih_market__row--cart-counter").css("display","flex").hide().fadeIn()}}}function r(){var e=$J(".sih_market"),t=e.find("#sih_market__add-to-cart"),n=e.find(".sih_market__error");t.click(function(){var t=e.find(".sih_market__row--cart-counter"),a=n.find(".sih-modal__error_message");t.length&&"none"!==t.css("display")?$J("#sih-header-cart").trigger("click"):(m.SihAppGlobal.setItemToBuyStack({}).then(function(t){s(t),l(),i.i(u.b)(),d();var n=e.find("#sih_market__increment"),a=e.find("#sih_market__cart-count-input");(a.val()?+a.val():1)>=p-1&&n.addClass("opacity-5 pointer-events-none")}).catch(function(e){m.SihAppGlobal.errorHandler(null,n,a,e.error)}),i.i(h.e)())})}function o(){return new Promise(function(e){var t=encodeURIComponent(i.i(m.getPageParams)().marketHashName);m.SihAppGlobal.getAllItemsBuyStackByName(t).then(function(t){s(t),e()})})}function l(){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2"),t=e.find(".sih_market__error"),n=e.find("#sih_market__increment"),a=e.find("#sih_market__decrement"),s=e.find("#sih_market__cart-count-input"),r=encodeURIComponent(i.i(m.getPageParams)().marketHashName);n.click(function(){var e=t.find(".sih-modal__error_message");+s.val()>=p-1&&$J(this).addClass("opacity-5 pointer-events-none"),m.SihAppGlobal.setItemToBuyStack({}).then(function(e){d(),i.i(u.b)(),t.hide()}).catch(function(i){m.SihAppGlobal.errorHandler(null,t,e,i.error)})}),a.click(function(){var e=t.find(".sih-modal__error_message");+s.val()<=p&&n.removeClass("opacity-5 pointer-events-none"),m.SihAppGlobal.deleteItemFromBuyStack(r).then(function(){d(),i.i(u.b)(),t.hide()}).catch(function(i){m.SihAppGlobal.errorHandler(null,t,e,i.error)})}),s.focusout(function(){var e=Math.ceil($J(this).val());e=m.SihAppGlobal.validateInput(e,p),e>=p?n.addClass("opacity-5 pointer-events-none"):n.removeClass("opacity-5 pointer-events-none");var a=t.find(".sih-modal__error_message");m.SihAppGlobal.getAllItemsBuyStackByName(r).then(function(n){var s=n.filter(function(e){return!e.status}).length;e>=s&&1!==e?m.SihAppGlobal.setItemToBuyStack({hashName:r,countAdd:e}).then(function(e){d(),i.i(u.b)(),t.hide()}).catch(function(e){m.SihAppGlobal.errorHandler(null,t,a,e.error)}):m.SihAppGlobal.deleteItemFromBuyStack(r,e).then(function(e){d(),i.i(u.b)(),t.hide()}).catch(function(e){m.SihAppGlobal.errorHandler(null,t,a,e.error)})})})}function d(){var e=$J("#sih_block_best_offer_of_marketplace_tabs_2"),t=e.find(".sih_market__row--cart-counter"),n=e.find("#sih_market__cart-count-input"),a=e.find("#sih_market__add-to-cart"),s=i.i(m.getPageParams)().marketHashName,r=encodeURIComponent(s);m.SihAppGlobal.getAllItemsBuyStackByName(r).then(function(e){var i=m.SihAppGlobal.getFilterItemsByStatus(e),r=i.length;if(r){i.find(function(e){return e.market_hash_name===s})&&(n.val(r),"none"===t.css("display")&&(t.show(),a.find(".sih_market__in-cart").css("display","flex").show(),a.find(".sih_market__text").text("")))}else t.hide(),a.find(".sih_market__in-cart").hide(),a.find(".sih_market__text").text(SIHLang.sihAppMarket.listing_lot.add_cart)})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n,t.ChangeItemCountInItemPage=d;var c=i(78),_=(i.n(c),i(1)),m=i(0),u=i(2),h=i(9),p=1},function(e,t,i){"use strict";function n(){o(),i.i(u.a)(),i.i(h.a)(),d()}function a(){var e=$J(".refill-sih-balance"),t=+e.attr("data-refill-amount"),i=p.localStorageJSON.get("SIH_REFILL_BALANCE")||{},n=i.country?i.country:"usa",a="rus"===n?5:1,s=p.Currency.getPriceFromCurrency(t,a).text;e.find(".refill-sih-balance__refill-amount").text(s)}function s(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__inner").hide(),e.find(".sih-modal__inner.sih-loader").css("display","flex").show()}function r(){$J(".refill-sih-balance").hide().remove(),$J("body").css("overflow","auto"),n()}function o(){var e=$J("body"),t=$J('\n      <div class="refill-sih-balance">\n         <div class="refill-sih-balance__fade"></div>\n         <div class="sih-modal sih-global refill-sih-balance__modal">\n          <div class="refill-sih-balance__close"></div>\n          <div class="refill-sih-balance__content">\n\n              <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n                <span class="sih-modal__back_icon"></span>\n                <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.back+'</span>\n              </div>\n              <div class="sih-modal__inner refill-sih-balance__inner">\n\n                <div class="refill-sih-balance__tab sih-modal__column gap-20" data-title="main">\n\n                     <div class="sih-modal__column">\n                        <span class="sih-modal__title">'+SIHLang.refillBalance.title+'</span>\n                        <div class="sih-modal__row refill-sih-balance__subtitle gap-5">\n                             <span>'+SIHLang.refillBalance.subtitle+'</span>\n                             <span class="refill-sih-balance__refill-amount"></span>\n                        </div>\n\n                    </div>\n\n                    <div class="sih-modal__column gap-10">\n                       <span class="sih-modal__text sih-modal__text_lg">'+SIHLang.refillBalance.payment_country+':</span>\n                       <div class="sih-modal__row refill-sih-balance__select-country-outer"></div>\n                    </div>\n\n\n                    <div class="sih-modal__column">\n                       <span class="sih-modal__text sih-modal__text_lg">'+SIHLang.refillBalance.payment_method+':</span>\n                       <div class="sih-modal__row refill-sih-balance__payment-methods mt-10"></div>\n                    </div>\n                </div>\n\n              </div>\n              <div class="sih-modal__inner sih-loader">\n                <div class="sih-logo-loader"></div>\n              </div>\n\n          </div>\n\n      </div>\n    </div>\n\n\n  ');e.find(".refill-sih-balance").length||e.append(t);var i=p.localStorageJSON.get("SIH_REFILL_BALANCE")||{};i&&i.readRefillTerms||l(t)}function l(e){function t(){n.find(".close-info-message").click(function(){n.find(".refill-sih-balance__info-message").hide()})}function i(){a.find("#refill-terms").change(function(){var e=$J(this),t=e.is(":checked"),i=p.localStorageJSON.get("SIH_REFILL_BALANCE")||{};i.readRefillTerms=t,p.localStorageJSON.set("SIH_REFILL_BALANCE",i)})}var n=e.find(".refill-sih-balance__modal"),a=$J('\n    <div class="refill-sih-balance__info-message sih-modal__column w-100per h-100per absolute left-0 bottom-0 justify-end bg-glass">\n        <div class="sih-modal__column bg-main gap-15 px-36 py-36 items-start rounded-b-8">\n          <span class="title">'+SIHLang.refillBalance.info_message.title+'</span>\n          <span class="sih-modal__text sih-modal__text_md">'+SIHLang.refillBalance.info_message.text_1+'</span>\n          <span class="sih-modal__text sih-modal__text_md">'+SIHLang.refillBalance.info_message.text_2+'</span>\n          <div class="sih-modal__text sih-modal__text_md">'+SIHLang.refillBalance.info_message.text_3+' <a href="https://sih.app/user/subscription" target="_blank" class="sih-modal__text_blue text-decoration-underline hover-opacity-8">https://sih.app/user/subscription</a></div>\n          <div class="sih-modal__row items-center gap-20">\n              <a href="javascript:void(0)" class="close-info-message sih-modal__button sih-modal__button_blue py-16 px-24">'+SIHLang.refillBalance.info_message.btn_text+'</a>\n              <label class="sih-modal__refill-terms" for="refill-terms">\n                <input type="checkbox" name="refill-terms" id="refill-terms" class="sih-modal__input_hidden">\n                <label class="fake-checkbox" for="refill-terms"></label>\n                <span class="sih-modal__text sih-modal__text_md">'+SIHLang.refillBalance.info_message.refill_terms+"</span>\n              </label>\n          </div>\n\n        </div>\n    </div>\n  "),s=n.find(".refill-sih-balance__info-message");s.length?s.show():n.append(a),function(){t(),i()}()}function d(){c(),_()}function c(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__close").off("click").click(function(){r()}),e.find(".refill-sih-balance__fade").off("click").click(function(){r()})}function _(){var e=$J(".refill-sih-balance"),t=e.find(".refill-sih-balance__inner");e.find(".sih-modal__back").off("click").click(function(){var i=t.find(".refill-sih-balance__tab:visible"),n=i.data("prev-title");n?(i.hide(),t.find(".refill-sih-balance__tab").each(function(e,t){var i=$J(t);i.data("title")===n&&i.css("display","flex").show()})):e.hide()})}t.d=n,t.c=a,t.b=s,t.a=r;var m=i(55),u=(i.n(m),i(48)),h=i(16),p=i(0)},function(e,t,i){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise(function(t){_.SihAppGlobal.getAllBuyStack().then(function(i){for(var n=_.SihAppGlobal.getFilterItemsByStatus(i,e),a=[],s=[],r=[],o=n,l=Array.isArray(o),d=0,o=l?o:o[Symbol.iterator]();;){var c;if(l){if(d>=o.length)break;c=o[d++]}else{if(d=o.next(),d.done)break;c=d.value}var m=c;0!==a.length&&a.includes(m.market_hash_name)||a.push(m.market_hash_name)}for(var u=a,h=Array.isArray(u),p=0,u=h?u:u[Symbol.iterator]();;){var f;if(h){if(p>=u.length)break;f=u[p++]}else{if(p=u.next(),p.done)break;f=p.value}var g=f,b=encodeURIComponent(g);r.push(_.SihAppGlobal.getAllItemsBuyStackByName(b))}Promise.all(r).then(function(i){i.forEach(function(t){var i=_.SihAppGlobal.getFilterItemsByStatus(t,e);s.push(i)});var n=s.sort(function(e,t){return Math.min.apply(Math,e.map(function(e){return e.createdAt}))>Math.min.apply(Math,t.map(function(e){return e.createdAt}))?1:-1});t(n)})})})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cart-tab";return new Promise(function(t){"cart-tab"!==e?_.SihAppGlobal.getLoginSihAppUser().then(function(e){t(e.success&&e.user?e.user.balance/1e3:null)}):t(null)})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=$J("#sih-modal__buy-orders").find(".sih-modal."+e),s=i.find("."+e+"__content");return s.children().remove(),new Promise(function(r,o){a(e).then(function(a){var o=0,l={};n(t).then(function(t){t&&t.length||r(),t.forEach(function(n,d){var c=0,m=0,u=0,h=n.length,p=n[h-1],f=[],g=void 0,S=void 0,C=void 0,I=[];if("cart-tab"!==e){C=v.items[p.market_hash_name].sihmarket.count||k;var x=n.length;I=n.slice(C,x),n=n.slice(0,C)}var w=I.map(function(e){return e?{createdAt:e.createdAt,statusCode:null}:{}});if(I&&I.length){var A,E=encodeURIComponent(I[0].market_hash_name);Object.assign(l,(A={},A[E]=w,A))}o+=n.reduce(function(t,n){if("cart-tab"!==e){o+t+(n.isChecked?n.price:0)<=a?(c++,t+=n.isChecked?n.price:0,s=i.find("."+e+"__content.available"),g=n):(u++,m+=n.isChecked?n.price:0,s=i.find("."+e+"__content.unavailable"),S=n);f.find(function(e){return e.attr("class")===s.attr("class")})||f.push(s)}else f.length||f.push(s);return t},0);var T=n.length;f.forEach(function(i){"cart-tab"!==e&&(i.hasClass("available")?(p=g,T=c):(p=S,T=u));var a=p.price,s=null!==a?_.Currency.getPriceFromCurrency(a,b).text:null,o=_.Currency.getPriceFromCurrency(a*T,b).text,m=!0;if(i.find(".sih-modal__row_item").each(function(e,t){$J(t).find(".sih_item_order_name").each(function(e,t){var i=$J(t).text();p.market_hash_name===i&&(m=!1)})}),!i.find(".sih_item_order_name").length||m){var h=$J('\n                     <div class="sih-modal__row sih-modal__row_item items-center justify-between bg-black-200 py-13 px-24">\n                 <div class="sih-modal__row items-center w-265">\n                   <a href="'+p.url+'" class="sih-modal__image mr-20">\n                        <img class="w-62 h-47" src="'+p.image+'">\n                    </a>\n\n                     <div class="sih-modal__column gap-6">\n                       <a href="'+p.url+'" class="sih_item_order_name sih-modal__text sih-modal__text_md sih-modal__text_white sih-modal__text_bold max-w-200 text-ellipsis lh-16">'+p.market_hash_name+'</a>\n                       <div class="sih-modal__row gap-15 items-center">\n\n                         <a href="javascript:void(0)" class="sih-modal__remove-item sih-modal__text sih-modal__text_sm sih-modal__text_blue lh-16">'+SIHLang.sihAppMarket.global.delete+'</a>\n                       </div>\n\n                     </div>\n                 </div>\n\n                  <div class="sih-modal__column">\n                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 '+(p.isChecked&&a&&a>0?"":"pointer-events-none opacity-5")+'">\n                          <a href="javascript:void(0)" class="sih-modal__decrement sih-modal__button py-8 px-14"></a>\n                          <input type="number" class="sih-modal__row sih-modal__cart-count-input sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="'+T+'">\n                          <a href="javascript:void(0)" class="sih-modal__increment sih-modal__button py-8 px-14 '+(T>=y?"opacity-5 pointer-events-none":"")+'"></a>\n                     </div>\n                     '+(i.hasClass("available")||i.hasClass("unavailable")?'\n                       <div class="sih-modal__row justify-center">\n                          <span class="sih-modal__buy-stack-count sih-modal__text sih-modal__text_sm opacity-5">'+(c+u)+'</span>\n                          <span class="sih-modal__text sih-modal__text_sm opacity-5">/</span>\n                          <span class="sih-modal__buy-available-count sih-modal__text sih-modal__text_sm opacity-5">'+C+"</span>\n                        </div>\n                        ":"")+'\n\n                  </div>\n\n                  <div class="sih-modal__row gap-30 items-center">\n                      <div class="sih-modal__column_price sih-modal__column items-end w-100">\n                      <div class="sih-modal__row items-center gap-2">\n                         <div class="sih-modal__row mr-5">\n                            <img class="w-22 h-22" src="chrome-extension://'+SIHID+"/assets/marketplace/mini-icons/"+p.providerName+'.svg" alt="'+p.providerName+'">\n                         </div>\n                         <span class="sih-modal__item-row-single-price sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis">'+(null!==s?s:""+SIHLang.sihAppMarket.global.not_available)+'</span>\n                          <span class="sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis">'+(null!==s?"/":"")+'</span>\n                         <span class="sih-modal__item-row-count sih-modal__text sih-modal__text_sm sih-modal__text_white text-ellipsis">'+(null!==s?T+""+SIHLang.sihAppMarket.global.units:"")+'</span>\n                      </div>\n                      <span class="sih-modal__item-row-price-group sih-modal__text sih-modal__text_md sih-modal__text_white text-ellipsis">'+(null!==s?o:"")+"\n                      </span>\n                   </div>\n                  </div>\n\n              </div>\n                ");if("ordering-tab"===e){var f="",v=void 0;i.hasClass("available")?(v=n.map(function(e){return e.createdAt}).slice(0,c),f="available-"):(v=n.map(function(e){return e.createdAt}).slice(c,n.length),f="unavailable-"),h[0].createTimestamps=v;var k='\n                  <label class="sih-modal__row items-center -mr-14" for="'+f+"select-item-"+d+'">\n                          <input type="checkbox" name="'+f+"select-item-"+d+'" id="'+f+"select-item-"+d+'" class="select-item hidden" '+(p.isChecked?"checked":"")+'>\n                          <label class="fake-checkbox" for="'+f+"select-item-"+d+'"></label>\n                  </label>\n                  ';h.find(".sih-modal__column_price").after(k)}else h[0].createTimestamps=n.map(function(e){return e.createdAt});i.append(h)}d+1===t.length&&(Object.keys(l).length?_.SihAppGlobal.changeItemsStatus(l).then(function(){r()}):r())})})})})})}function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J("#sih-modal__buy-orders"),a=$J("body").find("#sih-enter-password"),r=void 0,o=void 0,l=void 0,d=void 0;e?(r=n.find(".cart-tab"),o=n.find(".ordering-tab"),l="cart-tab",d="ordering-tab"):(r=n.find(".ordering-tab"),o=n.find(".cart-tab"),l="ordering-tab",d="cart-tab"),function(e){return new Promise(function(t){e?_.SihAppGlobal.updateSIHMarketPrice().then(function(e){var i=e.responsePrices;t(void 0===i?{}:i)}):t()})}(e).then(function(c){_.SihAppGlobal.getLoginSihAppUser().then(function(h){if(h.success&&h.tfaNeed)n.hide(),a.attr("data-show-modal","ordering").show();else if(h.success){r.hide();var b={},y=r.find("."+l+"__content").find(".sih-modal__row_item");y.each(function(i,n){var a=[],s=$J(n);if(s.find(".sih-modal__item-row-price-group").text().length>0){var r,o=s.find(".sih_item_order_name").text(),l=encodeURIComponent(o);if(c&&Object.keys(c).length&&Object.keys(c.items).length){v=c;var d=c.items[o].sihmarket.count||k,_=s[0].createTimestamps.length,m=_-d;e&&(s[0].createTimestamps=s[0].createTimestamps.slice(m>=0?m:0,_))}s[0].createTimestamps.forEach(function(e){s.remove(),a.push({createdAt:e,statusCode:t})}),Object.assign(b,(r={},r[l]=[].concat(b[l]||{},a),r))}}),_.SihAppGlobal.changeItemsStatus(b).then(function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:null},function(e){s(d,t).then(function(){if(i.i(m.ChangeItemCountInItemPage)(),i.i(u.b)(),i.i(f.a)(),o.show(),"ordering-tab"===d){var e=h.socials.findIndex(function(e){return"steam"===e[0]});h.socials[e][3]&&"object"!==g(h.socials[e][3])?i.i(p.a)():o.find(".sih-plug__steam-guard").removeClass("hidden")}})})})}})})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=$J("#sih-modal__buy-orders"),s=a.find(".sih-modal."+t),r=s.find("."+t+"__content").find(".sih-modal__row_item"),o=s.find(".sih-modal__error");r.each(function(a,s){var r=$J(s);r.find(".sih-modal__remove-item").off("click").click(function(){var a=encodeURIComponent($J(this).parent().parent().find(".sih_item_order_name").text()),s=$J(this).parent().parent().parent().parent(),l=o.find(".sih-modal__error_message");if("ordering-tab"!==t)_.SihAppGlobal.deleteItemFromBuyStack(a,0,n).then(function(t){s.remove(),e&&e(),i.i(u.b)(),i.i(m.ChangeItemCountInItemPage)(),i.i(f.a)(),o.hide()}).catch(function(e){_.SihAppGlobal.errorHandler(null,o,l,e.error)});else{var d,c={},h=[];r[0].createTimestamps.forEach(function(e){h.push({createdAt:e,statusCode:null})}),Object.assign(c,(d={},d[a]=[].concat(h),d)),i.i(p.b)(c).then(function(){})}})})}function l(e){function t(t,n){t.parent().hasClass("available")||t.parent().hasClass("unavailable")?i.i(h.a)(t).then(function(){clearTimeout(p),p=setTimeout(function(){c().then(function(){e&&e(),d(t,n,a),i.i(u.b)(),i.i(m.ChangeItemCountInItemPage)(),i.i(f.a)(),l.hide()})},400)}):(e&&e(),d(t,n,a),i.i(u.b)(),i.i(m.ChangeItemCountInItemPage)(),i.i(f.a)(),l.hide())}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cart-tab",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=$J("#sih-modal__buy-orders"),r=s.find(".sih-modal."+n),o=r.find("."+n+"__content").find(".sih-modal__row_item"),l=r.find(".sih-modal__error"),p=null;o.each(function(e,i){var s=$J(i),r=s.find(".sih-modal__decrement"),o=s.find(".sih-modal__increment"),d=s.find(".sih-modal__cart-count-input");r.off("click").click(function(){var e=$J(this);+d.val()<=y&&1!==y&&o.removeClass("opacity-5 pointer-events-none");var i=$J(this).parent().parent().parent(),s=l.find(".sih-modal__error_message"),r=e.parent().parent().parent().find(".sih_item_order_name").text(),c=encodeURIComponent(r);_.SihAppGlobal.getAllItemsBuyStackByName(c).then(function(e){var r=_.SihAppGlobal.getFilterItemsByStatus(e,a);("ordering-tab"!==n||"ordering-tab"===n&&r.length>1)&&_.SihAppGlobal.deleteItemFromBuyStack(c,null,a).then(function(e){t(i,e)}).catch(function(e){_.SihAppGlobal.errorHandler(null,l,s,e.error)})})}),o.off("click").click(function(){var e=$J(this);+d.val()>=y-1&&$J(this).addClass("opacity-5 pointer-events-none");var i=$J(this).parent().parent().parent(),n=l.find(".sih-modal__error_message"),s=e.parent().parent().parent().find(".sih_item_order_name").text(),r=encodeURIComponent(s);_.SihAppGlobal.setItemToBuyStack({hashName:r,countAdd:1,statusCode:a}).then(function(e){e&&t(i,e)}).catch(function(e){_.SihAppGlobal.errorHandler(null,l,n,e.error)})}),d.off("focusout").focusout(function(){var e=$J(this),i=Math.ceil($J(this).val());i=_.SihAppGlobal.validateInput(i,y),i>=y?o.addClass("opacity-5 pointer-events-none"):o.removeClass("opacity-5 pointer-events-none");var s=$J(this).parent().parent().parent(),r=e.parent().parent().parent().find(".sih_item_order_name").text(),d=l.find(".sih-modal__error_message"),c=encodeURIComponent(r);_.SihAppGlobal.getAllItemsBuyStackByName(c).then(function(r){var o=_.SihAppGlobal.getFilterItemsByStatus(r,a).length;0===i&&"ordering-tab"===n&&(e.val(1),i=1),i>=o&&1!==i?_.SihAppGlobal.setItemToBuyStack({hashName:c,countAdd:i,statusCode:a}).then(function(e){t(s,e)}).catch(function(e){_.SihAppGlobal.errorHandler(null,l,d,e.error)}):_.SihAppGlobal.deleteItemFromBuyStack(c,i,a).then(function(e){t(s,e)}).catch(function(e){_.SihAppGlobal.errorHandler(null,l,d,e.error)})})})})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=e.find(".sih-modal__cart-count-input"),r=e.find(".sih-modal__item-row-single-price"),o=e.find(".sih-modal__item-row-count"),l=e.find(".sih-modal__item-row-price-group");if(e.parent().hasClass("available")||e.parent().hasClass("unavailable"))s("ordering-tab","ordering").then(function(){i.i(m.ChangeItemCountInItemPage)(),i.i(u.b)(),i.i(f.a)(),i.i(p.a)()});else{var d=_.SihAppGlobal.getFilterItemsByStatus(t,n),c=d.length;if(e[0].createTimestamps=d.map(function(e){return e.createdAt}),c>0){var h=d[c-1].price;if(h){var g=d.reduce(function(e,t){return e+t.price},0),v=_.Currency.getPriceFromCurrency(g,b).text,k=_.Currency.getPriceFromCurrency(h,b).text;a.val(c),r.text(k),o.text(c+" "+SIHLang.sihAppMarket.global.units),l.text(v)}else r.text(""+SIHLang.sihAppMarket.global.not_available)}else e.remove()}}function c(){function e(){S=!1,s(),n(),t(),i()}function t(){var e=l.find("."+o+"__content"),t='\n      <div class="fake-ordering__row sih-modal__row items-center justify-between bg-black-100 py-13 px-24">\n                 <div class="sih-modal__row items-center w-265">\n                   <div class="sih-modal__image mr-20">\n                        <div class="w-62 h-47 bg-grey rounded-4"></div>\n                    </div>\n\n                     <div class="sih-modal__column gap-6">\n                       <div class="w-100 h-16 bg-grey rounded-4"></div>\n                       <div class="sih-modal__row gap-15 items-center">\n\n                         <div class="w-62 h-16 bg-grey rounded-4"></div>\n                       </div>\n\n                     </div>\n                 </div>\n\n                  <div class="sih-modal__column gap-2">\n                     <div class="sih-modal__row bg-black-100 br2-grey sih-modal__row_cart-counter h-28 ">\n                          <div class="pointer-events-none sih-modal__decrement sih-modal__button py-8 px-14"></div>\n                          <input type="number" class="sih-modal__row sih-modal__input sih-modal__text sih-modal__text_md w-68 text-center bg-transparent border-none" value="" disabled>\n                          <div class="pointer-events-none sih-modal__increment sih-modal__button py-8 px-14"></div>\n                     </div>\n                     <div class="sih-modal__row w-100per justify-center">\n                        <div class="sih-modal__row w-22 h-16 bg-grey rounded-4"></div>\n                     </div>\n                  </div>\n\n                  <div class="sih-modal__row gap-30 items-center">\n                      <div class="sih-modal__column_price sih-modal__column items-end w-100 gap-2">\n                      <div class="sih-modal__row gap-2">\n                         <span class="w-100 h-16 bg-grey rounded-4"></span>\n                      </div>\n                      <span class="w-62 h-20 bg-grey rounded-4"></span>\n                   </div>\n\n                   <div class="w-22 h-22 bg-grey rounded-4 -mr-14"></div>\n                  </div>\n\n      </div>\n  ',i='\n    <div class="fake-ordering fake-ordering__content">\n       '+t+"\n       "+t+"\n       "+t+"\n    </div>\n  ";e.each(function(e,t){var n=$J(t);n.find(".sih-modal__row_item").hide();var s=n.find(".fake-ordering__content");S?s.length?s.fadeIn():a(o).then(function(e){e&&e>0?n.find(".sih-modal__row_item").length&&n.append(i):!e&&e<=0&&n.hasClass("unavailable")&&n.append(i)}):s.fadeOut()})}function i(){var e=l.find("."+o+"__right-block"),t=e.find(".right-block__order-info"),i=t.find(".right-block__order-info_inner"),n=e.find(".right-block__buttons");if(S){var a=t.find(".right-block__fake");i.css("opacity",0),n.css("opacity",0),a.length?a.fadeIn():t.append('\n      <div class="right-block__fake">\n        \n      <div class="right-block__fake-order-info">\n                    <div class="sih-modal__row justify-between mt-31 gap-5">\n                       <span class="w-150 h-20 bg-grey rounded-4"></span>\n                       <span class="w-100 h-20 bg-grey rounded-4"></span>\n                    </div>\n                    <div class="sih-modal__column mt-16 gap-8">\n\n                        <div class="sih-modal__row justify-between gap-5">\n                         <div class="sih-modal__row gap-5">\n                            <span class="w-150 h-20 bg-grey rounded-4"></span>\n\n                         </div>\n                         <span class="w-100 h-20 bg-grey rounded-4"></span>\n\n                       </div>\n\n\n                      <div class="splitter-1 bg-grey mt-9"></div>\n\n                    </div>\n\n                    <div class="sih-modal__column mt-11 mb-10 gap-10">\n                        <span class="w-80 h-20 bg-grey rounded-4"></span>\n\n                        <div class="sih-modal__row justify-between gap-5">\n                          <div class="sih-modal__row gap-5">\n                              <span class="w-150 h-20 bg-grey rounded-4"></span>\n\n                           </div>\n\n                            <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        </div>\n\n                      <div class="sih-modal__row justify-between gap-5">\n                         <div class="sih-modal__row gap-5">\n                            <span class="w-150 h-20 bg-grey rounded-4"></span>\n\n                         </div>\n                         <span class="w-100 h-20 bg-grey rounded-4"></span>\n\n                       </div>\n\n                    </div>\n\n                    <div class="sih-modal__row items-center gap-14">\n                        <div class="sih-modal__row w-22 h-22 bg-grey rounded-4"></div>\n                        <div class="sih-modal__row w-300 h-44 bg-grey rounded-4"></div>\n                    </div>\n                  </div>\n    \n        \n      <div class="right-block__fake-buttons sih-modal__column gap-15 mt-34">\n        <div class="w-100per h-47 bg-grey rounded-4"></div>\n        <div class="w-100-per h-47 bg-grey rounded-4"></div>\n      </div>\n    \n      </div>\n    ')}else{var s=e.find(".right-block__fake");i.css("opacity",1),n.css("opacity",1),s.fadeOut()}}function n(){var e=l.find(".ordering-tab__header"),t=e.find(".ordering-tab__header-total-block"),i=t.find(".ordering-tab__header-total-row"),n=t.find(".ordering-animated");S?(i.css("opacity",0),n.fadeIn()):(n.fadeOut(),i.css("opacity",1))}function s(){l.find(".sih-modal__controls").each(function(e,t){var i=$J(t),n=i.find(".ordering-tab__total-number"),a=i.find(".ordering-animated");S?(n.css("opacity",0),a.fadeIn()):(a.fadeOut(),n.css("opacity",1))})}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering-tab";S=!0;var l=$J("#sih-modal__buy-orders").find("."+o);return n(),s(),t(),i(),new Promise(function(t){return setTimeout(function(){e(),t()},r)})}t.c=n,t.b=a,t.e=s,t.a=r,t.f=o,t.g=l,t.d=c;var _=i(0),m=i(5),u=i(2),h=i(28),p=i(10),f=i(14),g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=1,v=void 0,k=1,y=1,S=!0},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i.d(t,"b",function(){return d}),i.d(t,"c",function(){return c}),i.d(t,"d",function(){return _});var n=i(0),a=i(15),s=i(13),r=i(3),o=i(39),l={_name:"SIH_MARKET",get:function(){return n.localStorageJSON.get(this._name)||{}},set:function(e){n.localStorageJSON.set(this._name,e)}},d=function(e){switch(e){case"sell_listings":return $J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"]');case"await_listings":return $J("#totalRow1").closest(".my_listing_section").find('.market_listing_row[id^="mylisting"]');case"buy_orders":return $J('div[id^="mybuyorder_"]');default:return null}},c=function(){n.SellListing.SELL_LISTING={},$J("#select-all-0").prop("checked",!1),$J(".sih-toolbar").is(":visible")&&i.i(a.a)("sell_listings"),$J(".sih-change-panel").is(":visible")&&i.i(s.a)("sell_listings")},_=function(e,t){var s=e.closest(".my_listing_section").attr("data-table-id"),l=e.find(".market_listing_price span span:nth-child(1)"),d=l.text().match(RegExp(/([\d+?., ]+)/g))[0].trim()||"0",c=i.i(n.parseNumber)(d),_=t.match(RegExp(/([\d+?., ]+)/g))[0].trim()||"0",m=i.i(n.parseNumber)(_),u=e.find(".market_listing_minimum");if(u.length)u.find(".market_listing_minimum--text").text(""+t.replace(/pуб./g,"₽"));else{$J('\n        <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n          <span class="market_listing_minimum--text">'+t.replace(/pуб./g,"₽")+"</span>\n        </div>").insertAfter(e.find(".market_listing_my_price"))}if(m&&c&&m<c){var h=100*m,p=100*c,f=Math.round(i.i(n.getPercentNumberDifference)(h,p)),g=r.b.getPercentAlert("sell_listings"),b=g.percent_alert;f<=-(void 0===b?20:b)&&i.i(o.a)(s,e),e.hasClass("red-bg")||(e.addClass("red-bg"),e.prepend('<div class="sih-listing__color-cell start red"></div>'),e.append('<div class="sih-listing__color-cell end red"></div>'));var v=e.attr("id").replace(/mylisting_/g,"").trim();rowIdsArr&&!rowIdsArr.includes(v)&&rowIdsArr.push(v)}e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?e.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):e.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),i.i(a.b)()}},function(e,t,i){"use strict";function n(){}function a(){}function s(){}function r(){}function o(){}t.e=n,t.d=a,t.a=s,t.c=r,t.b=o},function(e,t,i){"use strict";function n(){l(),i.i(b.b)(),i.i(v.a)()}function a(){i.i(h.f)(d,"ordering-tab","ordering"),i.i(h.g)(d,"ordering-tab","ordering"),d(),i.i(b.c)(),i.i(v.b)()}function s(){return new Promise(function(e){u.SihAppGlobal.getLoginSihAppUser().then(function(t){var n=t.user.balance/1e3,a=0,s=0,r=0,o=0;_().then(function(){i.i(h.c)("ordering").then(function(t){t.forEach(function(e){r+=e.reduce(function(e,t){return t.isChecked&&(r+e+t.price<=n?(a++,e+=t.price):(s++,o+=t.price)),e},0)}),o=o>0?Math.abs(n-(r+o)):0;var i=u.Currency.getPriceFromCurrency(r,S).text,l=u.Currency.getPriceFromCurrency(o,S).text,d=$J(".sih-modal.ordering-tab"),c=d.find(".sih-modal__ordering-item-count"),_=d.find(".right-block__available-row"),m=d.find(".sih-modal__available-item-count"),h=d.find(".sih-modal__available-total-coast"),p=d.find(".right-block__unavailable-row"),f=d.find(".sih-modal__unavailable-item-count"),g=d.find(".sih-modal__unavailable-total-coast"),b=d.find(".sih__buy-all-items"),v=d.find("#sih_buy_available"),k=d.find("#sih-tos");c.text(a+s),m.text(a),h.text(i),h.data("total-price",r),f.text(s),g.text(l),g.data("total-price",o),p.toggleClass("hidden",0===o),$J("#select-all-unavailable").prop("checked",0!==o),_.toggleClass("hidden",0===r),$J("#select-all-available").prop("checked",0!==r),0!==o?b.toggleClass("opacity-5 pointer-events-none",!k.is(":checked")&&0!==o):b.addClass("opacity-5 pointer-events-none"),0!==r?v.toggleClass("opacity-5 pointer-events-none",!k.is(":checked")&&0!==r):v.addClass("opacity-5 pointer-events-none"),e()})})})})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ordering",i={};return e.each(function(e,n){var a=$J(n),s=[],r=a.find(".select-item"),o=encodeURIComponent(a.find(".sih_item_order_name").text());if(r.prop("checked")){var l;a[0].createTimestamps.forEach(function(e){s.push({createdAt:e,statusCode:t})}),Object.assign(i,(l={},l[o]=[].concat(i[o]||{},s),l)),a.remove()}}),i}function o(e){return new Promise(function(t){var n=$J("#sih-modal__buy-orders"),r=n.find(".sih-modal.ordering-tab");u.SihAppGlobal.changeItemsStatus(e).then(function(){i.i(h.d)().then(function(){s().then(function(){i.i(h.e)("ordering-tab","ordering").then(function(){i.i(f.ChangeItemCountInItemPage)(),i.i(g.b)(),i.i(y.a)(),a(),i.i(h.e)("cart-tab",null).then(function(){i.i(p.a)(),d(),i.i(p.b)(),u.SihAppGlobal.getAllBuyStack().then(function(e){if(!u.SihAppGlobal.getFilterItemsByStatus(e,"ordering").length){var i=n.find(".sih-modal.cart-tab");r.hide(),i.show()}t()})})})})})})})}function l(){var e=$J("#sih-modal__buy-orders"),t='\n     <div class="sih-modal sih-global ordering-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner sih-modal__column">\n          <div class="ordering-tab__header sih-modal__row gap-12 items-baseline">\n            <div class="sih-modal__title title">'+SIHLang.sihAppMarket.ordering.title+'</div>\n            <div class="ordering-tab__header-total-block sih-modal__row">\n                  <div class="ordering-tab__header-total-row sih-modal__row items-center gap-5">\n                    <span class="sih-modal__all-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"></span>\n                    <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.ordering.items+'</span>\n                  </div>\n                  <span class="ordering-animated"></span>\n            </div>\n\n          </div>\n\n          <div class="orders-tab__main sih-modal__row justify-between mt-36 gap-20"></div>\n\n          </div>\n</div>\n  ';if(!e.find(".ordering-tab").length){e.append(t);var n=e.find(".ordering-tab");i.i(k.a)(n)}}function d(){c(),i.i(b.d)(),i.i(v.c)()}function c(){var e=$J(".sih-modal.ordering-tab"),t=e.find(".sih-modal__all-item-count");u.SihAppGlobal.getAllBuyStack().then(function(e){var i=u.SihAppGlobal.getFilterItemsByStatus(e,"ordering").length;t.text(i)})}function _(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab"),t=e.find(".ordering-tab__content"),i=[],n={};return new Promise(function(e){t.each(function(e,t){$J(t).find(".sih-modal__row_item").each(function(e,t){var a,s=$J(t),r=s.find(".select-item").prop("checked"),o=encodeURIComponent(s.find(".sih_item_order_name").text());s[0].createTimestamps.forEach(function(e){i.push({createdAt:e,isChecked:r})}),Object.assign(n,(a={},a[o]=[].concat(n[o]||{},i),a))})}),Object.keys(n).length?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",data:n},function(t){e()}):e()})}t.e=n,t.a=a,t.c=s,t.d=r,t.b=o;var m=i(59),u=(i.n(m),i(0)),h=i(7),p=i(17),f=i(5),g=i(2),b=i(28),v=i(50),k=i(49),y=i(14),S=1},function(e,t,i){"use strict";i.d(t,"c",function(){return o}),i.d(t,"b",function(){return l}),i.d(t,"a",function(){return d});var n=i(106),a=(i.n(n),i(3)),s=i(15),r=i(96),o=function(){c(),_()},l=function(e){var t=e.attr("data-table-id"),n=e.find(".market_listing_row").find(".select-checkbox:checked"),r=n.toArray();Promise.all(r.map(function(e){var t=$J(e).closest(".market_recent_listing_row").attr("id");if(0==t.indexOf("mylisting")){var i=t.substring(10);return $J("#"+t+" .market_listing_edit_buttons.actual_content").find(".item_market_action_button.item_market_action_button_edit").html("Removing..."),new Promise(function(e,t){$J.post("//steamcommunity.com/market/removelisting/"+i,{sessionid:g_sessionID}).then(e).fail(t)})}if(0==t.indexOf("mybuyorder")){var n=t.substring(11);return $J("#"+t+" .market_listing_edit_buttons.actual_content").find(".item_market_action_button.item_market_action_button_edit").html("Cancelling..."),new Promise(function(e,t){$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:n}).then(e).fail(t)})}})).then(function(e){var n=r.reduce(function(e,n){var r=$J(n).parents(".market_recent_listing_row"),o=i.i(a.a)(r);return r.hide(300,function(){r.remove(),"sell_listings"===t&&m(r.attr("id")),i.i(s.a)(t)}),e.push(o[4]),e},[]);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:n}},function(){}),RefreshMyMarketListings()}).catch(function(e){r.forEach(function(e){var n=$J(e).parents(".market_recent_listing_row");n.hide(300,function(){n.remove(),"sell_listings"===t&&m(n.attr("id")),i.i(s.a)(t)})}),RefreshMyMarketListings()})},d=function(e){var t=e.find(".market_listing_row:not(.stack)"),i=e.find(".sih-market-filter .sih-market-filter__right-side .sih-market-filter__remove-selected");t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible:checked").length>0?i.length&&i.removeClass("disabled"):i.length&&!i.hasClass("disabled")&&i.addClass("disabled")},c=function(){var e=$J(".sih-market-filter"),t=e.find(".sih-market-filter__right-side"),i=$J('\n        <a href="javascript:void(0)" class="sih-market-filter__remove-selected disabled">\n                <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M5 0V1H0V3H1V16C1 16.5304 1.21071 17.0391 1.58579 17.4142C1.96086 17.7893 2.46957 18 3 18H13C13.5304 18 14.0391 17.7893 14.4142 17.4142C14.7893 17.0391 15 16.5304 15 16V3H16V1H11V0H5ZM3 3H13V16H3V3ZM5 5V14H7V5H5ZM9 5V14H11V5H9Z" fill="#FFFFFF"/>\n                </svg>\n        </a>\n  ');t.find(".sih-market-filter__remove-selected").length||t.append(i)},_=function(){$J(".sih-market-filter").find(".sih-market-filter__right-side").find(".sih-market-filter__remove-selected").off("click").click(function(){var e=$J(this).closest(".my_listing_section");$J(".sih-toolbar").hasClass("animate-down")||$J(".sih-toolbar").addClass("animate-down"),i.i(r.a)(e)})},m=function(e){$ACTIVE_LISTING_ROWS.each(function(t,i){$J(i).attr("id")===e&&$ACTIVE_LISTING_ROWS.splice(t,1)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o});var n=i(107),a=(i.n(n),i(0)),s=i(8),r=function(e){var t=$J('.my_listing_section[data-table-id="'+e+'"]'),i=t.find('[id^="totalRow"]'),n=i.find(".sih-header-total"),r=t.find('.market_listing_row[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),o="sell_listings"===e?+n.find(".sih-total-sell__selling").attr("data-price"):+i.find(".sih-market-total__seller").attr("data-price"),l="sell_listings"===e?+n.find(".sih-total-sell__receive").attr("data-price"):0,d=n.find(".total-resubmit-price");r.find(".resubmit-price").length||d.fadeOut(300,function(){d.remove()});var c=0,_=0,m=0,u=0;r.each(function(t,i){var n=$J(i),a=n.find(".resubmit-price"),s=+n.find(".market_listing_buyorder_qty .market_listing_price").text();if(a.length){var r=+a.find(".resubmit-price__selling").attr("data-old-price")*("buy_orders"===e?s:1),o="sell_listings"===e?+a.find(".resubmit-price__receive").attr("data-old-price"):0,l=+a.find(".resubmit-price__selling").attr("data-new-price")*("buy_orders"===e?s:1),d="sell_listings"===e?+a.find(".resubmit-price__receive").attr("data-new-price"):0;c+=r,_+=o,m+=l,u+=d}});var h=o-c+m,p=l-_+u,f=a.Currency.getPriceFromCurrency(h,currencyId,currencyId).text,g=a.Currency.getPriceFromCurrency(p,currencyId,currencyId).text;if(d.length){var b=d.find(".total-resubmit-price__selling"),v=d.find(".total-resubmit-price__receive");b.attr("data-price",h).text(f),v.attr("data-price",p).text("("+g+")")}else{var k=s.a.get(),y=k.commission,S=void 0===y||y,C=$J('\n          <div class="total-resubmit-price" title="'+SIHLang.market.resubmit_orders.tooltips.total_after_resubmit+'">\n              <div class="column">\n                  <span class="total-resubmit-price__selling text text_white fs-14" data-price="'+h+'">'+f+"</span>\n                  "+("sell_listings"===e?'\n                      <span class="total-resubmit-price__receive text text_grey-900 fs-12" style="display: '+(S?"flex":"none")+'" data-price="'+p+'">('+g+")</span>\n                  ":"")+"\n              </div>\n          </div>\n    ");C.tooltip({tooltipClass:"total-resubmit-price__tooltip",position:{my:"left bottom",at:"left top"}}),n.append(C),C.css("display","flex").hide().fadeIn(300)}},o=function(){d(),setTimeout(function(){l()},500)},l=function(){var e=$J('.my_listing_section[data-table-id="buy_orders"]'),t=e.find('[id^="totalRow"]'),i=t.find(".sih-header-total"),n=+t.find(".sih-market-total__seller").attr("data-price"),s=a.Currency.getPriceFromCurrency(n,currencyId,currencyId).text,r=$J('\n      <div class="sih-total-sell column justify-center" title="'+SIHLang.market.tooltips.cost_all_items+'">\n            <span class="sih-total-sell__selling text text_white fs-14" data-price="'+n+'">'+s+"</span>\n      </div>\n    ");i.find(".sih-total-sell").length||i.prepend(r)},d=function(){[$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_my_price:not(.market_listing_buyorder_qty, .market_listing_maximum)").attr("title",""+SIHLang.market.tooltips.your_price),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_minimum").attr("title",""+SIHLang.market.tooltips.min_market_price),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_listed_date").attr("title",""+SIHLang.market.tooltips.order_date),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_maximum").attr("title",""+SIHLang.market.tooltips.max_market_price),$J(".market_listing_table_header").find(".market_listing_right_cell.market_listing_buyorder_qty").attr("title",""+SIHLang.market.tooltips.number_items)].forEach(function(e){e.tooltip({position:{my:"left bottom",at:"left top"}})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(109),a=(i.n(n),i(0)),s=i(12),r=i(41),o=i(3),l=i(4),d=function(e){i.i(o.d)().then(function(t){t.success&&a.SihAppGlobal.getSubscribeAds().then(function(t){c(e,t.success)})})},c=function(e,t){var n=$J("body"),a=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),s=$J('.my_listing_section[data-table-id="'+("sell_listings"===e?"buy_orders":"sell_listings")+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mybuyorder":"mylisting")+'"]'),r=a?a.length:0;r&&s.length&&(s.each(function(e,t){return $J(t).find(".sih-resubmit__undo").trigger("click")}),d(e)),!r&&s.length&&d("sell_listings"===e?"buy_orders":"sell_listings");var l=$J('\n    <div class="sih-change-panel animate-down sih-global" data-table-id="'+e+'">\n        <div class="sih-change-panel__inner">\n            <div class="column items-center gap-8">\n                <div class="row gap-5">\n                    <span class="text text_light-grey">'+SIHLang.market.resubmit_orders.change_panel.title+'</span>\n                    <span class="sih-change-panel__stack-count text text_light-grey">'+r+'</span>\n                    <span class="text text_light-grey">'+SIHLang.market.resubmit_orders.items+'</span>\n                </div>\n                <div class="sih-change-panel__sub-info row">\n                    <span class="text text_light-grey fs-12">'+("sell_listings"!==e||t?"":SIHLang.market.resubmit_orders.sub_info+' <span class="sih-change-panel__sub-btn">SIH.Black</span>')+'</span>\n                </div>\n                <div class="row gap-20">\n                    <a href="javascript:void(0)" class="sih-change-panel__cancel text text_white">'+SIHLang.market.resubmit_orders.cancel+'</a>\n                    <a href="javascript:void(0)" class="sih-change-panel__relisting text text_blue '+("sell_listings"!==e||t?"":"sih-change-panel__relisting_disabled")+'">'+SIHLang.market.resubmit_orders.relisting+"</a>\n                </div>\n            </div>\n      </div>\n\n    </div>\n  "),c=n.find(".sih-change-panel");!c.length&&r>0?(n.append(l),setTimeout(function(){n.find(".sih-change-panel").removeClass("animate-down"),i.i(o.h)()},100),_(t,e)):r>0?(c.attr("data-table-id",e),c.find(".sih-change-panel__stack-count").text(r),c.removeClass("animate-down"),i.i(o.h)()):(c.addClass("animate-down"),i.i(o.h)());var m=n.find(".sih-change-panel .sih-change-panel__sub-info");"sell_listings"===e?m.show():m.hide()},_=function(e,t){m(),h(),("sell_listings"!==t||e)&&u(e)},m=function(){var e=$J(".sih-change-panel");e.find(".sih-change-panel__cancel").off("click").click(function(){var t=e.attr("data-table-id");e.addClass("animate-down"),$J('.my_listing_section[data-table-id="'+t+'"] .market_listing_row.stack[id^="'+("sell_listings"===t?"mylisting":"mybuyorder")+'"]').each(function(e,t){var i=$J(t);i.find(".resubmit-price").remove(),i.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")}),"sell_listings"===t?a.SellListing.SELL_LISTING={}:a.BuyOrders.BUY_ORDERS=[],i.i(s.a)(t)})},u=function(){var e=$J(".sih-change-panel");e.find(".sih-change-panel__relisting").off("click").click(function(){var t=e.attr("data-table-id");e.addClass("animate-down"),i.i(r.c)(t)})},h=function(){$J(".sih-change-panel").find(".sih-change-panel__sub-btn").off("click").click(function(){i.i(l.loadSubscribeAds)(),i.i(l.ShowModalSubscribeAds)()})}},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(76),a=(i.n(n),i(2)),s=i(0),r=function(e){return new Promise(function(t){l(e).then(function(){d(),t()})})},o=function(){var e=$J("#sih-market-listing"),t=e.find(".sih-market-listing__item");s.SihAppGlobal.getAllBuyStack().then(function(e){var i=s.SihAppGlobal.getFilterItemsByStatus(e);t.each(function(e,t){var n=$J(t),a=n.find(".sih-market-listing__name").text(),s=i.find(function(e){return e.market_hash_name===a}),r=""+(s?SIHLang.sihAppMarket.listing_lot.in_cart:SIHLang.sihAppMarket.listing_lot.buy_for);n.find(".sih-market-listing__cart-info").text(r)})})},l=function(e){var t=$J("#sih-market-listing"),n=t.find(".sih-market-listing__item");return new Promise(function(t){s.SihAppGlobal.getAllBuyStack().then(function(a){n.each(function(t,n){var r=$J(n),o=s.SihAppGlobal.getFilterItemsByStatus(a),l=o.find(function(i){return i.market_hash_name===e[t].item}),d=i.i(s.formatNumberToLocalRu)(e[t].sihmarket.price,1),c=$J('\n          <div class="sih-market-listing__sih-button">\n            <span class="sih-market-listing__sih-price" data-price="'+e[t].sihmarket.price+'">\n              <span class="sih-market-listing__cart-info text fs-10">'+(l?""+SIHLang.sihAppMarket.listing_lot.in_cart:""+SIHLang.sihAppMarket.listing_lot.buy_for)+'</span>\n              <span class="text">'+d+"</span>\n            </span>\n          </div>\n        "),_=r.find(".sih-market-listing__steam-price");_.length&&_.after(c)}),t()})})},d=function(){c()},c=function(){$J("#sih-market-listing").find(".sih-market-listing__sih-button").each(function(e,t){$J(t).off("click").click(function(e){e.preventDefault(),e.stopPropagation();var t=$J(this).closest(".sih-market-listing__item"),n=encodeURIComponent(t.find(".sih-market-listing__name").text());s.SihAppGlobal.getAllItemsBuyStackByName(n).then(function(e){if(e.length)s.SihAppGlobal.deleteItemFromBuyStack(n).then(function(e){o(),i.i(a.b)()});else{var r=+t.find(".sih-market-listing__sih-price").attr("data-price"),l=t.find(".market_listing_item_img").attr("src"),d=t.find(".market_listing_item_img").css("border-color"),c=t.attr("href"),_={appId:"730",hashName:n,countAdd:1,price:r,image:l,url:c,color:d};s.SihAppGlobal.setItemToBuyStack(_).then(function(){o(),i.i(a.b)(),$J("#sih-header-cart").trigger("click")})}})})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return p});var n=i(116),a=(i.n(n),i(26)),s=i(0),r=i(3),o=i(13),l=i(100),d=i(11),c=i(12),_=(i(8),i(42)),m=i(4),u=null,h=function(e){i.i(r.d)().then(function(t){if(t.success){if("await_listings"===e)return;s.SihAppGlobal.getSubscribeAds().then(function(t){g(e,t.success),p()})}})},p=function(){clearTimeout(u),u=setTimeout(function(){var e=$J(".sih-toolbar"),t=e.attr("data-table-id"),i=$J('.my_listing_section[data-table-id="'+t+'"] .market_listing_row[id^="'+("sell_listings"===t?"mylisting":"mybuyorder")+'"]').find(".select-checkbox:checked").closest(".market_listing_row"),n=e.find(".sih-toolbar__buttons"),a=e.find(".sih-toolbar__info"),s=void 0,r=0;i.each(function(e,t){$J(t).find(".sih-resubmit").hasClass("without-price")?s=!1:r++}),s=void 0===s&&i.length?!s:s,e.length&&e.is(":visible")&&(s?e.find(".sih-toolbar__buttons").is(":visible")||a.fadeOut(200,function(){e.find(".sih-toolbar__buttons").css("display","flex").hide().fadeIn(50)}):n.addClass("pointer-events-none").fadeOut(200,function(){n.removeClass("pointer-events-none"),a.children().remove();var e=void 0,i=C(t);i&&i.hasClass("animated-background")?e=$J('\n            <span class="text text_white text-center fs-14">'+SIHLang.market.resubmit_orders.toolbar.load_info+"</span>\n          "):(e=$J('\n            <div class="row items-center gap-5">\n                <a href="javascript:void(0)" class="sih-toolbar__load-prices text text_blue fs-14">'+SIHLang.market.resubmit_orders.tooltips.need_load_price_1+'</a>\n                 <span class="text text_white fs-14">'+SIHLang.market.resubmit_orders.tooltips.need_load_price_2+"</span>\n            </div>\n          "),e.off("click").click(function(){return $J('.my_listing_section[data-table-id="'+t+'"]').find(".load_price_manual").trigger("click")})),a.append(e),a.is(":visible")||a.css("display","flex").hide().fadeIn(100)}),f(r,i.length))},300)},f=function(e,t){var i=0,n=$J(".sih-toolbar"),a=n.find(".sih-toolbar__progress-bar"),s=+n.css("width").replace(/px/g,"").trim();i+=s/t*e,s!==i?(n.hasClass("progress")||n.addClass("progress"),a.width(Math.ceil(i)),a.is(":visible")||a.css("display","flex").hide().fadeIn()):a.width(Math.ceil(i)).fadeOut(1100,function(){a.width(0),n.removeClass("progress")})},g=function(e,t){var n=$J("body"),a=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]').find(".select-checkbox:checked"),l=$J('.my_listing_section[data-table-id="'+("sell_listings"===e?"buy_orders":"sell_listings")+'"] .market_listing_row[id^="'+("sell_listings"===e?"mybuyorder":"mylisting")+'"]').find(".select-checkbox:checked"),d=a?a.length:0;d&&l.length&&(l.each(function(e,t){return $J(t).trigger("click")}),h(e));var c=s.Currency.getPriceFromCurrency(.01,currencyId,currencyId).text,_=$J('\n    <div class="sih-toolbar animate-down sih-global progress" data-table-id="'+e+'">\n        <div class="sih-toolbar__inner">\n             <div class="column gap-14">\n                <div class="row gap-5">\n                    <span class="text text_white">'+SIHLang.market.resubmit_orders.selected+'</span>\n                    <span class="sih-toolbar__stack-count text text_white">'+d+'</span>\n                    <span class="text text_white">'+SIHLang.market.resubmit_orders.items+'</span>\n                </div>\n                <div class="row gap-20">\n                    <a href="javascript:void(0)" class="sih-toolbar__uncheck-all text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.toolbar.clear_list+'</a>\n                    <a href="javascript:void(0)" class="sih-toolbar__toggle-selected-listing text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.toolbar.show_list+'</a>\n                </div>\n            </div>\n            <div class="sih-toolbar__buttons">\n               '+(t?"":'\n                 <div class="sih-toolbar__sub-info">\n                    <span class="text text_light-grey fs-12">'+SIHLang.market.resubmit_orders.sub_info_2+' <span class="sih-toolbar__sub-btn">SIH.Black</span></span>\n                 </div>\n               ')+'\n               <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="default">\n                    <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default">\n                    <span class="row gap-5">\n                        <span class="sih-toolbar__changed-text text">'+("sell_listings"===e?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add)+'</span>\n                        <span class="text">'+c+'</span>\n                    </span>\n               </a>\n               <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="percent">\n                    <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent">\n                    <span class="row gap-5">\n                        <span class="sih-toolbar__changed-text text">'+("sell_listings"===e?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add)+'</span>\n                        <span class="text">1%</span>\n                    </span>\n               </a>\n               <a href="javascript:void(0)" class="sih-toolbar__resubmit sih-toolbar__button" data-state="manual">\n                    <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual">\n                    <span class="text">'+SIHLang.market.resubmit_orders.set_price+'</span>\n               </a>\n            </div>\n            <div class="sih-toolbar__info"></div>\n            <div class="sih-toolbar__progress-bar"></div>\n        </div>\n    </div>\n\n    <div class="sih-selected-listing">\n        <div class="sih-selected-listing__fade"></div>\n        <div class="sih-selected-listing__content animate-down"></div>\n    </div>\n  '),m=n.find(".sih-toolbar"),u=n.find(".sih-change-panel");!m.length&&d?(n.append(_),setTimeout(function(){n.find(".sih-toolbar").removeClass("animate-down"),i.i(r.h)()},100),v()):d>0?(m.attr("data-table-id",e),m.find(".sih-toolbar__stack-count").text(d),u.hasClass("animate-down")||u.addClass("animate-down"),m.removeClass("animate-down"),b(),i.i(r.h)()):(m.addClass("animate-down"),i.i(o.a)(e));var p=n.find(".sih-toolbar .sih-toolbar__sub-info");"sell_listings"===e?p.show():p.hide()},b=function(){var e=$J(".sih-toolbar"),t=e.attr("data-table-id");e.find(".sih-toolbar__changed-text").text(""+("sell_listings"===t?SIHLang.market.resubmit_orders.drop:SIHLang.market.resubmit_orders.add))},v=function(){k(),y(),S(),I()},k=function(){var e=$J(".sih-toolbar"),t=e.find(".sih-toolbar__uncheck-all"),n=null;t.off("click").click(function(){var t=e.attr("data-table-id");clearTimeout(n),n=setTimeout(function(){var e="sell_listings"===t?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section");e.find(".market_listing_table_header .select-checkbox").prop("checked",!1),e.find('.market_listing_row[id^="'+("sell_listings"===t?"mylisting":"mybuyorder")+'"] .select-checkbox:checked').trigger("click"),i.i(a.b)(),i.i(_.a)(),h(t),i.i(l.a)(),i.i(d.a)(e)},200)})},y=function(){var e=$J(".sih-toolbar"),t=e.find(".sih-toolbar__toggle-selected-listing"),n=null;t.off("click").click(function(){clearTimeout(n),n=setTimeout(function(){i.i(l.b)()},300)})},S=function(){var e=$J(".sih-toolbar"),t=e.find(".sih-toolbar__resubmit");t.off("click").click(function(){var n=e.attr("data-table-id"),a=$J(this);a.addClass("animated").siblings(".sih-toolbar__button").addClass("opacity-50per disabled");var s=a.attr("data-state"),m="sell_listings"===n?$J("#tabContentsMyActiveMarketListingsTable"):$J("#buy_orders").closest(".my_listing_section"),u=m.find('.market_listing_row[id^="'+("sell_listings"===n?"mylisting":"mybuyorder")+'"] .select-checkbox:checked').closest(".market_listing_row");Promise.all(u.map(function(e,t){return new Promise(function(n){var a=$J(t),o=a.find(".sih-resubmit"),l=o.find(".sih-resubmit__btn");"manual"!==s?setTimeout(function(){i.i(r.g)(a,s),l.attr("data-state",s),l.find("img").attr("src","chrome-extension://"+SIHID+"/assets/market/resubmit/resubmit_"+s+".svg").attr("alt",s),a.find(".select-checkbox").prop("checked",!1),o.removeClass("disabled"),n()},100*(e+1)):n(a)})}).toArray()).then(function(a){m.find(".market_listing_table_header .select-checkbox").prop("checked",!1),"manual"!==s?(i.i(l.a)(),i.i(o.a)(n),h(n),i.i(d.a)(m),t.removeClass("opacity-50per disabled animated")):(i.i(l.a)(),i.i(_.b)(a),e.find(".sih-toolbar__button").removeClass("animated").addClass("opacity-50per disabled")),i.i(c.a)(n)})})},C=function(e){var t=void 0;switch(e){case"sell_listings":t=$J("#load_sell_overprices");break;case"buy_orders":t=$J("#load_buy_lowerprices")}return t},I=function(){$J(".sih-toolbar").find(".sih-toolbar__sub-btn").off("click").click(function(){i.i(m.loadSubscribeAds)(),i.i(m.ShowModalSubscribeAds)()})}},function(e,t,i){"use strict";function n(){s(),r()}function a(){var e=$J(".refill-sih-balance"),t=e.find(".payment-methods"),i=t.find(".payment-methods__item");h.SihAppGlobal.getSubscribeAdsMethods().then(function(e){i.each(function(t,i){var n=$J(i),a=n.find(".payment-methods__item_text"),s=n.data("method"),r=d(s),o=c(e,r);if(o.length){n.removeClass("hidden");var l=o.map(function(e){return e.title}).filter(function(e){return e});if(!l.length)return;if(l.length<=2){var _=l.join(",");a.text(_)}else{var m=l.slice(0,2),u=m.join(","),h=l.slice(2,l.length),p=u+" "+SIHLang.refillBalance.and+" "+h.length+" "+SIHLang.refillBalance.more_currencies;a.text(p)}}else n.addClass("hidden")})})}function s(){var e=$J(".refill-sih-balance"),t=e.find(".refill-sih-balance__payment-methods"),i='\n            <div class="payment-methods">\n                <div class="payment-methods__item hidden" data-method="bank">\n                    <div class="sih-modal__row justify-between items-center">\n\n                        <div class="sih-modal__row items-center gap-20">\n\n                            <div class="payment-methods__icon">\n                                <svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M18 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V14C0 14.5304 0.210714 15.0391 0.585786 15.4142C0.960859 15.7893 1.46957 16 2 16H18C18.5304 16 19.0391 15.7893 19.4142 15.4142C19.7893 15.0391 20 14.5304 20 14V2C20 1.46957 19.7893 0.960859 19.4142 0.585786C19.0391 0.210714 18.5304 0 18 0ZM18 7H2V4H18V7Z" fill="white"/>\n                                </svg>\n                            </div>\n\n                            <div class="sih-modal__column gap-5">\n                                <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.refillBalance.bank_title+'</span>\n                                <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n                            </div>\n\n                        </div>\n\n                        <div class="sih-modal__row">\n                            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z" fill="#6F7F8A"/>\n                            </svg>\n\n                        </div>\n\n                    </div>\n                </div>\n                <div class="payment-methods__item hidden" data-method="crypt">\n                    <div class="sih-modal__row justify-between items-center">\n\n                        <div class="sih-modal__row items-center gap-20">\n\n                            <div class="payment-methods__icon">\n                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                  <path d="M12.24 8.55967C11.93 9.79967 10 9.16967 9.4 8.99967L9.95 6.81967C10.57 6.99967 12.56 7.25967 12.24 8.55967ZM9.13 10.1197L8.53 12.5297C9.27 12.7197 11.56 13.4497 11.9 12.0897C12.26 10.6697 9.87 10.2997 9.13 10.1197ZM19.7 12.4197C18.36 17.7797 12.94 21.0397 7.58 19.6997C2.22 18.3597 -1.037 12.9397 0.300001 7.57967C1.64 2.21967 7.06 -1.03633 12.42 0.299674C17.77 1.63967 21.03 7.05967 19.7 12.4197ZM12.21 6.04967L12.66 4.24967L11.56 3.99967L11.12 5.72967C10.83 5.65967 10.54 5.58967 10.24 5.52967L10.68 3.75967L9.59 3.49967L9.14 5.28967C8.9 5.22967 8.66 5.17967 8.44 5.11967L6.93 4.73967L6.63 5.90967C6.63 5.90967 7.45 6.09967 7.43 6.10967C7.88 6.21967 7.96 6.49967 7.94 6.74967L6.71 11.6797C6.66 11.8197 6.5 11.9997 6.21 11.9497C6.22 11.9597 5.41 11.7497 5.41 11.7497L4.87 12.9997L6.29 13.3597C6.56 13.4297 6.82 13.4997 7.08 13.5597L6.62 15.3797L7.72 15.6597L8.17 13.8497C8.47 13.9297 8.76 13.9997 9.04 14.0797L8.59 15.8697L9.69 16.1497L10.15 14.3297C12 14.6797 13.42 14.5397 14 12.8497C14.5 11.4997 14 10.6997 13 10.1897C13.72 9.99967 14.26 9.54967 14.41 8.56967C14.61 7.23967 13.59 6.52967 12.21 6.04967Z" fill="white"/>\n                                </svg>\n\n                            </div>\n\n                            <div class="sih-modal__column gap-5">\n                                <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.refillBalance.crypt_title+'</span>\n                                <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n                            </div>\n\n                        </div>\n\n                        <div class="sih-modal__row">\n                            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z" fill="#6F7F8A"/>\n                            </svg>\n\n                        </div>\n\n                    </div>\n                </div>\n                <div class="payment-methods__item hidden" data-method="wallet">\n                    <div class="sih-modal__row justify-between items-center">\n\n                        <div class="sih-modal__row items-center gap-20">\n\n                            <div class="payment-methods__icon">\n                               <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path d="M14 0H4C1.79 0 0 1.79 0 4V14C0 16.21 1.79 18 4 18H16C17.11 18 18 17.11 18 16V6C18 4.9 17.11 4 16 4V2C16 0.9 15.11 0 14 0ZM14 2V4H4C3.27 4 2.59 4.2 2 4.54V4C2 2.9 2.9 2 4 2M12.5 12.5C11.67 12.5 11 11.83 11 11C11 10.17 11.67 9.5 12.5 9.5C13.33 9.5 14 10.17 14 11C14 11.83 13.33 12.5 12.5 12.5Z" fill="white"/>\n                               </svg>\n                            </div>\n\n                            <div class="sih-modal__column gap-5">\n                                <span class="sih-modal__text sih-modal__text_white sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.refillBalance.wallet_title+'</span>\n                                <span class="payment-methods__item_text sih-modal__text sih-modal__text_md"></span>\n                            </div>\n\n                        </div>\n\n                        <div class="sih-modal__row">\n                            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z" fill="#6F7F8A"/>\n                            </svg>\n\n                        </div>\n\n                    </div>\n                </div>\n            </div>\n  ';t.find(".payment-methods").length||t.append(i)}function r(){$J(".refill-sih-balance").find(".payment-methods").find(".payment-methods__item").each(function(e,t){$J(t).off("click").click(function(){var e=$J(this),t=e.data("method");h.SihAppGlobal.getSubscribeAdsMethods().then(function(e){o(_(c(e,d(t)),g[t]),t,"main")})})})}function o(e,t,i){var n=$J(".refill-sih-balance"),a=n.find(".refill-sih-balance__inner"),s=a.find(".refill-sih-balance__tab"),r=$J('\n     <div class="refill-sih-balance__tab '+t+' sih-modal__column" data-title="'+t+'" data-prev-title="'+i+'">\n        <div class="sih-modal__column mb-35">\n            <span class="sih-modal__title text-capitalize">'+(SIHLang.refillBalance[t+"_title"]?SIHLang.refillBalance[t+"_title"]:t)+'</span>\n        </div>\n        <div class="refill-sih-balance__tab-content"></div>\n\n     </div>\n  ');e.sort(function(e,t){Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);var i=m(e,"title"),n=m(t,"title");return i[0].local_title===n[0].local_title?0:i[0].local_title<n[0].local_title?-1:1}).forEach(function(e){if(Array.isArray(e)||(e=[e]),e.length>1){var i=$J('\n        <a href="javascript:void(0)" class="refill-sih-balance__method refill-sih-balance__new-tab sih-modal__row items-center justify-between">\n            <span class="sih-modal__text text-capitalize sih-modal__text_lg sih-modal__text_extra-bold">'+e[0].local_title+'</span>\n            <svg width="7" height="12" viewBox="0 0 7 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.38492 0.229989L6.7189 5.37768C6.91087 5.55355 7 5.76325 7 6C7 6.23675 6.90402 6.45321 6.7189 6.62909L1.38492 11.77C1.23408 11.9188 1.04211 12 0.815866 12C0.356513 12 -8.1477e-07 11.6483 -8.20094e-07 11.2018C-8.22675e-07 10.9853 0.0822717 10.7756 0.246816 10.6201L5.05289 6.00676L0.246816 1.37993C0.0891276 1.23112 -9.41494e-07 1.02142 -9.44156e-07 0.798196C-9.4948e-07 0.351748 0.356513 7.92228e-08 0.815866 7.37451e-08C1.03526 7.11288e-08 1.23408 0.0811725 1.38492 0.229989Z" fill="#6F7F8A"/>\n            </svg>\n        </a>\n      ');r.find(".refill-sih-balance__tab-content").append(i),i.off("click").click(function(){a.find(".refill-sih-balance__tab").hide(),o(e,e[0].local_title,t)})}else r.find(".refill-sih-balance__tab-content").append('\n        <a href="javascript:void(0)" class="refill-sih-balance__method refill-sih-balance__payment-link sih-modal__row" data-payment-id="'+e[0].id+'">\n            <span class="sih-modal__text sih-modal__text_capitalize sih-modal__text_lg sih-modal__text_extra-bold">'+e[0].title+"</span>\n        </a>\n      ")}),s.hide();var d=a.find(".refill-sih-balance__tab."+t);d.length?(d.remove(),a.append(r)):a.append(r),l()}function l(){var e=$J(".refill-sih-balance");e.find(".refill-sih-balance__payment-link").each(function(t,n){$J(n).off("click").click(function(){i.i(p.b)();var t=$J(this),n=t.data("payment-id"),a=+e.attr("data-refill-amount"),s=Math.ceil(1e3*(.01*a+a))/1e3,r={paymentId:n,amount:s};h.SihAppGlobal.getLoginSihAppUser().then(function(e){i.i(p.a)(),i.i(f.b)(r,e.user.email)})})})}function d(e){var t={},i=h.localStorageJSON.get("SIH_REFILL_BALANCE")||{},n=i.country?i.country:"usa",a="rus"===n?"rub":"usd";switch(e){case"crypt":t={payment_system:"cryptomus"};break;case"bank":t={method_name:g[e],currency:a};break;case"wallet":t={method_name:g[e],currency:a}}return t}function c(e,t){return e&&e.length&&t?e.reduce(function(e,i){return e.push(i),Object.entries(t).forEach(function(t){var i=t[0],n=t[1];e=Array.isArray(n)?e.filter(function(e){return e.is_enabled&&n.includes(e[i])}):e.filter(function(e){return e.is_enabled&&e[i]===n})}),e},[]):[]}function _(e,t){return t.map(function(t){return e.map(function(e){if(e.method_name.match(t))return e.local_title=t,e}).filter(function(e){return e})}).filter(function(e){return e.length})}function m(e,t){return e.sort(function(e,i){return e[t]===i[t]?0:e[t]<i[t]?-1:1})}t.a=n,t.b=a;var u=i(56),h=(i.n(u),i(0)),p=i(6),f=i(22),g={skins:["skinsback"],bank:["card","sberbank"],crypt:["bitcoin","ethereum","tether","tron","polygon","monero","ton","litecoin","dogecoin","dash","binance","chaingpt"],wallet:["yandex"]}},function(e,t,i){"use strict";function n(){a(),m()}function a(){var e=$J("#sih-modal__buy-orders"),t='\n       <div class="sih-modal sih-global cart-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner sih-modal__column">\n            <div class="sih-modal__header sih-modal__column gap-20">\n\n              <div class="header-container">\n                <div class="sih-modal__row title gap-23 items-center lh-26 pt-32 px-36">\n                  <div class="cart-tab__title sih-modal__text sih-modal__text_xl"></div>\n                  <div class="sih-modal__cart-count"></div>\n                </div>\n                <div class="header-container__timer" title="'+SIHLang.cart.timer_tooltip+'"></div>\n              </div>\n\n                <div class="sih-modal__column cart-tab__content mt-16 gap-2"></div>\n                <div class="sih-modal__error"></div>\n            </div>\n\n            <div class="sih-modal__bottom sih-modal__column gap-20">\n\n            </div>\n\n          </div>\n       </div>\n  ';e.find(".cart-tab")&&e.append(t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),n=t.find(".cart-tab__title"),a=t.find(".sih-modal__cart-count");g.SihAppGlobal.getAllBuyStack().then(function(s){if(s&&s.length){var m=g.SihAppGlobal.getFilterItemsByStatus(s,e);if(m&&m.length){var u=0;m.forEach(function(e,t){u+=e.price||0});var h=g.Currency.getPriceFromCurrency(u,C).text;n.text(""+SIHLang.sihAppMarket.cart.title),a.text(m.length+" - "+h),o(t,h),l(t),d(t,u),c(t),_()}else t.addClass("empty"),r(),i.i(y.a)(t.find(".sih-modal__bottom"))}else t.addClass("empty"),r(),i.i(y.a)(t.find(".sih-modal__bottom"))})}function r(){var e=$J("#sih-modal__buy-orders").find(".sih-modal.cart-tab"),t=e.find(".cart-tab__title"),i=e.find(".sih-modal__cart-count"),n=e.find(".cart-tab__content"),a=n.find(".title"),s=e.find(".sih-modal__info-message"),r=e.find(".sih-modal__buttons"),o=e.find(".sih-modal__sum-cart-coast");a.length||n.append('\n      <div class="sih-modal__column w-100per h-100per justify-center items-center gap-20 h-300 mt-40">\n          <span class="sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.cart.empty_title+'</span>\n          <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.cart.empty_text+'</span>\n          <a href="javascript:void(0)" class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10">SIH Market</a>\n      </div>\n    '),t.text(""+SIHLang.sihAppMarket.cart.title_empty),i.text(""),o.hide(),s.hide(),r.hide(),function(){e.find(".sih-go-market").off("click").click(function(){g.chromeStorage.getLocal(S).then(function(e){e.openTab=!0,g.chromeStorage.setLocal(S,e)}),window.open("https://steamcommunity.com/market/","_self")})}()}function o(e,t){var i='\n                  <div class="sih-modal__sum-cart-coast sih-modal__row justify-end px-36">\n                        <div class="sih-modal__row gap-5">\n                         <span class="sih-modal__text sih-modal__text_md sih-modal__text_white">'+SIHLang.sihAppMarket.global.total+'</span>\n                         <span class="sih-modal__sum-cart-value sih-modal__text sih-modal__text_md sih-modal__text_white sih-modal__text_bold">'+t+"</span>\n                   </div>\n                ";e.find(".sih-modal__sum-cart-coast").length?e.find(".sih-modal__sum-cart-coast").find(".sih-modal__sum-cart-value").text(t):e.find(".sih-modal__header").append(i)}function l(e){var t='\n                  <div class="sih-modal__info-message sih-modal__row justify-center text-center mb-20">\n                       <div class="sih-modal__row w-560">\n                         <span class="sih-modal__text sih-modal__text_md sih-modal__text_white lh-23">'+SIHLang.sihAppMarket.cart.info_message_1_text_1+'\n                         \x3c!-- <a href="javascript:void(0)" class="show-info_v2 sih-modal__text sih-modal__text_md sih-modal__text_blue lh-23"">'+SIHLang.sihAppMarket.cart.info_message_1_text_2+"</a>--\x3e\n                         </span>\n                       </div>\n                  </div>\n                ";e.find(".sih-modal__info-message").length?e.find(".sih-modal__info-message").show():e.find(".sih-modal__bottom").prepend(t)}function d(e,t){var i=g.Currency.getPriceFromCurrency(t,C).text,n='\n\n                  </div>\n                    <div class="sih-modal__buttons sih-modal__row justify-end px-36 pb-32">\n                      <button class="sih-modal__button-exit sih-modal__button bg-grey py-13 px-24">'+SIHLang.sihAppMarket.cart.continue+'</button>\n                      <button id="sih-cart-buy" class="sih-modal__button sih-modal__button_blue sih-modal__row justify-center items-center gap-5 py-13 px-24"><span class="sih-modal__text sih-modal__text_md lh-14">'+SIHLang.sihAppMarket.cart.buy_now+'</span><span\n                        class="sih-modal__text sih-modal__text_md sih-modal__text_bold lh-14 cart-tab__button-sum">'+(t&&t>0?i:"")+"</span></button>\n                    </div>\n                  ";e.find(".sih-modal__buttons").length?(e.find(".sih-modal__buttons").show(),$J("#sih-cart-buy").find(".cart-tab__button-sum").text(i)):e.find(".sih-modal__bottom").append(n),t&&t>0?e.find("#sih-cart-buy").prop("disabled",!1):e.find("#sih-cart-buy").prop("disabled",!0)}function c(e){var t=e.find(".header-container__timer");t.tooltip({position:{my:"center bottom",at:"center top"}}),p(),A=setInterval(function(){if(t.text(new Date(w).toISOString().slice(14,19)),!w)return p(),void g.SihAppGlobal.updateSIHMarketPrice().then(function(){s()});w-=x},x)}function _(){u(),i.i(v.f)(s),i.i(v.g)(s),h()}function m(){var e=$J("body").find("#sih-enter-password"),t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.cart-tab"),a=t.find(".sih-modal.ordering-tab"),r=t.find(".sih-modal.orders-history-tab");$J("#sih-header-cart").off("click").click(function(){g.SihAppGlobal.updateSIHMarketPrice().then(function(){i.i(v.e)("cart-tab").then(function(){s(),n.show(),t.show(),e.hide(),a.hide(),r.hide()})}),i.i(k.a)()})}function u(){$J(".sih-modal__button-exit").off("click").click(function(){$J("body").css("overflow","auto"),i.i(b.a)(),p()})}function h(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.cart-tab"),n=t.find("#sih-cart-buy"),a=t.find(".sih-modal__error");n.off("click").click(function(){var e=a.find(".sih-modal__error_message"),t=$J(this);t.addClass("animated-background-btn"),g.SihAppGlobal.getUserSihApp().then(function(n){n.success?(t.removeClass("animated-background-btn"),i.i(v.a)(!0,"ordering")):n.hasOwnProperty("error")?g.SihAppGlobal.errorHandler(t,a,e,n.error):g.SihAppGlobal.errorHandler(t,a,e)}),i.i(k.b)(),p()})}function p(){clearInterval(A),w=I}t.c=n,t.a=s,t.b=_,t.d=p;var f=i(62),g=(i.n(f),i(0)),b=i(18),v=i(7),k=i(9),y=i(23),S="SIH_MARKET_TAB",C=1,I=6e4,x=1e3,w=I,A=null},function(e,t,i){"use strict";function n(){s(),i.i(u.e)(),i.i(g.a)(),i.i(f.a)(),i.i(h.c)(),setTimeout(function(){r(),i.i(g.b)()},500)}function a(){$J("#sih-modal__buy-orders").hide().remove(),i.i(b.a)(),n()}function s(){var e=$J("body");e.find("#sih-modal__buy-orders").length||e.append('\n    <div id="sih-modal__buy-orders">\n        <div class="sih-modal__buy-orders__fade"></div>\n    </div>\n  ')}function r(){l()}function o(){var e=$J("#sih-modal__buy-orders");e.find(".sih-modal:visible").hasClass("ordering-tab")&&i.i(p.a)(),e.hide()}function l(){$J(document).off("keydown").keydown(function(e){27===e.keyCode&&(e.stopPropagation(),o(),a())}),$J(".sih-modal__buy-orders__fade").off("click").click(function(){d()||(o(),a(),i.i(h.d)())}),$J("#sih-modal__buy-orders").find(".sih-modal__close").each(function(e,t){$J(t).off("click").click(function(){o(),a(),i.i(h.d)()})})}function d(){var e=$J("#sih-modal__buy-orders"),t=$J("body").find("#sih-enter-password").is(":visible"),i=["ordering-tab","cart-tab"];return e.find(".sih-modal:visible").each(function(e,n){var a=$J(n);i.forEach(function(e){a.hasClass(e)&&(t=!0)})}),t}t.b=n,t.a=a;var c=i(35),_=(i.n(c),i(75)),m=(i.n(_),i(74)),u=(i.n(m),i(10)),h=i(17),p=i(7),f=i(19),g=i(27),b=i(6);window.onbeforeunload=function(){o()}},function(e,t,i){"use strict";function n(){o(),l(),i.i(p.b)(),i.i(h.b)()}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=$J("#sih-modal__buy-orders"),i=t.find(".sih-modal.orders-tab"),n=i.find(".orders-tab__content");return function(){n.each(function(e,t){var i=$J(t),n=i.find(".fake-orders-tab__content");i.find(".orders-tab__item").fadeOut(),n.length?n.fadeIn():i.append('\n      <div class="fake-orders-tab__content">\n        \n      <div class="fake-orders__row sih-modal__column rounded-8">\n            <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n            <div class="sih-modal__row mt-20 justify-between">\n\n                <div class="sih-modal__row items-start gap-15">\n                    <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n                    <div class="sih-modal__column gap-5">\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n\n                    </div>\n\n                </div>\n\n                <div class="sih-modal__column w-320 gap-15">\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    \n        \n      <div class="fake-orders__row sih-modal__column rounded-8">\n            <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n            <div class="sih-modal__row mt-20 justify-between">\n\n                <div class="sih-modal__row items-start gap-15">\n                    <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n                    <div class="sih-modal__column gap-5">\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n\n                    </div>\n\n                </div>\n\n                <div class="sih-modal__column w-320 gap-15">\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    \n        \n      <div class="fake-orders__row sih-modal__column rounded-8">\n            <div class="sih-modal__row w-100 h-28 bg-grey rounded-4"></div>\n            <div class="sih-modal__row mt-20 justify-between">\n\n                <div class="sih-modal__row items-start gap-15">\n                    <div class="sih-modal__column w-40 h-40 bg-grey rounded-4"></div>\n\n                    <div class="sih-modal__column gap-5">\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n                        <span class="w-100 h-20 bg-grey rounded-4"></span>\n\n                    </div>\n\n                </div>\n\n                <div class="sih-modal__column w-320 gap-15">\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n\n                    <div class="sih-modal__row justify-between">\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                        <div class="w-100 h-20 bg-grey rounded-4"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    \n      </div>\n    ')})}(),new Promise(function(t){return setTimeout(t,e)})}function s(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab"),i=t.find(".orders-tab__content"),n=i.find(".orders-tab__item");i.find(".fake-orders-tab__content").fadeOut(),n.fadeIn()}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;v=e}function o(){var e=$J("#sih-modal__buy-orders"),t='\n       <div class="sih-modal sih-global orders-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner sih-modal__column">\n               <div class="orders-tab__header sih-modal__row gap-60">\n                    <div class="sih-modal__column">\n                        <div class="title sih-modal__title">'+SIHLang.sihAppMarket.orders.title+'</div>\n                    </div>\n               </div>\n               <div class="orders-tabs orders-tabs__container sih-modal__row gap-30 mb-20">\n                  <label for="orders-active" class="orders-tabs__label">\n                      <input type="radio" name="orders-tab" id="orders-active" class="orders-tabs__input" checked>\n                      <span class="orders-tabs__item sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.orders.tab_active+'</span>\n                  </label>\n                  <label for="orders-history" class="orders-tabs__label">\n                      <input type="radio" name="orders-tab" id="orders-history" class="orders-tabs__input">\n                      <span class="orders-tabs__item sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.orders.tab_history+'</span>\n                   </label>\n                   <a href="javascript:void(0)" class="orders-tabs__refresh-btn sih-modal__row items-center gap-5 absolute right-32 bottom-0 '+(v>0?"pointer-events-none opacity-5":"")+'">\n                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="white"/>\n                      </svg>\n                      <div class="orders-tabs__timer sih-modal__row items-center">\n                        <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">00:</span>\n                        <span class="orders-tabs__timer-seconds sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+(v||"")+"</span>\n                      </div>\n                   </a>\n               </div>\n          </div>\n       </div>\n  ";e.find(".orders-tab").length||e.append(t)}function l(){d(),c(),_(),m()}function d(){function e(){t.show(),n.show(),i.i(g.a)(),a().then(function(){i.i(p.a)(),i.i(h.a)()})}var t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.orders-tab");$J("#sih-header-orders").off("click").click(function(){var n=$J("body").find("#sih-enter-password");f.SihAppGlobal.getUserOrdersHistory(!1).then(function(i){i&&i.success?i.tfaNeed?(t.hide(),n.attr("data-show-modal","orders").show()):e():i&&!i.hasOwnProperty("authorization")?f.SihAppGlobal.getLoginSihAppUser().then(function(i){i.tfaNeed?(t.hide(),n.attr("data-show-modal","orders").show()):e()}):e()}),i.i(b.c)()})}function c(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab");t.find(".orders-tabs__container").find(".orders-tabs__input").each(function(e,i){$J(i).change(function(){var e=$J(this),i=t.find("#pagination-container"),n=t.find(".orders-tabs__refresh-btn");t.find(".orders-tab__content").addClass("hidden"),t.find("."+e.attr("id")+"-tab__content").removeClass("hidden"),"orders-history"===e.attr("id")?(i.css("display","flex"),n.css("display","flex")):(i.hide(),n.hide())})})}function _(){var e=$J("#sih-modal__buy-orders");e.find(".sih-modal.orders-tab").find(".orders-tabs__refresh-btn").off("click").click(function(){r();var t=$J("body").find("#sih-enter-password");f.SihAppGlobal.getUserOrdersHistory(!1).then(function(n){n&&n.success?n.tfaNeed?(e.hide(),t.attr("data-show-modal","orders").show()):a().then(function(){i.i(h.a)()}):(n&&n.hasOwnProperty("authorization"),f.SihAppGlobal.getLoginSihAppUser().then(function(e){a().then(function(){i.i(h.a)()})}))})})}function m(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab"),i=t.find(".orders-tabs__refresh-btn");clearInterval(k),r(),k=setInterval(function(){var e=t.find(".orders-tabs__timer"),n=e.find(".orders-tabs__timer-seconds");v>0?(e.is(":visible")||(i.addClass("pointer-events-none opacity-5"),e.show()),v-=1,n.text(v>=10?v:"0"+v)):(i.removeClass("pointer-events-none opacity-5"),e.hide())},1e3)}t.a=n,t.d=a,t.c=s,t.b=r;var u=i(63),h=(i.n(u),i(20)),p=i(29),f=i(0),g=i(2),b=i(9),v=30,k=null},function(e,t,i){"use strict";function n(){a()}function a(){var e=$J("#sih-modal__buy-orders"),t=e.find(".orders-tab"),i=t.find(".sih-modal__inner");i.find(".orders-history-tab__content").length||i.append('\n         <div class="orders-tab__content orders-history-tab__content hidden"></div>\n         <div id="pagination-container"></div>\n  ')}function s(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.orders-tab"),n=t.find(".orders-history-tab__content");n.find(".orders-tab__item").remove(),n.find(".orders-tab__plug").remove(),d.SihAppGlobal.getUserOrdersHistory().then(function(e){if(e.success||e.tfaNeed)if(e.orders.data.length){var t=d.SihAppGlobal.getFilterItemsByStatus(e.orders.data,["failed","finished","penalized"]);t.length&&i.i(c.b)(),r(t,e.orders.pagination)}else{var a=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n            <span class="sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.orders.plug_history_title+'</span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.orders.plug_text+"</span>\n        </div>\n      ");n.find(".orders-tab__plug").length||n.append(a)}else{var s=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20">\n            <span class="sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.orders.plug_history_title+'</span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.orders.plug_text+"</span>\n        </div>\n      ");n.find(".orders-tab__plug").length||n.append(s)}i.i(c.c)()})}function r(e,t){function n(n){var a=$J(n.currentTarget),s=a.attr("data-num").trim();if(s&&s*m>t.perPage*t.page){for(var o=t.page,l=Math.ceil(s*m/t.perPage),u=[],h=o+1;h<=l;h++)u.push(d.SihAppGlobal.getUserOrdersHistory(!1,h));i.i(c.d)().then(function(){Promise.all(u).then(function(t){var n=[],a=void 0;t.forEach(function(t){var i=d.SihAppGlobal.getFilterItemsByStatus(t.orders.data,["failed","finished","penalized"]);n=n.length?[].concat(n,i):[].concat(e.map(function(e){return e}),i),a=t.orders.pagination}),r(n,a),_.pagination(s),i.i(c.c)()})})}}var a=$J("#sih-modal__buy-orders"),s=a.find(".sih-modal.orders-tab"),l=s.find(".orders-history-tab__content"),_=s.find("#pagination-container"),m=10;e.length<=t.total&&(e.length=t.total),_.pagination({dataSource:e,pageSize:m,afterNextOnClick:function(e){n(e)},afterPageOnClick:function(e){n(e)},callback:function(e){var t=o(e);l.html(t)}})}function o(e){var t='<div class="sih-modal__column gap-10">';return e.forEach(function(e){var i=d.Currency.getPriceFromCurrency(e.item_amount/1e3,_).text,n=new Date(e.created_at),a=n.toLocaleString();t+='\n        <div class="orders-tab__item item sih-modal__column rounded-8">\n            <div class="sih-modal__row sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.orders.order+" #"+e.id+'</div>\n\n            <div class="sih-modal__row justify-between mt-20">\n                \x3c!--TODO: change appid when the store is expanded--\x3e\n\n                <div class="sih-modal__column gap-10">\n\n                    <div class="sih-modal__row items-start gap-15">\n                        <a href="https://steamcommunity.com/market/listings/730/'+encodeURIComponent(e.item_name)+'" class="item__image">\n                            <img src="https://community.cloudflare.steamstatic.com/economy/image/'+e.item_info.image+'" alt="'+e.item_name+'">\n                        </a>\n\n                        <div class="sih-modal__column gap-5">\n                            <span class="sih-modal__text sih-modal__text_md">'+e.item_name+'</span>\n                            <span class="sih-modal__text sih-modal__text_md">'+i+'</span>\n                            <span class="sih-modal__text sih-modal__text_sm">'+d.SihAppGlobal._buyOrderStatusEnum[e.status]+"</span>\n                        </div>\n                     </div>\n\n                     "+(e.sender?'\n                        <div class="sih-modal__row items-start gap-15">\n\n                           <div class="item__image '+(e.sender.avatar?"bg-grey":"")+'">\n\n                              '+(e.sender.avatar?'<img src="'+(e.sender.avatar.match(/https:/g)?e.sender.avatar:"https://avatars.steamstatic.com/"+e.sender.avatar+"_medium.jpg")+'" alt="'+(e.sender.nickname?e.sender.nickname:"")+'">':"")+'\n\n                           </div>\n\n\n                            <div class="sih-modal__column gap-5">\n                              '+(e.sender.nickname?'<span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.orders.sender+": "+e.sender.nickname+"</span>":"")+"\n                              "+(e.sender.offerId?'<span class="sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.orders.trade_number_text+": "+e.sender.offerId+"</span>":"")+"\n                            </div>\n                        </div>\n                     ":"")+'\n                </div>\n\n                <div class="sih-modal__column w-320 gap-15">\n                    <div class="sih-modal__row justify-between">\n                        <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.order_date+'</div>\n                        <div class="sih-modal__text sih-modal__text_md">'+a+'</div>\n                    </div>\n\n                    <div class="sih-modal__row justify-between">\n                        <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.purchased_on_steam+'</div>\n                        <div class="sih-modal__text sih-modal__text_md">'+e.steam_id+"</div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n    "}),t+="</div>"}t.b=n,t.a=s;var l=i(65),d=(i.n(l),i(0)),c=i(19),_=1},function(e,t,i){"use strict";function n(){s(),r()}function a(e){for(var t=$J(".sih-modal.active-plan-tab"),i=e,n=Array.isArray(i),a=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(a>=i.length)break;s=i[a++]}else{if(a=i.next(),a.done)break;s=a.value}var r=s;if("adfree"===r.for_what){t.find(".sih-modal__smile").html(r.icon),t.find(".plans__name").text(""+(void 0!==r.plan_txt?r.plan_txt:""));var o=c.SihAppGlobal.getDaysNumber(r.active_till);o.hasOwnProperty("days")?t.find(".plans__time").text(SIHLang.subscribeAds.modal.activePlan.days_left+": "+o.days):t.find(".plans__time").text(SIHLang.subscribeAds.modal.activePlan.hours_left+": "+o.hours)}}}function s(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n      <div class="sih-modal sih-global active-plan-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner">\n            <h2 class="sih-modal__title text-center">'+SIHLang.subscribeAds.modal.activePlan.title+'</h2>\n            <div class="sih-modal__plans plans active">\n                <div class="plans__active-plan">\n                    <div class="plans__bottom gap-10">\n                        <span class="plans__active-plan_icon"></span>\n                        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold sih-modal__text_light-green">'+SIHLang.subscribeAds.modal.activePlan.active+'</span>\n                    </div>\n                    <span class="sih-modal__smile sih-modal__smile_lg"></span>\n                    <span class="plans__name sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold"></span>\n                    <span class="plans__time sih-modal__text sih-modal__text_sm opacity-50per"></span>\n                </div>\n            </div>\n            <div class="sih-modal__buttons justify-center">\n                <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-okey">'+SIHLang.subscribeAds.modal.okey+'</button>\n            </div>\n\n             <a href="https://sih.app/user/subscription" target="_blank" class="sih-modal__text_blue text-decoration-underline absolute left-50per -bottom-40 hover-opacity-8">'+SIHLang.subscribeAds.modal.sub_management+"</a>\n\n          </div>\n\n      </div>\n    ";e.find(".active-plan-tab").length||e.append(t)}function r(){o()}function o(){$J(".sih-modal.active-plan-tab").find(".sih-modal__button-okey").click(function(){$J(".sih-subscribe-ads").hide(),i.i(d.SetModalSubscribeToDefaultState)()})}t.a=n,t.b=a;var l=i(67),d=(i.n(l),i(4)),c=i(0)},function(e,t,i){"use strict";function n(){s(),r()}function a(e){var t=e.planName,i=e.paymentId,n=e.amount,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=$J(".sih-subscribe-ads"),r=$J(".selecting-plan-tab"),o=$J(".enter-email-tab"),d=o.find("#sih-email");r.hide(),o.show();var c=s.find(".sih-modal__save-email"),_=s.find(".sih-modal__cancel-email"),m=s.find(".sih-modal__edit-email"),u=o.find(".sih-modal__button-send-email");c.hide(),_.hide(),m.hide(),o.find(".sih-modal__title").text(SIHLang.subscribeAds.modal.second_title+" "+(t?", "+t:"")),a?d.val()!==a&&""!==d.val()||(d.val(""+a),o.find(".sih-modal__buttons_email").css("display","flex"),d.focus()):d.focus(),r.find(".payment__input").each(function(e,t){var i=$J(t);if(i.prop("checked"))switch(i.data("name").toLowerCase()){case"stripe":u.text(SIHLang.subscribeAds.modal.complete_payment_stripe);break;case"gamemoney":u.text(SIHLang.subscribeAds.modal.complete_payment_gamemoney);break;default:u.text(SIHLang.subscribeAds.modal.complete_payment)}}),l(i,n)}function s(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n      <div class="sih-modal sih-global enter-email-tab">\n          <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-selecting">\n            <span class="sih-modal__back_icon"></span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.back+'</span>\n          </div>\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner mt-20">\n            <h2 class="sih-modal__title"></h2>\n            <p class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.text_3+'</p>\n              <div class="sih-modal__row">\n                <label class="sih-modal__column w-328 gap-12" for="sih-email">\n                    <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.subscribeAds.modal.text_4+'</span>\n                    <input type="text" class="sih-modal__input" id="sih-email" placeholder="example@mail.com">\n                </label>\n                <div class="sih-modal__buttons sih-modal__buttons_email">\n                  <button class="sih-modal__button sih-modal__edit-email">'+SIHLang.subscribeAds.modal.edit+'</button>\n                  <button class="sih-modal__button sih-modal__button_blue sih-modal__save-email">'+SIHLang.subscribeAds.modal.save+'</button>\n                  <button class="sih-modal__button sih-modal__cancel-email">'+SIHLang.subscribeAds.modal.cancel+'</button>\n                </div>\n              </div>\n              <div class="sih-modal__error"></div>\n              <div class="sih-modal__buttons">\n                  <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-send-email">'+SIHLang.subscribeAds.modal.complete_payment+"</button>\n              </div>\n          </div>\n      </div>\n  ";e.find(".enter-email-tab").length||e.append(t)}function r(){o()}function o(){u(),m(),d(),c(),_()}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".sih-subscribe-ads"),a=n.find(".sih-modal__error");n.find(".sih-modal__button-send-email").off("click").click($J.debounce(300,function(){var s=this;$J(this).addClass("animated-background-btn");var r=a.find(".sih-modal__error_message"),o=n.find("#sih-email").val();h(o)?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_EMAIL_SIH_APP",data:{email:o}},function(n){if(n.success){if(!e)return void f.SihAppGlobal.errorHandler($J(s),a,r,"Please, select method");t?f.SihAppGlobal.getLinkForInvoice(t>1?t:1,e).then(function(e){e&&e.success&&e.url?($J(s).removeClass("animated-background-btn"),i.i(g.SetModalSubscribeToDefaultState)(),window.open(e.url,"_blank")):e.hasOwnProperty("error")?f.SihAppGlobal.errorHandler($J(s),a,r,e.error):f.SihAppGlobal.errorHandler($J(s),a,r)}):chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:e}},function(e){e.success?($J(s).removeClass("animated-background-btn"),i.i(g.SetModalSubscribeToDefaultState)(),e.url&&window.open(e.url,"_blank")):e.hasOwnProperty("error")?f.SihAppGlobal.errorHandler($J(s),a,r,e.error):f.SihAppGlobal.errorHandler($J(s),a,r)})}else n.hasOwnProperty("authorization")?f.SihAppGlobal.errorHandler($J(s),a,r):f.SihAppGlobal.errorHandler($J(s),a,r,n.error)}):f.SihAppGlobal.errorHandler($J(this),a,r,"Invalid email")}))}function d(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__edit-email"),i=e.find(".sih-modal__save-email"),n=e.find(".sih-modal__cancel-email"),a=e.find(".sih-modal__button-send-email"),s=e.find("#sih-email");t.click(function(){s.attr("disabled",!1),s.focus(),t.hide(),i.show(),n.show(),a.attr("disabled",!0)})}function c(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__cancel-email"),i=e.find(".sih-modal__edit-email"),n=e.find(".sih-modal__save-email"),a=e.find(".sih-modal__button-send-email"),s=e.find("#sih-email");t.click(function(){s.attr("disabled",!0),s.focus(),t.hide(),n.hide(),i.show(),a.attr("disabled",!1)})}function _(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__save-email"),i=e.find(".sih-modal__cancel-email"),n=e.find(".sih-modal__edit-email"),a=e.find(".sih-modal__button-send-email"),s=e.find("#sih-email"),r=e.find(".sih-modal__error");t.click(function(){var e=this,o=r.find(".sih-modal__error_message");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_EMAIL_SIH_APP"},function(l){l.hasOwnProperty("error")?f.SihAppGlobal.errorHandler($J(e),r,o,l.error):(s.attr("disabled",!0),s.focus(),i.hide(),t.hide(),n.show(),a.attr("disabled",!1))})})}function m(){var e=$J(".sih-subscribe-ads"),t=e.find(".sih-modal__button-send-email");1===$J(".selecting-plan-tab:visible").length&&$J(document).keydown($J.debounce(300,function(e){13===e.keyCode&&(e.stopPropagation(),t.trigger("click"))}))}function u(){var e=$J(".sih-subscribe-ads");e.find(".sih-modal__back-selecting").click(function(){$J(".enter-email-tab").hide(),$J(".selecting-plan-tab").show(),e.find(".sih-modal__error").children().remove()})}function h(e){return e.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}t.a=n,t.b=a;var p=i(69),f=(i.n(p),i(0)),g=i(4)},function(e,t,i){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(e,t)}t.a=n;var a=i(66),s=(i.n(a),i(0)),r=null,o=function(e,t){l(e,t);var i=Math.floor(10*Math.random()+1),n={page:i,limit:5};s.SihAppGlobal.getTopSales(t||n).then(function(i){var n=i.data;i.pagination;c().then(function(){if(n&&n.length){var i=$J('\n        <div class="sih-global sih-top-sales">\n            <span class="title">'+(t?""+SIHLang.skinsRefilling.modal.top_sales_title:SIHLang.sihAppMarket.topSales.title)+'</span>\n            <div class="sih-top-sales__content row items-stretch gap-12"></div>\n        </div>\n      ');if(!t){var a=$J('\n        <a href="javascript:void(0)" class="row items-center sih-top-sales__refresh">\n          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4C9.87827 4 7.84344 4.84285 6.34315 6.34315C4.84285 7.84344 4 9.87827 4 12C4 14.1217 4.84285 16.1566 6.34315 17.6569C7.84344 19.1571 9.87827 20 12 20C15.73 20 18.84 17.45 19.73 14H17.65C16.83 16.33 14.61 18 12 18C10.4087 18 8.88258 17.3679 7.75736 16.2426C6.63214 15.1174 6 13.5913 6 12C6 10.4087 6.63214 8.88258 7.75736 7.75736C8.88258 6.63214 10.4087 6 12 6C13.66 6 15.14 6.69 16.22 7.78L13 11H20V4L17.65 6.35Z" fill="white"/>\n          </svg>\n        </a>\n      ');i.find(".sih-top-sales__content").append(a)}if(!e.find(".sih-top-sales").length){e.append(i),m(n);$J(".sih-top-sales__content").find(".sih-top-sales__item").fadeIn(),_()}}else d(e,t)})})},l=function(e,t){for(var i=t||{limit:5},n=i.limit,a=$J('\n        <div class="sih-global sih-top-sales sih-top-sales__fake">\n            <div class="w-265 h-28 bg-grey rounded-4"></div>\n            <div class="sih-top-sales__content row items-center gap-12"></div>\n        </div>\n  '),s=0;s<n;s++)a.find(".sih-top-sales__content").append('<div class="sih-top-sales__item h-197 bg-grey"></div>');if(n<=5){a.find(".sih-top-sales__content").append('<div class="w-24 h-24 rounded-50per bg-grey"></div>')}e.find(".sih-top-sales__fake").length||e.append(a)},d=function(e,t){var i=$J('\n        <div class="sih-global sih-top-sales sih-top-sales__empty">\n           <div class="column w-320 justify-center gap-20">\n                <span class="text text_white fs-24 bold">'+SIHLang.sihAppMarket.topSales.plug_tab.title+'</span>\n                <span class="text text_white">'+SIHLang.sihAppMarket.topSales.plug_tab.text_1+'</span>\n                <a href="javascript:void(0)" class="relative text text_blue">'+SIHLang.sihAppMarket.topSales.plug_tab.text_2+"</a>\n           </div>\n        </div>\n        ");i.find("a").off("click").click(function(){$J(".sih-top-sales__empty").fadeOut(300,function(){$J(".sih-top-sales__empty").remove(),o(e,t)})}),e.find(".sih-top-sales__empty").length||e.append(i)},c=function(){return new Promise(function(e){$J(".sih-top-sales__fake").fadeOut(500,function(){e(),$J(".sih-top-sales__fake").remove()})})},_=function(){h()},m=function(e){e.reverse().forEach(function(e){var t=s.TopSales.getWearInfo(e.item),i=s.TopSales.getSplitName(e.item),n=i.skinTagName,a=i.skinName,r=encodeURIComponent(e.item),o=s.Currency.getPriceFromCurrency(e.comparative.price,1,1).text,l=s.Currency.getPriceFromCurrency(e.sihmarket.price,1,1).text,d=$J('\n          <a href="https://steamcommunity.com/market/listings/730/'+r+'" class="sih-top-sales__item column justify-between" style="display: none">\n              <div class="row justify-between px-8">\n\n                  <div class="row items-center gap-5">\n                    <div class="row w-8 h-8 rounded-50per" style="background-color: '+(t&&t.color?t.color:"transparent")+'"></div>\n                    <span class="sih-top-sales__wear-short text fs-12">'+(t&&t.wearShort?t.wearShort:"")+'</span>\n                  </div>\n\n                  <span class="text text_green-900 fs-12">-'+Math.ceil(100*e.profitPercent)/100+' %</span>\n              </div>\n              <div class="row justify-center">\n                    <div class="sih-top-sales__image">\n                        <img src="https://community.cloudflare.steamstatic.com/economy/image/'+e.image+'" alt="'+e.item+'">\n                    </div>\n              </div>\n              <div class="column px-8 sih-top-sales__name-block" title="'+e.item+'">\n                 <span class="text text_light-grey fs-10">'+n+'</span>\n                 <span class="text fs-12 sih-top-sales__item-name">'+a+'</span>\n              </div>\n              <div class="column gap-5 mt-11 px-8">\n\n                  <div class="row items-center gap-5">\n                   <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2C6.73 2 2.43 6.05 2 11.2L7.38 13.41C7.83 13.1 8.38 12.92 8.97 12.92L9.13 12.93L11.5 9.47V9.42C11.5 7.34 13.2 5.65 15.28 5.65C17.36 5.65 19.05 7.34 19.05 9.42C19.05 11.5 17.36 13.19 15.28 13.19H15.2L11.8 15.62V15.75C11.8 17.31 10.53 18.58 8.97 18.58C7.6 18.58 6.45 17.6 6.19 16.31L2.36 14.73C3.55 18.92 7.4 22 12 22C12.8828 22 13.7536 21.8833 14.5917 21.6583C13.6124 20.7456 13 19.4443 13 18C13 15.2386 15.2386 13 18 13C19.4443 13 20.7456 13.6124 21.6583 14.5917C21.8833 13.7536 22 12.8828 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612ZM10.33 16.33C10 17.13 9.08 17.5 8.28 17.17L7.06 16.67C7.27 17.12 7.65 17.5 8.15 17.71C9.23 18.16 10.5 17.64 10.93 16.56C11.15 16.04 11.15 15.46 10.93 14.94C10.72 14.41 10.31 14 9.78 13.79C9.26 13.57 8.71 13.58 8.22 13.76L9.5 14.29C10.28 14.62 10.66 15.53 10.33 16.33ZM15.28 11.94C16.67 11.94 17.8 10.81 17.8 9.42C17.8 8.04 16.67 6.91 15.28 6.91C14.95 6.90868 14.623 6.9727 14.3179 7.09837C14.0128 7.22404 13.7356 7.40887 13.5022 7.64221C13.2689 7.87555 13.084 8.15278 12.9584 8.4579C12.8327 8.76303 12.7687 9.09001 12.77 9.42C12.77 10.81 13.9 11.94 15.28 11.94ZM15.29 11.31C14.24 11.31 13.4 10.46 13.4 9.42C13.4 8.38 14.24 7.53 15.29 7.53C16.33 7.53 17.17 8.38 17.17 9.42C17.17 10.46 16.33 11.31 15.29 11.31Z" fill="white"/>\n                    <circle cx="18" cy="18" r="3" fill="#3DC67D"/>\n                  </svg>\n\n                    <span class="sih-top-sales__price max-w-90 text text_light-grey fs-12">'+o+'</span>\n                  </div>\n\n                  <div class="sih-top-sales__sih-price -ml-3">\n                      <img class="w-16 h-16" src="chrome-extension://'+SIHID+'/assets/marketplace/mini-icons/sih.svg" alt="sihmarket">\n                      <span class="text sih-top-sales__price max-w-70">'+l+"</span>\n                  </div>\n\n              </div>\n          </a>\n        "),c=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #F39227">ST</span>\n            <span class="text fs-12">|</span>\n          </div>\n        '),_=$J('\n          <div class="row gap-5">\n            <span class="text fs-12" style="color: #FFC700">SV</span>\n            <span class="text fs-12">|</span>\n          </div>\n        ');t&&t.stattrak&&d.find(".sih-top-sales__wear-short").before(c),t&&t.souvenir&&d.find(".sih-top-sales__wear-short").before(_),d.find(".sih-top-sales__name-block").tooltip({classes:{"ui-tooltip":"sih-top-sales__tooltip"},position:{my:"left top",at:"left bottom+10"}}),u(d),$J(".sih-top-sales__content").prepend(d)})},u=function(e){e.off("click").click(function(){s.chromeStorage.getLocal("SIH_MARKET_LISTINGS_INFO").then(function(e){1!==e.indexBlockBestOfferOfMarketplaceTabs&&(e.indexBlockBestOfferOfMarketplaceTabs=1,e.set(e))})})},h=function(){var e=$J(".sih-top-sales");e.find(".sih-top-sales__refresh").off("click").click(function(){var t=$J(this);t.hasClass("pointer-events-none")||t.addClass("pointer-events-none");var i=e.find(".sih-top-sales__item");i.each(function(e,t){$J(t).append('<div class="animated-item"></div>')}),clearTimeout(r),r=setTimeout(function(){var n=Math.floor(10*Math.random()+1),a={page:n,limit:5};s.SihAppGlobal.getTopSales(a).then(function(n){var a=n.data,s=(n.pagination,0);a&&a.length&&i.fadeOut(300,function(){++s===a.length&&(e.find(".sih-top-sales__item").remove(),m(a),e.find(".sih-top-sales__item").fadeIn(),t.removeClass("pointer-events-none"))})})},500)})}},,function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(111),a=(i.n(n),i(3)),s=i(0),r=null,o=function(e){l(e),d()},l=function(e){var t=$J("body"),i=a.b.getPercentAlert(e),n=i.percent_alert,s=void 0===n?20:n,r=$J('\n  <div id="sih-edit-alert" class="sih-edit-alert" data-table-id="'+e+'">\n        <div class="sih-edit-alert__fade"></div>\n        <div class="sih-global sih-modal sih-edit-alert__modal">\n          <div class="sih-modal__close"></div>\n          <div class="sih-edit-alert__inner sih-modal__inner">\n\n            <h4 class="text fs-14">'+SIHLang.market.resubmit_orders.edit_alert_modal.title+'</h4>\n\n            <label for="sih-edit-alert-input" class="row justify-between items-center bg-black-100 py-8 px-24 br2-grey">\n              <input type="number" id="sih-edit-alert-input" class="text text_white bg-transparent border-none" value="'+s+'" step="1" min="1">\n\n              <label for="sih-edit-alert-input">\n                <span class="text text_grey-900 fs-14">%</span>\n              </label>\n            </label>\n\n            <div class="sih-edit-alert__buttons">\n                <a href="javascript:void(0)" id="sih-edit-alert-cancel" class="sih-modal__button fs-10 bold py-8 px-45 text-uppercase">'+SIHLang.market.resubmit_orders.cancel+'</a>\n                <a href="javascript:void(0)" id="sih-edit-alert-save" class="sih-modal__button sih-modal__button_light-blue fs-10 bold py-8 text-uppercase px-16 py-8">'+SIHLang.market.resubmit_orders.save+"</a>\n            </div>\n\n          </div>\n        </div>\n  </div>\n  ");t.find("#sih-edit-alert").length||(t.append(r),$J("#sih-edit-alert").find(".sih-edit-alert__modal").fadeIn(300))},d=function(){c(),_(),u(),h()},c=function(){var e=$J("#sih-edit-alert"),t=e.find(".sih-modal__close"),i=e.find(".sih-edit-alert__fade"),n=e.find("#sih-edit-alert-cancel");t.off("click").click(function(){m()}),i.off("click").click(function(){m()}),n.off("click").click(function(){m()})},_=function(){$J("#sih-edit-alert-input").trigger("focus"),$J("#sih-edit-alert-input")[0].select()},m=function(){var e=$J("#sih-edit-alert");e.fadeOut(300,function(){e.remove()})},u=function(){var e=$J("#sih-edit-alert"),t=e.find("#sih-edit-alert-input");t.focus(function(){t.keyup(function(){var e=$J(this);clearTimeout(r),r=setTimeout(function(){var t=+e.val()||0,i=s.SihAppGlobal.validateInput(t,100);e.val(i)},500)})}),t.focusout(function(){t.off("keyup")}),t.off("change").change(function(){var e=$J(this),t=e.val(),i=s.SihAppGlobal.validateInput(t,100);e.val(i)})},h=function(){var e=$J("#sih-edit-alert"),t=e.find("#sih-edit-alert-save"),n=e.find("#sih-edit-alert-input");t.off("click").click(function(e){s()}),e.keyup(function(e){Event.KEY_RETURN===e.keyCode&&s()});var s=function(){var e=$J("#sih-edit-alert"),t=e.attr("data-table-id"),s=n.val(),r=a.b.get()||{};r["percent_alert_"+t]=s,a.b.set(r),i.i(a.c)(t),$J('.my_listing_section[data-table-id="'+t+'"] .sih-market-filter__edit-alert span').text(r["percent_alert_"+t]+"%"),m()}}},function(e,t,i){"use strict";i.d(t,"a",function(){return d}),i.d(t,"b",function(){return c});var n=i(114),a=(i.n(n),i(0)),s=i(3),r=i(13),o=i(11),l=i(12),d=(i(8),function(e){_(e),m()}),c=function(){var e=$J("#sih-resubmit-orders"),t=$J(".sih-toolbar"),i=t.find(".sih-toolbar__button");e.fadeOut(300,function(){e.remove(),i.removeClass("disabled opacity-50per")})},_=function(e){var t=$J("body"),n=e.attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",r=!!e.find(".sih-market-alert").length,o=i.i(s.a)(e),l=e.find(".market_listing_item_name_link").attr("href"),d=e.find(".market_listing_item_img").attr("src"),c=e.find(".market_listing_item_img").css("border-color"),_=e.find(".market_listing_item_name_link").text(),m=e.find(".market_listing_game_name").text(),u="sell_listings"===n?e.find(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span"):e.find(".sih_listing_my_price"),h="sell_listings"===n?e.find(".market_listing_minimum--text").text().trim():e.find(".market_listing_buyorder_max .market_listing_price").text().trim(),p="sell_listings"===n?u.find("span:first-child").text().trim():u.text().trim(),f="sell_listings"===n?u.find("span:last-child").text().trim():0,g=p.match(RegExp(/([\d+?., ]+)/g))||"0",b=i.i(a.parseNumber)("0"!==g?g[0]:g),v=h.match(RegExp(/([\d+?., ]+)/g))||"0",k=i.i(a.parseNumber)("0"!==v?v[0]:v),y=s.b.getPercentAlert(n),S=y.percent_alert,C=void 0===S?20:S,I=$J('\n     <div id="sih-resubmit-orders" class="sih-resubmit-orders" data-table-id="'+n+'">\n        <div class="sih-resubmit-orders__fade"></div>\n        <div class="sih-global sih-modal sih-resubmit-orders__modal">\n          <div class="sih-modal__close"></div>\n          <div class="sih-resubmit-orders__inner sih-modal__inner">\n\n              <div class="row gap-20 items-center justify-between">\n\n                  <div class="sih-resubmit-orders__item-info row items-center">\n                      <img class="sih-resubmit-orders__image market_listing_item_img" src="'+d+'" style="border-color: '+c+'">\n                      <div class="column">\n                          <a href="'+l+'" target="_blank" class="sih-resubmit-orders__item-name text bold">'+_+'</a>\n                          <span class="text fs-12 text_grey-900">'+m+'</span>\n                      </div>\n                  </div>\n\n                  <div class="sih-resubmit-orders__compare">\n\n                      <a href="javascript:void(0)" class="sih-resubmit-orders__current-price column" data-price="'+b+'">\n                        <span class="text text_white bold text-center text-ellipsis">'+p+"</span>\n                        "+(f?'<span class="text text_grey-900 text-center text-ellipsis">'+f+"</span>":"")+'\n                      </a>\n\n                      <div class="row justify-center items-center w-24 h-24">\n                          <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="#9EA7B3"/>\n                          </svg>\n                      </div>\n\n                      <a href="javascript:void(0)" class="sih-resubmit-orders__changed-price column" data-price="'+b+'">\n                        <span class="sih-resubmit-orders__changed-price--selling text text_white bold text-center text-ellipsis">'+p+"</span>\n                        "+(f?'<span class="sih-resubmit-orders__changed-price--receive text text_grey-900 text-center text-ellipsis">'+f+"</span>":"")+"\n                      </a>\n\n                  </div>\n\n              </div>\n\n              "+(r?'\n               <div class="sih-resubmit-orders__info-message sih-info-message" data-state="dumping">\n                  <div class="sih-info-message__default">\n                    <span class="text text_red bold">'+SIHLang.market.resubmit_orders.attention+'</span>\n                    <span class="text">\n                        '+("sell_listings"===n?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1)+"\n                        "+C+"%\n                        "+("sell_listings"===n&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"")+"\n                    </span>\n                  </div>\n               </div>\n              ":'<div class="sih-resubmit-orders__info-message sih-info-message" data-state="default">\n                  <div class="sih-info-message__default">\n                      <span class="text">'+SIHLang.market.resubmit_orders.set_new_price+"</span>\n                  </div>\n               </div>")+'\n\n              <div class="column gap-16">\n                  <label for="sih-resubmit-orders-input" class="row justify-between items-center bg-black-100 py-8 px-24 br2-grey">\n                     <input type="number" id="sih-resubmit-orders-input" class="sih-resubmit-orders__input text text_white bg-transparent border-none" value="'+b+'" step="0.01" min="0.03">\n\n                      <label for="sih-resubmit-orders-input" class="sih-resubmit-orders__best-price row gap-5" data-price="'+k+'">\n                          '+(r?'<span class="text text_red">'+SIHLang.market.resubmit_orders.market_price+'</span>\n                            <span class="text text_red">'+h+"</span>":'<span class="text text_grey-900">'+SIHLang.market.resubmit_orders.market_price+'</span>\n                            <span class="text text_grey-900">'+h+"</span>")+'\n                      </label>\n\n                  </label>\n              </div>\n\n              <div class="sih-modal__buttons row justify-end">\n                  <a href="javascript:void(0)" id="sih-resubmit-cancel" class="sih-modal__button fs-10 bold py-8 px-45 text-uppercase">'+SIHLang.market.resubmit_orders.cancel+'</a>\n                  <a href="javascript:void(0)" id="sih-resubmit-btn" class="disabled opacity-50per sih-modal__button sih-modal__button_light-blue fs-10 bold py-8 text-uppercase">'+SIHLang.market.resubmit_orders.confirm+"</a>\n              </div>\n\n          </div>\n        </div>\n     </div>\n  ");I[0].itemInfo=o,t.find("#sih-resubmit-orders").length||(t.append(I),$J("#sih-resubmit-orders").find(".sih-resubmit-orders__modal").fadeIn(300))},m=function(){u(),b(),h(),v(),y(),k()},u=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-modal__close"),i=e.find(".sih-resubmit-orders__fade"),n=e.find("#sih-resubmit-cancel");t.off("click").click(function(){c()}),i.off("click").click(function(){c()}),n.off("click").click(function(){c()})},h=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__best-price"),i=e.find("#sih-resubmit-orders-input"),n=e.find("#sih-resubmit-btn");t.off("click").click(function(){var e=$J(this),t=e.attr("data-price");i.val(t),p(i),n.removeClass("disabled opacity-50per")})},p=function(e){i.i(s.e)(e),f(),g()},f=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find(".sih-resubmit-orders__current-price"),s=e.find("#sih-resubmit-orders-input"),r=e.find(".sih-info-message"),o=e.find("#sih-resubmit-btn"),l=n.attr("data-price"),d=s.val(),c=i.i(a.getPercentNumberDifference)(d,l,"sell_listings"===t?-1:1),_=r.find(".sih-info-message__alert");if(c<=-10){var m=a.Currency.getPriceFromCurrency(Math.abs(d-l),currencyId,currencyId).text;if(o.hasClass("sih-modal__button_light-blue")&&(e.find(".sih-resubmit-orders__modal").addClass("alert"),o.removeClass("sih-modal__button_light-blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),_.length)_.find(".alert-info__percent").text(Math.abs(c)+"%"),_.find(".alert-info__price").text("("+m+")"),r.find(".sih-info-message__default").fadeOut(300,function(){_.fadeIn(300)});else{var u=r.attr("data-state"),h=void 0;h="dumping"===u?$J('\n        <div class="sih-info-message__alert alert-info gap-5">\n           <span class="text text_red">'+SIHLang.market.resubmit_orders.attention+'</span>\n           <span class="text text_white">'+("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1)+'</span>\n           <span class="alert-info__percent text text_white">'+Math.abs(c)+'%</span>\n           <span class="alert-info__price text text_white">('+m+')</span>\n           <span class="text text_white">'+("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"")+"</span>\n        </div>\n      "):$J('\n        <div class="sih-info-message__alert alert-info gap-5">\n           <span class="text text_red">'+SIHLang.market.resubmit_orders.attention+'</span>\n           <span class="text text_white">'+("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_discount_1:SIHLang.market.resubmit_orders.new_price_discount_buy_1)+'</span>\n           <span class="alert-info__percent text text_white">'+Math.abs(c)+'%</span>\n           <span class="alert-info__price text text_white">('+m+')</span>\n           <span class="text text_white">'+("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_discount_2:SIHLang.market.resubmit_orders.new_price_discount_buy_2)+"</span>\n\n        </div>\n      "),r.append(h),r.find(".sih-info-message__default").fadeOut(300,function(){r.find(".sih-info-message__alert").fadeIn(300)})}}else e.find(".sih-resubmit-orders__modal").removeClass("alert"),o.removeClass("sih-modal__button_red").addClass("sih-modal__button_light-blue").text(SIHLang.market.resubmit_orders.confirm),_.fadeOut(300,function(){r.find(".sih-info-message__default").fadeIn(300)})},g=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__changed-price--selling"),n=e.find(".sih-resubmit-orders__changed-price--receive").length?e.find(".sih-resubmit-orders__changed-price--receive"):null,r=e.find("#sih-resubmit-orders-input"),o=r.val(),l=o.match(RegExp(/([-\d+?., ]+)/g))||"0",d=i.i(a.parseNumber)("0"!==l?l[0]:l),c=d?i.i(s.f)(d):0,_=Math.floor(window.PriceUtils.steamBuyerPrice(c,g_rgWalletInfo.wallet_publisher_fee_percent_default,g_rgWalletInfo)/100*100)/100;_<d&&(d=_);var m=a.Currency.getPriceFromCurrency(d,currencyId,currencyId).text,u=a.Currency.getPriceFromCurrency(c/100,currencyId,currencyId).text;t.text(m),n&&n.length&&n.text("("+u+")")},b=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-resubmit-orders__current-price"),i=e.find("#sih-resubmit-orders-input"),n=e.find("#sih-resubmit-btn");t.off("click").click(function(){var e=$J(this),t=e.attr("data-price");i.val(t),n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"),p(i)})},v=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-orders-input"),i=e.find("#sih-resubmit-btn"),n=+e.find(".sih-resubmit-orders__current-price").attr("data-price"),a=null;t.focus(function(){t.keyup(function(){var e=$J(this),t=+e.val()||0;clearTimeout(a),a=setTimeout(function(){t>n||t<n?i.removeClass("disabled opacity-50per"):i.hasClass("disabled opacity-50per")||i.addClass("disabled opacity-50per"),p(e)},500)})}),t.focusout(function(){t.off("keyup")}),t.off("change").change(function(){var e=$J(this),t=+e.val()||0;t>n||t<n?i.removeClass("disabled opacity-50per"):i.hasClass("disabled opacity-50per")||i.addClass("disabled opacity-50per"),p(e)})},k=function(){$J("#sih-resubmit-orders-input").trigger("focus"),$J("#sih-resubmit-orders-input")[0].select()},y=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find("#sih-resubmit-orders-input"),a=e.find("#sih-resubmit-btn"),d=null;a.off("click").click(function(){clearTimeout(d),d=setTimeout(function(){a.addClass("pointer-events-none");var d=$J("#tabContentsMyListings").find("#"+("sell_listings"===t?"mylisting_"+e[0].itemInfo[1]:"mybuyorder_"+e[0].itemInfo[0]));i.i(s.g)(d,"manual",n),c(),i.i(r.a)(t),i.i(o.a)($J("#tabContentsMyActiveMarketListingsTable")),i.i(l.a)(t)},200)})}},function(e,t,i){"use strict";function n(){a(),s()}function a(){var e=$J("body"),t='\n   <div id="sih-enter-password">\n         <div class="sih-enter-password__fade"></div>\n         <div class="sih-modal sih-global">\n             <div class="sih-modal__close"></div>\n             <div class="sih-modal__inner sih-modal__column items-start">\n            <div class="sih-modal__text sih-modal__text_xl sih-modal__text_white">'+SIHLang.subscribeAds.modal.enterPassword.title+'</div>\n            <label class="sih-modal__column w-248" for="sih-password-input">\n                    <input type="password" autocomplete="new-password" class="sih-modal__input" id="sih-password-input" placeholder="'+SIHLang.subscribeAds.modal.enterPassword.enter_pwd+'">\n            </label>\n            <a href="https://sih.app/" target="_blank" class="sih-modal__text_md sih-modal__text_blue text-decoration-underline">'+SIHLang.subscribeAds.modal.enterPassword.forgot_pwd+'</a>\n             <label class="sih-modal__trading-rules sih-modal__row items-center gap-10 mt-16" for="trading-rules">\n                <input type="checkbox" name="trading-rules" id="trading-rules" class="hidden">\n                <label class="fake-checkbox" for="trading-rules"></label>\n                <div class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.enterPassword.trade_rule_1+' <a href="https://sih.app/" target="_blank" class="sih-modal__text_blue text-decoration-underline">'+SIHLang.subscribeAds.modal.enterPassword.trade_rule_2+'</a></div>\n            </label>\n            <div class="sih-modal__error mt-20"></div>\n            <div class="sih-modal__buttons mt-16">\n                <button id="sih-enter-password-btn" class="sih-modal__button sih-modal__button_blue px-24 py-16" disabled="disabled">'+SIHLang.subscribeAds.modal.enterPassword.continue+"</button>\n            </div>\n          </div>\n         </div>\n\n   </div>\n  ";e.find("#sih-enter-password").length||e.append(t)}function s(){r(),o(),l()}function r(){$J(document).keydown(function(e){27===e.keyCode&&(e.stopPropagation(),$J("#sih-enter-password").hide().remove(),n())}),$J("#sih-enter-password").find(".sih-modal__close").off("click").click(function(){$J("#sih-enter-password").hide().remove(),n()})}function o(){var e=$J("body"),t=e.find("#sih-enter-password"),i=t.find("#sih-password-input"),n=t.find("#trading-rules"),a=t.find("#sih-enter-password-btn");i.off().keyup(function(){var e=$J(this);n.prop("checked")&&e.val().length>0?a.prop("disabled",!1):a.prop("disabled",!0)}),n.off("click").click(function(){$J(this).prop("checked")&&i.val().length>0?a.prop("disabled",!1):a.prop("disabled",!0)})}function l(){var e=$J("#sih-enter-password"),t=e.find(".sih-modal__error");e.find("#sih-enter-password-btn").off("click").click(function(){var n=$J(this);n.addClass("animated-background-btn");var a=t.find(".sih-modal__error_message"),s=e.find("#sih-password-input").val();""!==s&&s?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ENTER_PASSWORD_SIH_APP",data:{password:s}},function(s){if(s.success){var r=e.data("show-modal"),o=$J(".sih-modal."+r+"-tab");switch(e.hide(),r){case"subscription-info":c.SihAppGlobal.getSubscribeAds().then(function(e){e.success?c.SihAppGlobal.getLoginSihAppUser().then(function(e){i.i(f.b)(e.subscribes),$J(".sih-subscribe-ads").show(),$J(".sih-subscribe-ads").find(".sih-modal").hide(),$J(".sih-modal.active-plan-tab").show()}):c.SihAppGlobal.getSubscribeAdsPlans().then(function(e){e&&e.length&&i.i(_.b)(e),$J(".sih-subscribe-ads").show()})});break;case"orders":c.SihAppGlobal.getUserOrdersHistory(!1).then(function(e){e.success&&(i.i(m.a)(),i.i(u.a)(),i.i(h.a)()),$J("#sih-modal__buy-orders").show()});break;case"ordering":i.i(p.a)(!0,"ordering"),$J("#sih-modal__buy-orders").show();break;case"notification-panel":$J("#sih-header-notifications").trigger("click")}o.show()}else c.SihAppGlobal.errorHandler(n,t,a,s.error)}):c.SihAppGlobal.errorHandler(n,t,a)})}t.a=n,t.b=s;var d=i(54),c=(i.n(d),i(0)),_=i(31),m=i(2),u=i(29),h=i(20),p=i(7),f=i(21)},function(e,t,i){"use strict";function n(){o()}function a(e){var t=e.find(".sih_item_order_name").text(),n=e.find(".sih-modal__cart-count-input"),a=e.find(".sih-modal__item-row-single-price"),s=e.find(".sih-modal__item-row-count"),r=e.find(".sih-modal__item-row-price-group"),o=(e.find(".sih-modal__increment"),0);return new Promise(function(e,l){i.i(f.b)("ordering-tab").then(function(l){i.i(f.c)("ordering").then(function(i){i&&i.length||e(),i.forEach(function(e,i){var d=0,c=0,_=0,m=e.length,u=e[m-1];if(o+=e.reduce(function(e,t){return o+e+t.price<=l?(d++,e+=t.price):(_++,c+=t.price),e},0),t===u.market_hash_name){var h=d+_;n.val(h);var p=u.price;if(p){var f=h*p,g=v.Currency.getPriceFromCurrency(f,S).text,b=v.Currency.getPriceFromCurrency(p,S).text;a.text(b),s.text(d+_+" "+SIHLang.sihAppMarket.global.units),r.text(g)}else a.text(""+SIHLang.sihAppMarket.global.not_available)}}),e()})})})}function s(){d(),l(),i.i(k.c)()}function r(){_(),u()}function o(){var e=$J("#sih-modal__buy-orders"),t=e.find(".orders-tab__main"),i='\n     <div class="ordering-tab__left-block sih-modal__column">\n                <div class="sih-modal__column ordering-tab__listing-block available">\n                        <div class="sih-modal__controls sih-modal__row justify-between">\n                          <div class="sih-modal__row gap-5">\n                            <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+SIHLang.sihAppMarket.ordering.available_items+'</span>\n\n                             <div class="sih-modal__controls__total-row sih-modal__row">\n                                 <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n                                 <span class="ordering-animated"></span>\n                             </div>\n                           </div>\n                          <div class="sih-modal__row gap-23 items-center px-10">\n                             <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.global.delete_all+'</a>\n\n                             <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-available">\n                                <input type="checkbox" name="select-all" id="select-all-available" class="ordering-tab__select-all-items-checkbox hidden" checked>\n                                <label class="fake-checkbox" for="select-all-available"></label>\n                                <label for="select-all-available" class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.global.remove_all+'</label>\n                             </label>\n\n                          </div>\n                        </div>\n                        <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n                        <div class="ordering-tab__content available sih-modal__column"></div>\n              </div>\n\n                <div class="sih-modal__column ordering-tab__listing-block unavailable">\n                    <div class="sih-modal__controls sih-modal__row justify-between mt-51">\n                        <div class="sih-modal__row gap-5">\n                          <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+SIHLang.sihAppMarket.ordering.unavailable_items+' </span>\n\n                           <div class="sih-modal__controls__total-row sih-modal__row">\n                                 <span class="ordering-tab__total-number sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n                                 <span class="ordering-animated"></span>\n                           </div>\n                        </div>\n                        <div class="sih-modal__row gap-23 items-center px-10">\n                           <a href="javascript:void(0)" class="ordering-tab__delete-all sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.global.delete_all+'</a>\n\n                           <label class="sih-modal__row items-center flex-row-reverse gap-15" for="select-all-unavailable">\n                              <input type="checkbox" name="select-all" id="select-all-unavailable" class="ordering-tab__select-all-items-checkbox hidden" checked>\n                              <label class="fake-checkbox" for="select-all-unavailable"></label>\n                              <label for="select-all-unavailable" class="ordering-tab__select-all_label sih-modal__text sih-modal__text_sm">'+SIHLang.sihAppMarket.global.remove_all+'</label>\n                           </label>\n\n                        </div>\n                    </div>\n\n                    <div class="splitter-1 bg-grey mt-16 mb-10"></div>\n\n                    <div class="ordering-tab__content unavailable  sih-modal__column"></div>\n                </div>\n\n\n\n  </div>\n  ';t.find(".ordering-tab__left-block").length||t.append(i)}function l(){var e=$J("#sih-modal__buy-orders").find(".ordering-tab"),t=e.find(".ordering-tab__content.available"),i=t.find(".sih-modal__row_item").length,n='\n    <div class="plug-available ordering-tab__plug-available sih-modal__column justify-center items-center h-100per gap-30">\n        <div class="sih-modal__column items-center gap-5">\n            <span class="sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.ordering.plug_text_1+'</span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.ordering.plug_text_2+'</span>\n        </div>\n\n        <button class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center rounded-8 py-16 w-100per max-w-360 opacity-5 pointer-events-none">'+SIHLang.sihAppMarket.ordering.buy_all+"</button>\n    </div>\n  ";t.find(".plug-available").length||t.find(".sih-modal__row_item").length||0!==i||t.append(n)}function d(){$J(".sih-modal.ordering-tab").find(".ordering-tab__listing-block").each(function(e,t){var i=$J(t),n=i.find(".sih-modal__controls"),a=i.find(".sih-modal__controls").find(".ordering-tab__total-number"),s=i.find(".sih-modal__row_item").length,r=n.find(".ordering-tab__delete-all");n.removeClass("opacity-5 pointer-events-none"),0===s&&(c(i),r.is(":visible")&&r.addClass("hidden")),a.text(s)})}function c(e){e.find(".sih-modal__controls").addClass("opacity-5 pointer-events-none")}function _(){m(),h()}function m(){var e=$J(".sih-modal.ordering-tab"),t=e.find(".ordering-tab__listing-block");t.each(function(e,n){var a=$J(n),s=a.find(".sih-modal__controls"),r=s.find(".ordering-tab__select-all-items-checkbox");r.off("change").change(function(){clearTimeout(C),C=setTimeout(function(){var e=a.find(".ordering-tab__content"),n=e.find(".sih-modal__row_item");if(t.each(function(e,t){var i=$J(t),a=i.find(".ordering-tab__delete-all"),s=i.find(".ordering-tab__select-all_label");r.prop("checked")?(s.text(""+SIHLang.sihAppMarket.global.remove_all),a.removeClass("hidden"),n.find(".select-item").prop("checked",!0)):(s.text(""+SIHLang.sihAppMarket.global.select_all),a.addClass("hidden"),n.find(".select-item").prop("checked",!1))}),e.hasClass("available")){var s=[];n.each(function(e,t){var i=$J(t),n=i.find(".sih_item_order_name").text(),a=i.find(".select-item").prop("checked"),r=s.findIndex(function(e){return e.name===n});s.length&&-1!==r||s.push({name:n,isChecked:a})}),$J(t[1]).find(".sih-modal__row_item").each(function(e,t){var i=$J(t),n=i.find(".sih_item_order_name").text(),a=i.find(".select-item"),r=s.find(function(e){return e.name===n});r&&r.name===n&&r.isChecked!==a.prop("checked")&&a.trigger("click")})}i.i(f.d)().then(function(){i.i(k.c)().then(function(){i.i(f.e)("ordering-tab","ordering").then(function(){i.i(g.ChangeItemCountInItemPage)(),i.i(b.b)(),i.i(y.a)(),i.i(k.a)()})})})},300)})})}function u(){var e=$J(".sih-modal.ordering-tab"),t=e.find(".ordering-tab__listing-block");t.each(function(e,n){var a=$J(n),s=a.find(".sih-modal__controls"),r=a.find(".ordering-tab__content"),o=r.find(".sih-modal__row_item"),l=s.find(".ordering-tab__select-all-items-checkbox");o.each(function(e,n){var a=$J(n);a.find(".select-item").off("change").change(function(){var e=this;clearTimeout(C),C=setTimeout(function(){if(r.hasClass("available")){var n=a.find(".sih_item_order_name").text();$J(t[1]).find(".sih-modal__row_item").each(function(t,i){var a=$J(i),s=a.find(".select-item"),r=a.find(".sih_item_order_name").text();n===r&&$J(e).prop("checked")!==s.prop("checked")&&s.trigger("click")})}i.i(f.d)().then(function(){i.i(k.c)().then(function(){i.i(f.e)("ordering-tab","ordering").then(function(){i.i(g.ChangeItemCountInItemPage)(),i.i(b.b)(),i.i(y.a)(),i.i(k.a)(),t.each(function(e,t){var i=$J(t),n=i.find(".ordering-tab__delete-all"),a=i.find(".ordering-tab__select-all_label");i.find(".select-item:checked").length?(a.text(""+SIHLang.sihAppMarket.global.remove_all),l.prop("checked",!0),n.removeClass("hidden")):(l.prop("checked",!1),a.text(""+SIHLang.sihAppMarket.global.select_all),n.addClass("hidden"))})})})})},1e3)})})})}function h(){var e=$J("#sih-modal__buy-orders"),t=e.find(".ordering-tab");t.find(".ordering-tab__listing-block").each(function(e,n){var a=$J(n),s=a.find(".sih-modal__controls"),r=s.find(".ordering-tab__delete-all"),o=t.find(".ordering-tab__select-all_label");r.off("click").click(function(){var e=a.find(".ordering-tab__content"),n=e.find(".sih-modal__row_item"),s=t.find("#select-all"),l=i.i(k.d)(n,null);i.i(k.b)(l).then(function(){}),s.prop("checked")?(s.prop("checked",!1),o.text(""+SIHLang.sihAppMarket.global.select_all)):r.is(":visible")&&r.addClass("hidden")})})}t.b=n,t.a=a,t.d=s,t.c=r;var p=i(58),f=(i.n(p),i(7)),g=i(5),b=i(2),v=i(0),k=i(10),y=i(14),S=1,C=null},function(e,t,i){"use strict";function n(){a()}function a(){var e=$J("#sih-modal__buy-orders"),t=e.find(".orders-tab"),i=t.find(".sih-modal__inner");i.find(".orders-active-tab__content").length||i.append('\n         <div class="orders-tab__content orders-active-tab__content sih-modal__column gap-10"></div>\n  ')}function s(){function e(){t.find(".sih-go-market").off("click").click(function(){f.chromeStorage.getLocal(S).then(function(e){e.openTab=!0,f.chromeStorage.setLocal(S,e)}),window.open("https://steamcommunity.com/market/","_self")})}var t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.orders-tab"),a=n.find(".orders-active-tab__content").removeClass("empty");a.find(".orders-tab__item").remove(),a.find(".orders-tab__plug").remove(),f.SihAppGlobal.getAllBuyStack().then(function(t){f.SihAppGlobal.getUserOrdersHistory().then(function(n){var s=t;n&&n.success&&!n.tfaNeed&&n.orders.data.length&&(s=[].concat(s,n.orders.data));var l=f.SihAppGlobal.getFilterItemsByStatus(s,["new","pending","created","processing","sent"]);if(!l.length||n.tfaNeed){var d=$J('\n        <div class="orders-tab__plug sih-modal__column w-100per h-100per justify-center items-center gap-20 mt-31 mb-50">\n            <span class="sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.orders.plug_active_title+'</span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.orders.plug_text+'</span>\n            <a href="javascript:void(0)" class="sih-go-market sih-modal__button sih-modal__button_blue py-10 px-14 fs-12 h-28 rounded-4 mt-10">SIH Market</a>\n        </div>\n      ');a.append(d),$J(".orders-active-tab__content").addClass("empty"),i.i(y.a)($J(".orders-active-tab__content")),e()}else{var c=l.sort(function(e,t){return t.orderAt-e.orderAt});c.forEach(function(e,t){var i=f.Currency.getPriceFromCurrency(e.price||e.item_amount/1e3,C).text,n=new Date(e.orderAt||e.created_at),s=n.toLocaleString(),r=$J('\n        <div class="orders-tab__item item sih-modal__column rounded-8">\n            '+(e.id?'<div class="sih-modal__row sih-modal__text sih-modal__text_xl">'+SIHLang.sihAppMarket.orders.order+" #"+e.id+"</div>":"")+'\n            <div class="sih-modal__row mt-20 justify-between">\n\n\x3c!--                TODO: change appid when the store is expanded--\x3e\n                <div class="item__left-side sih-modal__row items-start gap-15">\n                    '+(e.item_info?'<a href="https://steamcommunity.com/market/listings/730/'+encodeURIComponent(e.item_name)+'"\n                         class="item__image">\n                        <img src="https://community.cloudflare.steamstatic.com/economy/image/'+e.item_info.image+'"\n                             alt="'+e.item_name+'">\n                      </a>':'\n                        <a href="https://steamcommunity.com/market/listings/'+e.appid+"/"+encodeURIComponent(e.market_hash_name)+'" class="item__image">\n                            <img src="'+e.image.replace("/360fx360f","")+'" alt="'+e.market_hash_name+'">\n                        </a>\n                      ')+'\n\n                    <div class="sih-modal__column gap-5">\n                        <span class="item__name sih-modal__text sih-modal__text_md">'+(e.market_hash_name||e.item_name)+'</span>\n                        <span class="sih-modal__text sih-modal__text_md">'+i+'</span>\n                        <div class="item__status-block sih-modal__row items-center gap-8">\n                            <span class="item__status sih-modal__text sih-modal__text_sm" data-status="'+e.status+'" '+("pending"===e.status?'title="'+SIHLang.sihAppMarket.orders.pending_payment_tooltip+'"':"")+">"+f.SihAppGlobal._buyOrderStatusEnum[e.status]+'</span>\n                        </div>\n                        <div class="item__buttons sih-modal__row items-center mt-5 gap-20"></div>\n                        <div class="item__cancel-block sih-modal__row items-center mt-5 gap-8">\n                            <div class="item__cancel sih-modal__text sih-modal__text_sm"></div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <div class="item__right-side sih-modal__column w-320 gap-15">\n                    <div class="sih-modal__row justify-between">\n                        <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.order_date+'</div>\n                        <div class="sih-modal__text sih-modal__text_md">'+s+'</div>\n                    </div>\n\n                    <div class="sih-modal__row justify-between">\n                        <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.purchased_on_steam+'</div>\n                        <div class="sih-modal__text sih-modal__text_md">'+e.steam_id+"</div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ");e.createdAt?r[0].createdTimestamp=e.createdAt:e.created_at&&(r[0].createdTimestamp=new Date(e.created_at).getTime()),r.find(".item__status").tooltip({position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),a.append(r)}),r(),o(c),m(c)}i.i(v.c)()})})}function r(){function e(){var e=a.find(".item__spinner"),t=a.find(".item__timer"),n=a.find(".item__left-to-pay"),r=a.find(".item__left-to-pay--button");e.css("display","flex").hide().fadeOut(),t.css("display","flex").hide().fadeOut(),n.remove(),r.remove(),i.i(v.d)().then(function(){i.i(b.b)(),i.i(g.ChangeItemCountInItemPage)(),i.i(b.a)(),s(),i.i(k.a)()})}var t=$J("#sih-modal__buy-orders"),n=t.find(".sih-modal.orders-tab"),a=n.find(".orders-active-tab__content");clearInterval(I),I=setInterval(function(){f.SihAppGlobal.getAllBuyStack().then(function(t){f.SihAppGlobal.getUserOrdersHistory().then(function(i){var n=t;i&&i.success&&i.orders.data.length&&(n=[].concat(n,i.orders.data));var s=f.SihAppGlobal.getFilterItemsByStatus(n,["new","pending","created","processing","sent"]);if(s.length){var r=s.find(function(e){return e.finishOrderAt}),o=s.map(function(e){return e.createdAt?e.createdAt:new Date(e.created_at).getTime()}).filter(function(e){return e}),c=f.SihAppGlobal.getFilterItemsByStatus(s,"new"),_=f.SihAppGlobal.getFilterItemsByStatus(s,"sent");a.find(".orders-tab__item").each(function(t,i){var n=$J(i);l(n,s),c.length&&c.forEach(function(t){if(n[0].createdTimestamp===new Date(t.created_at).getTime()){var i=new Date(t.created_at).getTime()+w,a=i-Date.now();if(a>0){var s=new Date(a).toISOString().slice(14,19);d(n,t,"cancel",s)}else e()}}),_.length&&_.forEach(function(e){n[0].createdTimestamp===new Date(e.created_at).getTime()&&d(n,e)}),r&&r.createdAt===n[0].createdTimestamp&&d(n,r),JSON.stringify(x)!==JSON.stringify(o)&&(null!==x&&e(),x=o)})}else clearInterval(I),e()})})},1e3)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".orders-tab__item").each(function(t,i){var n=$J(i);if(e[t]&&(e[t].createdAt||new Date(e[t].created_at).getTime())===n[0].createdTimestamp){var a=n.find(".item__status-block .item__spinner");a.length?a.css("display","flex").hide().fadeIn():n.find(".item__status").before('<div class="item__spinner"></div>')}})}function l(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach(function(t){var i=t.createdAt?t.createdAt:new Date(t.created_at).getTime();if(e[0].createdTimestamp===i){var n=e.find(".item__status"),a=n.attr("data-status"),s=e.find(".item__cancel-block:visible");a!==t.status&&(n.attr("data-status",t.status),n.text(f.SihAppGlobal._buyOrderStatusEnum[t.status]),A.includes(t.status)&&s.length&&s.hide())}})}function d(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"status",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(!n){var a=(t.finishOrderAt?t.finishOrderAt:t.sender.timeout)-Date.now();n=new Date(a>0?a:0).toISOString().slice(14,19)}var s=e.find(".item__"+i+"-block"),r=s.find(".item__spinner"),o=s.find(".item__timer"),l=s.find(".item__"+i);if(r.length||l.before('<div class="item__spinner"></div>'),o.length)o.is(":visible")||(r.css("display","flex").fadeIn(),o.css("display","flex").fadeIn()),o.text(n);else{if(l.after('<div class="item__timer sih-modal__text sih-modal__text_sm">'+n+"</div>"),"cancel"===i&&l.text(SIHLang.sihAppMarket.orders.cancel_info),"status"!==i)return;t.finishOrderAt&&c(e,t.price),t.sender&&t.sender.timeout&&_(e,t.sender.offerId)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=e.find(".item__right-side"),n=e.find(".item__left-side"),a=n.find(".item__buttons"),s=a.find(".item__left-to-pay--button"),r=i.find(".item__left-to-pay");f.SihAppGlobal.getLoginSihAppUser().then(function(e){var n=0;if(e.success&&e.user){n=e.user.balance/1e3;var o=n-t<0?Math.abs(n-t):t,l=f.Currency.getPriceFromCurrency(o,C).text;r.length||i.append('\n      <div class="item__left-to-pay sih-modal__row justify-between">\n          <div class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.payment+'</div>\n          <div class="sih-modal__row items-center gap-5">\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey sih-modal__text_bold">'+l+'</span>\n            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey">'+SIHLang.sihAppMarket.orders.pending_payment+"</span>\n          </div>\n      </div>\n    "),s.length||(a.prepend('\n        <a href="javascript:void(0)" data-payment="'+o+'" class="item__left-to-pay--button sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8">\n            <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold">'+SIHLang.sihAppMarket.orders.pay+"</span>\n        </a>\n      "),u())}})}function _(e,t){var i=e.find(".item__left-side"),n=i.find(".item__buttons"),a=n.find(".trade-sent__buttons");f.SihAppGlobal.getLoginSihAppUser().then(function(e){if(e.success&&e.socials){var i=e.socials.findIndex(function(e){return"steam"===e[0]}),s=e.socials[i][1];a.length||n.prepend('\n        <div class="trade-sent__buttons sih-modal__row justify-between items-center gap-20">\n          <a href="https://steamcommunity.com/tradeoffer/'+t+'/" target="_blank" class="sih-modal__row sih-modal__button sih-modal__button_blue px-20 py-8">\n              <span class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold">'+SIHLang.sihAppMarket.orders.open+'</span>\n          </a>\n          <a href="https://steamcommunity.com/profiles/'+s+'/tradeoffers/" target="_blank" class="sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8">'+SIHLang.sihAppMarket.orders.go_to_trades+"</a>\n        </div>\n      ")}})}function m(e){var t=$J("#sih-modal__buy-orders"),i=t.find(".sih-modal.orders-tab"),n=i.find(".orders-active-tab__content"),a=f.SihAppGlobal.getFilterItemsByStatus(e,"pending"),s=a.map(function(e){return e.createdAt}),r=a.find(function(e){return e.finishOrderAt});n.find(".orders-tab__item").each(function(e,t){var i=$J(t),n=i.find(".item__left-side"),a=n.find(".item__buttons");!a.find(".item__remove").length&&s.includes(i[0].createdTimestamp)&&(a.append('\n      <a href="javascript:void(0)" class="item__remove sih-modal__text sih-modal__text_tiny sih-modal__text_bold sih-modal__text_blue hover-opacity-8">'+SIHLang.sihAppMarket.orders.cancel_purchase+"</a>\n    "),h(i,r))})}function u(){$J("#sih-modal__buy-orders").find(".sih-modal.orders-tab").find(".orders-active-tab__content").find(".item__left-to-pay--button").each(function(e,t){$J(t).off("click").click(function(){var e=$J(this),t=+e.attr("data-payment"),i=Math.ceil(1e3*t)/1e3;f.SihAppGlobal.getSihAppToken().then(function(e){window.open("https://sih.app/pay?amount="+i+"#payToken="+e,"_blank")})})})}function h(e,t){e.find(".item__remove").off("click").click(function(){var n,a=e.find(".item__name").text(),s=encodeURIComponent(a),r=(n={},n[s]=[{createdAt:e[0].createdTimestamp,statusCode:null}],n);f.SihAppGlobal.changeItemsStatus(r).then(function(){i.i(v.d)().then(function(){t&&t.createdAt===e[0].createdTimestamp&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_DEFAULT_BUY_COUNT"},function(e){}),e.remove(),i.i(v.c)(),i.i(b.b)(),i.i(g.ChangeItemCountInItemPage)(),i.i(b.a)()})})})}t.b=n,t.a=s;var p=i(64),f=(i.n(p),i(0)),g=i(5),b=i(2),v=i(19),k=i(20),y=i(23),S="SIH_MARKET_TAB",C=1,I=null,x=null,w=6e5,A=["created","processing","sent"]},function(e,t,i){"use strict";function n(){a(),s()}function a(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads");e.find(".refill-plug-info").length||e.append('\n      <div class="sih-modal sih-global refill-plug-info">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__inner">\n             <div class="sih-modal__column items-center gap-20">\n                       <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path fill-rule="evenodd" clip-rule="evenodd" d="M16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0ZM12.6742 24.728L4.3625 16.3525L6.7064 13.9906L12.6742 19.9874L25.2913 7.27344L27.6352 9.65208L12.6742 24.728Z" fill="#00F900"/>\n                        </svg>\n                        <h2 class="sih-modal__title text-center">Успешно оплачено</h2>\n             </div>\n\n            <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey text-center">Активация подписки SIH Black может занимать до 15 минут</span>\n\n             <div class="sih-modal__buttons mt-70 justify-center">\n                        <button class="sih-modal__button sih-modal__button_blue px-24 py-16 text-uppercase refill-plug-info__reload">перезагрузить страницу</button>\n             </div>\n\n\n          </div>\n\n      </div>\n    ')}function s(){r()}function r(){$J(".refill-plug-info").find(".refill-plug-info__reload").off("click").click(function(){$J(this).addClass("animated-background-btn"),window.location.reload()})}t.a=n;var o=i(70);i.n(o)},function(e,t,i){"use strict";function n(){s()}function a(e){r(e),o(),l(),c()}function s(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t=i.i(S.a)(),n=$J('\n      <div class="sih-modal sih-global selecting-plan-tab">\n          <div class="sih-modal__close"></div>\n          <div class="sih-modal__row gap-10 sih-modal__back sih-modal__back-info mb-20">\n            <span class="sih-modal__back_icon"></span>\n            <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.back+'</span>\n          </div>\n          <div class="sih-modal__inner">\n            <span class="sih-modal__title">'+SIHLang.subscribeAds.modal.selectingPlan.title+'</span>\n\n            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.subscribeAds.modal.selectingPlan.payment_method+'</span>\n\n            <div class="sih-modal__column gap-10">\n\n               <div class="sih-modal__row gap-10 items-center mb-20">\n                  <div class="payment payment-balance payment-balance__button payment__button">\n                    <input type="radio" name="payment" id="payment-balance" class="payment__input" data-name="Balance" checked>\n                    <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-balance">\n                        <svg width="21" height="15" viewBox="0 0 21 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1803 0H9.69118V2.77931H11.1803V0ZM4.42178 8.07162H7.12788V9.37668H4.42178V10.9234H8.54498V6.75044H5.80685V5.52593H8.54498V4.07586H4.42178V8.07162ZM11.1803 4.07586H9.69118V10.9234H11.1803V4.07586ZM15.1505 6.75044V4.07586H16.5676V10.9234H15.1826V7.97495H13.8375V10.9234H12.4685V4.07586H13.8615V6.75044H15.1505ZM3.26214 6.75051H0.5V8.24892H3.26214V6.75051ZM17.7379 6.75051H20.5V8.24892H17.7379V6.75051ZM9.69118 12.2207H11.1803V15H9.69118V12.2207ZM16.2864 1.37762H12.5075V2.77935H16.2864C17.0791 2.77935 17.7276 3.43189 17.7276 4.22943V5.47005H19.1206V4.22943C19.1126 2.65851 17.8477 1.37762 16.2864 1.37762ZM1.87106 5.47005V3.95553C1.87106 2.53768 3.02395 1.37762 4.43305 1.37762H8.48419V2.77935H4.43305C3.78454 2.77935 3.26414 3.31105 3.26414 3.95553V5.47005H1.87106ZM17.7276 10.7542C17.7276 11.5518 17.0791 12.2043 16.2864 12.2043H12.5075V13.606H16.2864C17.8477 13.606 19.1206 12.3251 19.1206 10.7542V9.51361H17.7276V10.7542ZM3.26414 9.51361V10.7542C3.26414 11.5598 3.91264 12.2043 4.70526 12.2043H8.48419V13.606H4.70526C3.14405 13.606 1.87106 12.3251 1.87106 10.7542V9.51361H3.26414Z" fill="white"/>\n                        </svg>\n                        <span class="sih-modal__text sih-modal__text_white sih-modal__text_md">'+SIHLang.subscribeAds.modal.selectingPlan.sih_balance+'</span>\n                    </label>\n                  </div>\n                  <div class="payment payment-stripe payment-stripe__button payment__button">\n                    <input type="radio" name="payment" id="payment-stripe" class="payment__input" data-name="Stripe">\n                    <label class="sih-modal__row gap-10 sih-modal__button px-24 py-8 bg-grey" for="payment-stripe">\n                          <svg width="14" height="20" viewBox="0 0 14 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path fill-rule="evenodd" clip-rule="evenodd" d="M5.57795 5.95604C5.57795 5.0989 6.28346 4.76923 7.45197 4.76923C9.12756 4.76923 11.2441 5.27473 12.9197 6.17582V1.01099C11.0898 0.285714 9.28189 0 7.45197 0C2.97638 0 0 2.32967 0 6.21978C0 12.2857 8.37795 11.3187 8.37795 13.9341C8.37795 14.9451 7.49606 15.2747 6.26142 15.2747C4.4315 15.2747 2.09449 14.5275 0.24252 13.5165V18.7473C2.29291 19.6264 4.36535 20 6.26142 20C10.8472 20 14 17.7363 14 13.8022C13.978 7.25275 5.57795 8.41758 5.57795 5.95604Z" fill="white"/>\n                    </svg>\n                        <span class="sih-modal__text sih-modal__text_white sih-modal__text_md">Stripe (Worldwide)</span>\n                    </label>\n                  </div>\n               </div>\n\n               <div class="payment-info__message sih-modal__column -mt-20">\n                   <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.selectingPlan.payment_message_info+'</span>\n               </div>\n\n\n             </div>\n\n\n            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.subscribeAds.modal.selectingPlan.sub_packages+'</span>\n\n             <div class="sih-modal__plans plans plans-balance" data-id="payment-balance" data-payment="balance"></div>\n             <div class="sih-modal__plans plans plans-stripe" data-id="payment-stripe" data-payment="stripe"></div>\n\n            <div class="sih-modal__error"></div>\n            <div class="sih-modal__buttons hidden">\n                <button class="sih-modal__button sih-modal__button_blue px-24 py-16 sih-modal__button-subscribe" disabled>'+SIHLang.subscribeAds.modal.selectingPlan.support_sih_now+'</button>\n                <a href="https://sih.app/user/subscription" target="_blank" class="sih-modal__text_blue text-decoration-underline hover-opacity-8">'+SIHLang.subscribeAds.modal.what_is_black+'</a>\n\n                <a href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/" target="_blank" class="sih-modal__text sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8">'+SIHLang.subscribeAds.modal.questions+'</a>\n            </div>\n            <div class="sih-balance sih-modal__row justify-between">\n\n                <div class="sih-modal__column">\n\n                    <div class="sih-modal__row items-center gap-20">\n\n                        <div class="sih-modal__row gap-5 items-center">\n                          <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.in_wallet+':</span>\n                          <div class="sih-modal__sih-coins">\n                                <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                   <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                          </svg>\n                          </div>\n                          <span class="sih-balance__user  sih-modal__text sih-modal__text_md">---</span>\n                        </div>\n\n                        <div class="sih-balance__not-enough sih-modal__row gap-5 items-center">\n                          <span class="sih-modal__text sih-modal__text_md sih-modal__text_red">'+SIHLang.subscribeAds.modal.not_enough_funds+'</span>\n                          <div class="sih-modal__sih-coins red">\n                              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                          </svg>\n                          </div>\n                          <span class="sih-balance__user-not-enough  sih-modal__text sih-modal__text_md sih-modal__text_red">---</span>\n                        </div>\n\n                    </div>\n\n                    <div class="sih-modal__row gap-5 items-center">\n                        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold">'+SIHLang.subscribeAds.modal.total+':</span>\n                        <div class="sih-modal__sih-coins">\n                            <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                          </svg>\n                        </div>\n                        <span class="sih-balance__plan-price sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold">---</span>\n                    </div>\n                </div>\n\n                <div class="sih-balance__buttons">\n                       <button class="sih-balance__button sih-modal__button sih-modal__button_blue px-24 py-16">'+SIHLang.subscribeAds.modal.selectingPlan.refill+"</button>\n                </div>\n            </div>\n          </div>\n      </div>\n  ");n.find(".sih-modal__error").before(t),e.find(".selecting-plan-tab").length||e.append(n)}function r(e){var t=$J(".selecting-plan-tab"),i=t.find(".plans"),n=t.find(".payment__input:checked");i.each(function(t,i){var a=$J(i),s=a.data("payment"),r={},o=e.map(function(e){return e.is_enabled&&e.payment_system===s?e.full_price||e.price:0}).filter(function(e){return e});r[""+s]=Math.max.apply(Math,o),e.forEach(function(e){if(e.payment_system===s&&e.is_enabled){var t=e.full_price||e.price,i=d(e.title),o=i.plan_icon,l=i.plan_name,c=i.plan_period,_=(t/1e3).toLocaleString("ru"),m=((e.per_month?e.per_month:e.price)/1e3).toLocaleString("ru"),u=g_rgCurrencyData[e.price_currency]||g_rgCurrencyData.USD,h=$J('\n           <div class="plans__item '+(r[""+s]===t?"active":"")+'" data-plan-title="'+e.title+'" data-id="'+e.id+'" data-total-price="'+t+'">\n                      <div class="plans__header">\n                          <span class="sih-modal__smile sih-modal__smile_lg">'+o+'</span>\n                          <span class="sih-modal__text sih-modal__text_sm plans__name">'+l+'</span>\n                          <span class="sih-modal__text sih-modal__text_lg sih-modal__text_extra-bold -mt-5">'+c+'</span>\n                          <div class="sih-modal__row -mt-5">\n\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey ">'+(e.per_month&&t!==e.per_month&&u.bSymbolIsPrefix?""+u.strSymbol:"")+'</span>\n\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey">'+(e.per_month&&t!==e.per_month?_:"")+'</span>\n\n                            <span class="sih-modal__text sih-modal__text_sm sih-modal__text_light-grey">'+(e.per_month&&t!==e.per_month&&!u.bSymbolIsPrefix?""+u.strSymbol:"")+'</span>\n\n                          </div>\n\n                      </div>\n                     <div class="plans__bottom">\n\n                          <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+("balance"!==e.payment_system&&u.bSymbolIsPrefix?""+u.strSymbol:"")+"</span>\n\n                          "+("balance"===e.payment_system?'<div class="sih-modal__sih-coins mr-5">\n                                    <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M13.6654 7.64594H10.5392V6.19862H13.6487C13.2732 3.05747 10.7173 0.584913 7.53535 0.333008V2.71898C7.79502 2.77089 8.03807 2.84986 8.2645 2.95588C8.70318 3.15944 9.06677 3.45257 9.35527 3.83527C9.64772 4.21797 9.8552 4.67802 9.97772 5.21542L8.51348 5.49023C8.45815 5.20117 8.34947 4.94672 8.18744 4.72687C8.0254 4.50702 7.82187 4.33603 7.57685 4.21389C7.33182 4.09176 7.05913 4.02662 6.75877 4.01848C6.47027 4.0144 6.21141 4.06122 5.9822 4.15893C5.75298 4.25257 5.57118 4.38692 5.43681 4.56199C5.30244 4.73298 5.23526 4.92636 5.23526 5.14214C5.23526 5.38234 5.32813 5.58794 5.51388 5.75893C5.70358 5.92992 6.00196 6.07648 6.40902 6.19862L7.94439 6.65663C8.68342 6.87648 9.21497 7.17572 9.53904 7.55434C9.86706 7.9289 10.0311 8.42762 10.0311 9.05052C10.0311 9.59607 9.89868 10.0744 9.63389 10.4856C9.3691 10.8968 8.99761 11.2185 8.51941 11.4505C8.22133 11.5926 7.89331 11.6904 7.53535 11.744V13.6663C10.7694 13.4103 13.3567 10.8603 13.6654 7.64594ZM6.10669 13.6287V11.728C5.79795 11.672 5.50945 11.5795 5.24119 11.4505C4.76694 11.2225 4.37766 10.9009 4.07336 10.4856C3.773 10.0704 3.58133 9.57775 3.49833 9.00777L4.90921 8.77571C5.01987 9.27647 5.25699 9.67546 5.62058 9.97266C5.98812 10.2658 6.4268 10.4123 6.93661 10.4123C7.42667 10.4123 7.82978 10.2943 8.14594 10.0582C8.46211 9.81795 8.62019 9.51464 8.62019 9.14823C8.62019 8.89174 8.5451 8.68411 8.39492 8.52533C8.24474 8.36248 8.00367 8.22813 7.6717 8.12228L5.61465 7.46274C4.41718 7.08004 3.81845 6.33094 3.81845 5.21542C3.81845 4.6943 3.93899 4.24036 4.18006 3.85359C4.42509 3.46275 4.76892 3.16352 5.21155 2.95588C5.4807 2.82715 5.77908 2.73831 6.10669 2.68936V0.370649C3.0914 0.771354 0.710116 3.1753 0.348711 6.19862H3.02612V7.64594H0.332031C0.629302 10.7417 3.04011 13.2212 6.10669 13.6287Z" fill="white"/>\n                                    </svg>\n                                  </div>':"")+'\n\n                          <span class="plans__actual-price sih-modal__text sih-modal__text_md sih-modal__text_bold">'+m+'</span>\n\n                           <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+("balance"===e.payment_system||u.bSymbolIsPrefix?"":""+u.strSymbol)+'</span>\n\n                         <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">/</span>\n\n                         <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+SIHLang.subscribeAds.modal.month+"</span>\n                     </div>\n                  </div>\n        ");a.find(h).length||(a.append(h),n.length&&n.attr("id")&&a.attr("data-id")===n.attr("id")&&a.css("display","flex").show())}})})}function o(){k.SihAppGlobal.getLoginSihAppUser().then(function(e){if(e&&e.success&&!e.tfaNeed&&e.user){var t=e.user.balance,i=$J(".selecting-plan-tab"),n=i.find(".plans-balance"),a=i.find(".sih-balance"),s=n.find(".plans__item.active");if(s.length){var r=s.attr("data-total-price");if(!r)return;var o=a.find(".sih-balance__user"),l=a.find(".sih-balance__plan-price"),d=a.find(".sih-balance__not-enough"),c=d.find(".sih-balance__user-not-enough"),_=a.find(".sih-balance__button");o.text(t/1e3),l.text(r/1e3);var m=t-r;if(m<0){var u=Math.abs(m/1e3);d.css("display","flex").show(),c.text(u),_.text(SIHLang.subscribeAds.modal.selectingPlan.refill),$J("#sih-tos").is(":checked")||_.attr("disabled",!0),h("refill",u)}else $J("#sih-tos").is(":checked")||_.attr("disabled",!0),d.hide(),_.text(SIHLang.subscribeAds.modal.selectingPlan.buy_sub),h("buy")}}})}function l(){$J(".selecting-plan-tab").find(".plans").each(function(e,t){var i=$J(t),n=i.find(".plans__item");n.sort(function(e,t){return $J(e).data("total-price")-$J(t).data("total-price")}),n.detach().appendTo(i)})}function d(e){var t=void 0,i=void 0,n=void 0;switch(e.toLowerCase()){case"for one year":t="&#128526;",i=""+SIHLang.subscribeAds.modal.plan_for_one_year_name,n=""+SIHLang.subscribeAds.modal.plan_for_one_year_period;break;case"every 6 months":t="&#128527;",i=""+SIHLang.subscribeAds.modal.plan_every_6_month_name,n=""+SIHLang.subscribeAds.modal.plan_every_6_month_period;break;case"every 3 month":t="&#128521;",i=""+SIHLang.subscribeAds.modal.plan_every_3_month_name,n=""+SIHLang.subscribeAds.modal.plan_every_3_month_period;break;case"every month":t="&#128522;",i=""+SIHLang.subscribeAds.modal.plan_every_month_name,n=""+SIHLang.subscribeAds.modal.plan_every_month_period;break;default:t=null,i=null,n=null}return{plan_icon:t,plan_name:i,plan_period:n}}function c(){_(),f()}function _(){m(),u(),p(),g()}function m(){$J(".sih-modal").find(".plans__item").each(function(e,t){var i=$J(t);i.off("click").click(function(){$J(this).parent().find(".active").removeClass("active"),i.addClass("active"),o()})})}function u(){$J("#sih-tos").off("change").change(function(){$J(this).is(":checked")?($J(".sih-modal__button-subscribe").removeAttr("disabled"),$J(".sih-balance__button").removeAttr("disabled")):($J(".sih-modal__button-subscribe").attr("disabled",!0),$J(".sih-balance__button").attr("disabled",!0))})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"refill",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=$J(".selecting-plan-tab"),a=n.find(".plans-balance"),s=n.find(".sih-balance"),r=a.find(".plans__item.active"),o=s.find(".sih-balance__button"),l=n.find(".sih-modal__error"),d=r.attr("data-id");"buy"!==e?o.off("click").click(function(){k.SihAppGlobal.getSihAppToken().then(function(e){clearTimeout(C),C=setTimeout(function(){t<1&&(t=1),window.open("https://sih.app/pay?amount="+t+"#payToken="+e,"_blank")},300)})}):o.off("click").click(function(){var e=this;$J(this).addClass("animated-background-btn"),l.hide(),chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:d}},function(t){if(t.success)$J(e).removeClass("animated-background-btn"),k.SihAppGlobal.getUserSihApp().then(function(e){e.success&&k.SihAppGlobal.getSubscribeAds().then(function(e){e.success?k.SihAppGlobal.getLoginSihAppUser().then(function(e){i.i(y.b)(e.subscribes),n.hide(),$J(".sih-modal.active-plan-tab").show()}):(n.hide(),$J(".sih-modal.refill-plug-info").show())})});else{var a=l.find(".sih-modal__error_message");k.SihAppGlobal.errorHandler($J(e),l,a)}})})}function p(){var e=$J(".selecting-plan-tab"),t=e.find(".sih-modal__button-subscribe"),n=e.find("#sih-tos"),a=e.find(".sih-modal__error");t.each(function(t,s){$J(s).off("click").click($J.debounce(300,function(){var t=this;$J(this).addClass("animated-background-btn");var s=a.find(".sih-modal__error_message"),r=e.find(".plans:visible").find(".plans__item.active"),o=r.find(".plans__name").text(),l=r.attr("data-id"),d={planName:o,paymentId:l};return l?n.is(":checked")?void chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",data:{id:l}},function(e){e.success?(a.hide(),$J(t).removeClass("animated-background-btn"),i.i(v.b)(d,e.email)):e.hasOwnProperty("authorization")?k.SihAppGlobal.errorHandler($J(t),a,s):e.hasOwnProperty("error")?k.SihAppGlobal.errorHandler($J(t),a,s,e.error):($J(t).removeClass("animated-background-btn"),i.i(v.b)(d))}):void k.SihAppGlobal.errorHandler($J(this),a,s,"Please, select checkbox subscription TOS"):void k.SihAppGlobal.errorHandler($J(this),a,s,"Please, enter plan")}))})}function f(){var e=$J(".selecting-plan-tab"),t=e.find(".plans"),i=e.find(".payment-info__message"),n=e.find(".sih-balance"),a=e.find(".sih-modal__buttons");e.find(".payment__input").each(function(e,s){$J(s).change(function(){var e=$J(this);t.each(function(t,s){var r=$J(s);r.hide(),r.attr("data-id")===e.attr("id")&&(r.css("display","flex").show(),"payment-balance"===r.attr("data-id")?(a.addClass("hidden"),i.css("display","flex").show(),n.css("display","flex").show()):(i.hide(),n.hide(),a.removeClass("hidden")))})})})}function g(){var e=$J(".sih-subscribe-ads");e.find(".sih-modal__back-info").click(function(){$J(".selecting-plan-tab").hide(),$J(".subscription-info-tab").show(),e.find(".sih-modal__error").children().remove()})}t.a=n,t.b=a;var b=i(71),v=(i.n(b),i(22)),k=i(0),y=(i(16),i(6),i(4),i(21)),S=(i(30),i(33)),C=null},function(e,t,i){"use strict";i.d(t,"c",function(){return s}),i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(157),a=(i.n(n),i(0)),s=function(){l(),d()},r=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item").each(function(e,t){$J(t).off("click").click(function(){a.chromeStorage.getLocal("SIH_MARKET_LISTINGS_INFO").then(function(e){1!==e.indexBlockBestOfferOfMarketplaceTabs&&(e.indexBlockBestOfferOfMarketplaceTabs=1,a.chromeStorage.setLocal("SIH_MARKET_LISTINGS_INFO",e))})})})},o=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=$J("#sih-market-listing .sih-market-listing__fake-content");e?t.fadeOut():t.addClass("active").fadeIn()},l=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div class="sih-market-listing__main">\n        <div class="sih-market-listing__fake-content">\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n          <div class="sih-market-listing__fake-item"></div>\n        </div>\n        <div class="sih-market-listing__content"></div>\n    </div>\n  ');e.find(".sih-market-listing__content").length||e.append(t)},d=function(){r()}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(77),a=(i.n(n),function(){return $J('\n    <label class="sih-global sih-tos" for="sih-tos">\n                <input type="checkbox" name="sih-tos" id="sih-tos" class="sih-modal__input hidden">\n                <label class="fake-checkbox sih-tos__input" for="sih-tos"></label>\n                <div class="row items-center flex-wrap gap-5 sih-modal__text sih-modal__text_md ticker-wrapper">\n                    <span class="ticker">\n                        <span>'+SIHLang.TOS.tos_1+'</span>\n                        <a href="https://sih.app/tos" target="_blank" class="sih-modal__text_blue text-decoration-underline hover-opacity-8">'+SIHLang.TOS.tos_2+'.</a>\n                        <span class="sih-tos__info">'+SIHLang.TOS.tos_tooltip+"</span>\n                    </span>\n                </div>\n    </label>\n  ")})},function(e,t,i){"use strict";function n(){m()}function a(){var e=$J("#sih-header-notifications"),t=e.find(".sih-header-notifications__count");c.SihAppGlobal.getLogs().then(function(i){if(i&&i.length){var n=s(i),a=n.isAllRead,r=n.unreadNotification;a?(e.attr("data-sih-unread",!1),t.text("")):(e.attr("data-sih-unread",!0),t.text(r.length<=9?r.length:"9+"))}})}function s(e){var t=!0,i=Array.isArray(e)?e.reduce(function(e,i){return i.items.forEach(function(i){i.isRead||(e.push(i),t=!1)}),e},[]):[];return{isAllRead:t,unreadNotification:i}}function r(){c.SihAppGlobal.getLogs().then(function(e){if(e&&e.length){s(e).isAllRead||$J("#sih-header-notifications").attr("data-sih-unread",!0)}})}function o(){clearInterval(_),_=setInterval(function(){a()},1e4)}t.a=n,t.b=a,t.c=s;var l=i(82),d=(i.n(l),i(52)),c=i(0),_=null,m=function(){var e=$J("#global_actions").find(".sih-global-menu__icons");c.SihAppGlobal.getLogs().then(function(t){var n=0;if(t&&t.length){var a=s(t),l=a.isAllRead,c=a.unreadNotification;l||(n=c.length)}var _='\n    <a href="javascript:void(0)" id="sih-header-notifications" class="sih-header-notifications sih-global-menu__icon">\n    <span class="sih-header-notifications__inner">\n        <span class="sih-header-notifications__count">'+(0===n?"":n<=9?n:"9+")+'</span>\n        <span class="sih-header-notifications__indicator"></span>\n    </span>\n\n    </a>\n  ';e.find("#sih-header-notifications").length||e.append(_),r(),o(),i.i(d.a)()})}},function(e,t){},,function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i.d(t,"d",function(){return d}),i.d(t,"b",function(){return c}),i.d(t,"c",function(){return g});var n=i(155),a=(i.n(n),i(38)),s=i(0),r=i(120),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(e){_(e),m()},d=function(){$J("#browseItems").show(),$J(".sih-market-store-filter").hide().remove()},c=function(){var e=$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell"),t=$J(".sih-market-store-filter"),n=t.find(".sih-market-store-filter__input"),s={};return n.each(function(e,t){var i=$J(t),n=i.val(),a=i.attr("data-key");if(n){var r;s=o({},s,(r={},r[""+a]=n,r))}}),e.each(function(e,t){var n=$J(t),r=n.attr("data-option"),l=n.find(".market_sort_arrow");if(n.hasClass("active")&&"none"!==l.css("display")&&(l.is(':contains("▲")')||l.is(':contains("▼")'))){var d="none"!==l.css("display")&&l.is(':contains("▲")')?1:-1;"sih-profit"===r&&(r=n.find(".sih-profit.active").attr("data-option"));var c=i.i(a.a)(r,d);return s=o({},s,c)}}),s},_=function(e){e=e||$J("#findItems");var t=e.find("#browseItems");t.length&&t.hide();var i=$J('\n    <div class="sih-market-store-filter sih-global">\n\n        <div class="sih-market-store-filter__header">\n            <span class="sih-market-store-filter__title">'+SIHLang.sihAppMarket.topSales.filter.title+'</span>\n            <a href="javascript:void(0)" class="sih-market-store-filter__reset hover-opacity-8">'+SIHLang.sihAppMarket.topSales.filter.reset+'</a>\n        </div>\n\n        \x3c!--SIH Market price block--\x3e\n        <div class="column gap-8">\n          <span class="text fs-12">'+SIHLang.sihAppMarket.topSales.filter.sih_market_price+'</span>\n\n           <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.from+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="$0.01" data-key="minPrice">\n              </div>\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.to+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="$2 000" data-key="maxPrice">\n              </div>\n           </div>\n        </div>\n\n        \x3c!--Steam price block--\x3e\n        <div class="column gap-8">\n          <span class="text fs-12">'+SIHLang.sihAppMarket.topSales.filter.steam_price+'</span>\n\n           <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.from+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="$0.03" data-key="minComparativePrice">\n              </div>\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.to+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="$2 000" data-key="maxComparativePrice">\n              </div>\n           </div>\n        </div>\n\n        \x3c!--Sales Week block--\x3e\n        <div class="column gap-8">\n          <span class="text fs-12">'+SIHLang.sihAppMarket.topSales.filter.weekly_sales+'</span>\n\n           <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.from+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="1" data-key="minSalesWeek">\n              </div>\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.to+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="1 000 000" data-key="maxSalesWeek">\n              </div>\n           </div>\n        </div>\n\n         \x3c!--Profit block--\x3e\n        <div class="column gap-8">\n          <span class="text fs-12">'+SIHLang.sihAppMarket.topSales.filter.profit_percent+'</span>\n\n           <div class="grid grid-flow-col grid-rows-2-125 gap-8">\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.from+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="1 %" data-key="minProfit">\n              </div>\n              <div class="sih-market-store-filter__input-outer">\n                <span class="text text_grey-300 fs-12">'+SIHLang.sihAppMarket.topSales.filter.to+'</span>\n                <input class="sih-market-store-filter__input" type="number" placeholder="1 000 %" data-key="maxProfit">\n              </div>\n           </div>\n        </div>\n    </div>\n  ');e.length&&!e.find(".sih-market-store-filter").length&&e.append(i),t.closest(".market_search_sidebar_contents").find(".sih-market-store-filter").length||t.after(i)},m=function(){u(),h()},u=function(){var e=$J(".sih-market-store-filter"),t=e.find(".sih-market-store-filter__reset"),i=null;t.off("click").click(function(){clearTimeout(i),i=setTimeout(function(){e.find(".sih-market-store-filter__input").val(""),$J("#sih-market-tab").trigger("click"),p()},300)})},h=function(){$J(".sih-market-store-filter").find(".sih-market-store-filter__input").each(function(e,t){var n=$J(t);n.off("change").change(function(e){var t=$J(e.target),n=t.attr("data-key"),a=t.val().length?+t.val():t.val(),o=f(n),l=o.maxNumber,d=o.minNumber,c=void 0===d?0:d;if("number"==typeof a){"maxPrice"===n&&i.i(r.a)();var _=s.SihAppGlobal.validateInput(a,l,c,!0);t.val(_)}}),n.off("focusin").focusin(function(e){var t=+$J(e.target).val();""!==n.val()&&n.off("focusout").focusout(function(e){+$J(e.target).val()!==t&&$J("#sih-market-tab").trigger("click"),p()})}),n.off("focusout").focusout(function(){""!==n.val()&&$J("#sih-market-tab").trigger("click"),p()})})},p=function(){var e=$J(".sih-market-store-filter"),t=e.find(".sih-market-store-filter__reset"),i=e.find(".sih-market-store-filter__input"),n=!1;i.each(function(e,t){""!==$J(t).val()&&(n=!0)}),t.toggle(n)},f=function(e){var t={};switch(e){case"minPrice":case"maxPrice":t.maxNumber=2e3,t.minNumber=.01;break;case"minComparativePrice":case"maxComparativePrice":t.maxNumber=2e3,t.minNumber=.03;break;case"minSalesWeek":case"maxSalesWeek":t.maxNumber=1e6;break;case"minProfit":case"maxProfit":t.maxNumber=1e3}return t},g=function(e){var t=$J("#escrow_description"),i=$J(".market_search_sidebar_section_tip_small"),n=$J(".market_search_box_container");t.toggle(e),i.toggle(e),n.toggle(e)}},function(e,t,i){"use strict";i.d(t,"a",function(){return l}),i.d(t,"d",function(){return d}),i.d(t,"b",function(){return c}),i.d(t,"c",function(){return _});var n=i(37),a=i(0),s=i(95),r=i(32),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(e,t){var i={};switch(e){case"profit":i={sortBy:1===t?"profit":"-profit"};break;case"profitPercent":i={sortBy:1===t?"profitPercent":"-profitPercent"};break;case"sih-price":i={sortBy:1===t?"price":"-price"};break;case"steam-price":i={sortBy:1===t?"priceComparative":"-priceComparative"};break;case"salesWeek":i={sortBy:1===t?"salesWeek":"-salesWeek"}}return i},d=function(e){$J("#sih-market-listing").find(".sih-market-listing__content").children().remove();var t=i.i(n.b)();e=e||o({page:1,limit:100},t),a.SihAppGlobal.getTopSales(e).then(function(e){var t=e.data,n=e.pagination;i.i(r.a)(),t&&t.length?i.i(s.a)(t,n):(i.i(s.a)(t,n),_())})},c=function(e){var t="";return e.forEach(function(e){var n=a.TopSales.getWearInfo(e.item),s=i.i(a.formatNumberToLocalRu)(e.comparative.price,1),r=$J('\n      <a class="sih-market-listing__item" href="https://steamcommunity.com/market/listings/730/'+e.item+'" target="_blank">\n        <div class="row items-center gap-7">\n            <div class="preloader"></div>\n            <img src="https://community.cloudflare.steamstatic.com/economy/image/'+e.image+'/62fx62fdpx2x"  class="market_listing_item_img" style="border-color: #D2D2D2;">\n            <div class="column gap-2 max-w-240">\n                 <span class="sih-market-listing__name">'+e.item+'</span>\n                 <div class="row items-center gap-16">\n                    <span class="sih-market-listing__game-name">CS 2</span>\n                 </div>\n            </div>\n        </div>\n\n        <div class="row justify-center items-center">\n            <span class="text text_light-grey fs-12">'+e.salesWeek+'</span>\n        </div>\n\n         <div class="sih-market-listing__steam-price column justify-center items-center">\n              <span class="text text_light-grey fs-12">'+s+'</span>\n\x3c!--                  <span class="text text_light-grey fs-12">'+e.comparative.count+'</span>--\x3e\n         </div>\n\n        <div class="column justify-center items-center gap-5">\n              <span class="sih-market-listing__sih-profit text fs-12 text_green-900">'+Math.ceil(100*e.profitPercent)/100+' %</span>\n              <span class="sih-market-listing__sih-profit text fs-12 text_green-900">$ '+Math.ceil(100*e.profit)/100+"</span>\n        </div>\n\n      </a>\n    ");n&&n.stattrak&&(r.find(".market_listing_item_img").css("border-color","#CF6A32"),r.find(".sih-market-listing__name").css("color","#CF6A32")),n&&n.souvenir&&(r.find(".market_listing_item_img").css("border-color","#FFD700"),r.find(".sih-market-listing__name").css("color","#FFD700")),n&&n.name.includes("★")&&(r.find(".market_listing_item_img").css("border-color","#8650AC"),r.find(".sih-market-listing__name").css("color","#8650AC")),t+=r[0].outerHTML}),t},_=function(){var e=$J("#sih-market-listing"),t=e.find(".sih-market-listing__content"),i=$J('\n        <div class="sih-market-listing__empty sih-global">\n           <div class="column w-320 justify-center gap-20">\n                <span class="text text_white fs-24 bold">'+SIHLang.sihAppMarket.topSales.plug_tab.title+'</span>\n                <span class="text text_white">'+SIHLang.sihAppMarket.topSales.plug_tab.text_1+'</span>\n                <a href="javascript:void(0)" class="relative text text_blue">'+SIHLang.sihAppMarket.topSales.plug_tab.text_2+"</a>\n           </div>\n        </div>\n        ");i.find("a").off("click").click(function(){$J("#sih-market-tab").trigger("click")}),t.find(".sih-market-listing__empty").length||t.append(i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(110),a=(i.n(n),i(26)),s=i(3),r=i(25),o=function(e,t){i.i(s.d)().then(function(n){if(n.success){var o="sell_listings"===e?t.find(".market_listing_minimum"):t.find(".market_listing_buyorder_max");if(!o.find(".sih-market-alert").length&&("sell_listings"===e||"buy_orders"===e)){var l=$J('\n              <a class="sih-market-alert row items-center" title="">\n                <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M10.9998 11.0002H8.9998V6.0002H10.9998V11.0002ZM10.9998 15.0002H8.9998V13.0002H10.9998V15.0002ZM1.5998 18.0002H18.3998C19.5998 18.0002 20.2998 16.7002 19.6998 15.7002L11.2998 1.2002C10.6998 0.200195 9.2998 0.200195 8.6998 1.2002L0.299805 15.7002C-0.300195 16.7002 0.399805 18.0002 1.5998 18.0002Z" fill="#C44E4E"/>\n                </svg>\n              </a>'),d=s.b.getPercentAlert(e),c=d.percent_alert,_=void 0===c?20:c,m=$J('\n        <div class="sih-global">\n             <div class="column gap-5">\n                <span class="text">\n                    '+("sell_listings"===e?SIHLang.market.resubmit_orders.alert_info_text_1:SIHLang.market.resubmit_orders.alert_info_buy_text_1)+'\n                    <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">'+_+"%</a>\n                    "+("sell_listings"===e&&"en"===lang?SIHLang.market.resubmit_orders.alert_info_text_2:"")+'\n                </span>\n                <a href="javascript:void(0)" class="sih-edit-alert__btn text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.tooltips.alert_info_edit+"</a>\n            </div>\n        </div>\n    ");l.tooltip({content:m.text(),position:{my:"left top",at:"left bottom",using:function(t,n){m.find(".sih-edit-alert__btn").click(function(){i.i(r.a)(e)}),$J(this).css(t),$J(".ui-tooltip-content").hide(),$J(this).append(m)}}}).on("mouseenter",function(e){l.not($J(this)).tooltip("close")}).on("mouseleave",function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()}),$J("body").on("mouseleave",".ui-tooltip",function(e){l.tooltip(),l.tooltip("close")}),l.click(function(){i.i(a.a)(t)}),o.prepend(l)}}})}},function(e,t,i){"use strict";t.a={msg:{BACKGROUND_GET_WEAR_VALUE:"floatvalue",BACKGROUND_GET_INVENTORY_VALUE:"GetInventoryValue",BACKGROUND_GET_INVENTORY_ITEMS:"GetInventoryItems",BACKGROUND_GET_EXTPRICE_TF2BP:"TF2BP",BACKGROUND_GET_EXTPRICES:"GET_EXTERNAL_PRICES",BACKGROUND_GET_PLAYER_ITEMS:"GetPlayerItems",BACKGROUND_GET_PLAYER_BANS:"GetPlayerBans",BACKGROUND_GET_LAST_TRADES:"GetLastTrades",BACKGROUND_GET_EXCHANGE_RATES:"exchangerate",BACKGROUND_GET_BANNER:"GetBanner",BACKGROUND_GET_CUSTOM:"getcustom",BACKGROUND_GET_CUSTOM_TOTAL:"getcustomtotal",BACKGROUND_GET_STEAM_PRICES:"GET_STEAM_PRICES",BACKGROUND_GET_PRICE_FROM_STEAM:"GET_PRICE_FROM_STEAM",BACKGROUND_SEND_MARKETPLACE_FEEDBACK:"SEND_MARKETPLACE_FEEDBACK",BACKGROUND_GET_MANIFEST_APP:"GET_MANIFEST_APP",BACKGROUND_GET_MARKETPLACES:"GET_MARKETPLACES",BACKGROUND_REMOVE_BOOKMARK:"RemoveBookmark",BACKGROUND_UPDATE_BOOKMARKS:"UpdateBookmarks",BACKGROUND_SET_TRADEOFFER_NUMBERS:"SetTradeOfferNumbers",BACKGROUND_GET_STEAM_PLAYER_BADGES:"GetSteamPlayerBadges",BACKGROUND_GET_STEAM_BADGES:"GetSteamBadges",BACKGROUND_GET_STEAM_PLAYER_AVAILABLE_CARDS:"getSteamPlayerAvailableCards",BACKGROUND_SET_USER_STEAM_PRICE:"BACKGROUND_SET_USER_STEAM_PRICE",BACKGROUND_SEND_USER_STEAM_PRICE:"BACKGROUND_SEND_USER_STEAM_PRICE",BACKGROUND_GET_LISTING_ITEM_INFO:"GetListingItemInfo",BACKGROUND_GET_RATES:"GetRates",BACKGROUND_CHANGE_CURRENCY:"BACKGROUND_CHANGE_CURRENCY",BACKGROUND_GET_STEAM_BY_SIH_PRICES:"GET_STEAM_BY_SIH_PRICES",BACKGROUND_GET_PRICES_BY_MARKETPLACES:"GET_PRICES_BY_MARKETPLACES",BACKGROUND_GET_WEAPON_WEAR_MAP:"GET_WEAPON_WEAR_MAP",BACKGROUND_GET_STEAM_RUNES:"GET_STEAM_RUNES",BACKGROUND_GET_SKINS_GIVEAWAY:"GET_SKINS_GIVEAWAY",BACKGROUND_GET_STEAM_REP_BAN_INFO:"GET_STEAM_REP_BAN_INFO",BACKGROUND_GET_PLAYER_BANS_GAINSKINS:"GET_PLAYER_BANS_GAINSKINS",BACKGROUND_GET_BANNER_LIVE:"GET_BANNER_LIVE",BACKGROUND_GET_ONLINE_USERS_BY_APPID:"GET_ONLINE_USERS_BY_APPID",BACKGROUND_GET_SIH_PRICES:"GET_SIH_PRICES",BACKGROUND_BADGE_PROGRESS_GET_BADGES:"BADGE_PROGRESS_GET_BADGES",BACKGROUND_OPEN_TAB_SETTINGS:"BACKGROUND_OPEN_TAB_SETTINGS",BACKGROUND_EVENT_STORE:"EVENT_STORE",BACKGROUND_EVENT_REGISTRATION:"EVENT_REGISTRATION",BACKGROUND_SIH_SETTINGS:"SIH_SETTINGS",BACKGROUND_REGISTER_SIH_REFERRER:"REGISTER_SIH_REFERRER",BACKGROUND_REGISTER_SIH_REFERRER_DELETE:"REGISTER_SIH_REFERRER_DELETE",BACKGROUND_INVENTORY_MODE:"SIH_INVENTORY_MODE",BACKGROUND_INVENTORY_PRICE:"BACKGROUND_INVENTORY_PRICE",BACKGROUND_HIGHLIGHT_OVERPRICED:"BACKGROUND_HIGHLIGHT_OVERPRICED",BACKGROUND_TRADE_ACCEPT:"TradeAccept",BACKGROUND_TRADE_CANCEL:"TradeCancel",BACKGROUND_TRADEOFFER_THROUGH_PARSING:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT:"BACKGROUND_HIGHLIGHT_OVERPRICED_AWAIT",BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY:"BACKGROUND_HIGHLIGHT_LOWERPRICED_BUY",BACKGROUND_GET_MY_STEAM_ID:"BACKGROUND_GET_MY_STEAM_ID",BACKGROUND_UPDATE_KEY_STORAGE_SYNC:"BACKGROUND_UPDATE_KEY_STORAGE_SYNC",BACKGROUND_UPDATE_WALLET:"BACKGROUND_UPDATE_WALLET",BACKGROUND_MANUAL_LOGIN:"BACKGROUND_MANUAL_LOGIN",BACKGROUND_CHECK_USER:"BACKGROUND_CHECK_USER",BACKGROUND_ON_LOGOUT_STEAM_USER:"BACKGROUND_ON_LOGOUT_STEAM_USER",BACKGROUND_UPDATE_USER_SORT_MARKET:"BACKGROUND_UPDATE_USER_SORT_MARKET",BACKGROUND_LOGIN_SIH_APP:"BACKGROUND_LOGIN_SIH_APP",BACKGROUND_GET_USER_AUTH_SIH_APP:"BACKGROUND_GET_USER_AUTH_SIH_APP",BACKGROUND_GET_SIH_APP_USER_INFO:"BACKGROUND_GET_SIH_APP_USER_INFO",BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE:"BACKGROUND_GET_LINK_TO_PAYMENT_SUBSCRIBE",BACKGROUND_SET_EMAIL_SIH_APP:"BACKGROUND_SET_EMAIL_SIH_APP",BACKGROUND_DELETE_EMAIL_SIH_APP:"BACKGROUND_DELETE_EMAIL_SIH_APP",BACKGROUND_CHECK_SUBSCRIBE_ADS:"BACKGROUND_CHECK_SUBSCRIBE_ADS",BACKGROUND_ENTER_PASSWORD_SIH_APP:"BACKGROUND_ENTER_PASSWORD_SIH_APP",BACKGROUND_UPDATE_TRADELINK_SIH_APP:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",BACKGROUND_GET_SIH_APP_LOG:"BACKGROUND_GET_SIH_APP_LOG",BACKGROUND_READ_SIH_APP_LOG:"BACKGROUND_READ_SIH_APP_LOG",BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP",BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP",BACKGROUND_CREATE_INVOICE:"BACKGROUND_CREATE_INVOICE",BACKGROUND_GET_ORDER_HISTOGRAM:"BACKGROUND_GET_ORDER_HISTOGRAM",BACKGROUND_GET_SIH_TOKEN:"BACKGROUND_GET_SIH_TOKEN",BACKGROUND_GET_SIH_APP_TOKEN:"BACKGROUND_GET_SIH_APP_TOKEN",BACKGROUND_GET_EVENT_CARDS:"BACKGROUND_GET_EVENT_CARDS",BACKGROUND_CHECK_EVENT_GAME:"BACKGROUND_CHECK_EVENT_GAME",BACKGROUND_BUY_ITEM_SIH_APP:"BACKGROUND_BUY_ITEM_SIH_APP",BACKGROUND_CANCEL_ORDER_SIH_APP:"BACKGROUND_CANCEL_ORDER_SIH_APP",BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",BACKGROUND_SET_BUY_STACK_SIH_APP:"BACKGROUND_SET_BUY_STACK_SIH_APP",BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",BACKGROUND_GET_ALL_BUY_STACK_SIH_APP:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP",BACKGROUND_DELETE_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_BUY_STACK_SIH_APP",BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",BACKGROUND_GET_ORDERS_HISTORY_SIH_APP:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",BACKGROUND_CREATE_BUY_ORDER_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP",BACKGROUND_GET_TOP_SALES:"BACKGROUND_GET_TOP_SALES",BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP:"BACKGROUND_UPDATE_ITEM_CHECKBOX_SIH_APP",BACKGROUND_SET_DEFAULT_BUY_COUNT:"BACKGROUND_SET_DEFAULT_BUY_COUNT",BACKGROUND_GET_AUTO_LOAD_FLOATS:"BACKGROUND_GET_AUTO_LOAD_FLOATS",BACKGROUND_PING_SIH_APP_SESSION:"BACKGROUND_PING_SIH_APP_SESSION",BACKGROUND_UPDATE_USER_STATE:"BACKGROUND_UPDATE_USER_STATE",BACKGROUND_CREATE_BUY_ORDER:"BACKGROUND_CREATE_BUY_ORDER",BACKGROUND_GET_BUY_ORDER_STATUS:"BACKGROUND_GET_BUY_ORDER_STATUS",BACKGROUND_CANCEL_BUY_ORDER:"BACKGROUND_CANCEL_BUY_ORDER",BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS:"BACKGROUND_GET_ENABLED_RESUBMIT_ORDERS",BACKGROUND_RESELL_ITEMS:"BACKGROUND_RESELL_ITEMS",BACKGROUND_SAVE_ITEM_FOR_SALE:"BACKGROUND_SAVE_ITEM_FOR_SALE",BACKGROUND_REMOVE_ITEM_FOR_SALE:"BACKGROUND_REMOVE_ITEM_FOR_SALE",BACKGROUND_GET_SAVED_ITEMS_FOR_SALE:"BACKGROUND_GET_SAVED_ITEMS_FOR_SALE",BACKGROUND_STOP_RESELL_ITEMS:"BACKGROUND_STOP_RESELL_ITEMS",BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS",BACKGROUND_RESUBMIT_BUY_ORDER:"BACKGROUND_RESUBMIT_BUY_ORDER",BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS:"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS",BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS:"BACKGROUND_STOP_RELISTING_BUY_ORDERS_ITEMS",BACKGROUND_CHECK_API_KEY:"BACKGROUND_CHECK_API_KEY",BACKGROUND_RECONNECT_NEW_SIH_AGENT:"BACKGROUND_RECONNECT_NEW_SIH_AGENT",BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS:"BACKGROUND_GET_AVAILABLE_ITEM_PAY_IDS",BACKGROUND_EDIT_PROJECTS_PERMISSION:"BACKGROUND_EDIT_PROJECTS_PERMISSION",BACKGROUND_DELETE_PROJECTS_PERMISSION:"BACKGROUND_DELETE_PROJECTS_PERMISSION",BACKGROUND_GET_PROJECTS_PERMISSION:"BACKGROUND_GET_PROJECTS_PERMISSION"},alarm:{MAIN:"main",CHECK_PRICE:"checkprice",CHECK_USER:"checkUser",CHECK_TRADEOFFER_THROUGH_API:"CHECK_TRADEOFFER_THROUGH_API",CHECK_TRADEOFFER_THROUGH_PARSING:"CHECK_TRADEOFFER_THROUGH_PARSING",CHECK_MARKET_TOGGLE:"CHECK_MARKET_TOGGLE",CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE:"CHECK_MARKET_AUTOACCEPT_TRADES_TOGGLE",BACKGROUND_AD_HIT_SEND:"AD_HIT_SEND",ACTUALIZE_AGENTS_STATE:"ACTUALIZE_AGENTS_STATE",ACTUALIZE_NEW_SIH_AGENT_STATE:"ACTUALIZE_NEW_SIH_AGENT_STATE",PARSING_ACTUAL_INVENTORY:"PARSING_ACTUAL_INVENTORY",CHECK_ACTUAL_BALANCE:"CHECK_ACTUAL_BALANCE",CHECK_ACTIVE_LOTS_MARKET:"CHECK_ACTIVE_LOTS_MARKET",CHECK_HISTORY_LOTS_MARKET:"CHECK_HISTORY_LOTS_MARKET",GET_EXCHANGE_RATES:"GET_EXCHANGE_RATES",GET_STEAM_RATES:"GET_STEAM_RATES",GET_STEAM_CURRENCY:"GET_STEAM_CURRENCY",UPDATE_PRICE_BOOKMARKS:"UPDATE_PRICE_BOOKMARKS",CHECK_SIH_APP_AUTH:"CHECK_SIH_APP_AUTH",UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS:"UPDATE_SUBSCRIBE_ADS_PLANS_AND_METHODS",PING_SIH_APP_SESSION:"PING_SIH_APP_SESSION",BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP:"BACKGROUND_CREATE_BUY_ORDER_FROM_STACK_SIH_APP",BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP:"BACKGROUND_UPDATE_ORDERS_HISTORY_SIH_APP",BACKGROUND_PARSE_OTHER_INVENTORY:"BACKGROUND_PARSE_OTHER_INVENTORY"},notification:{EXTENSION_UPDATED:"update",INPUT_INVITE:"comInvites",INPUT_COMMENT:"comMessages",OUTPUT_OFFER:"comSentOffers",INPUT_OFFER:"comReceivedOffers"},tradeOfferState:{Invalid:1,Active:2,Accepted:3,Countered:4,Expired:5,Canceled:6,Declined:7,InvalidItems:8,CreatedNeedsConfirmation:9,CanceledBySecondFactor:10,InEscrow:11},tradeOfferType:{Sent:0,Received:1},games:{CSGO:730,COUNTER_STRIKE_GLOBAL_OFFENSIVE:730,TEAM_FORTRESS_2:440,DOTA_2:570,PAYDAY_2:218620,RUST:252490,H1Z1_JUST_SURVIVE:295110,H1Z1_KING_OF_THE_KILL:433850,UNTURNED:304930,KILLING_FLOOR_2:232090,PLAYERUNKNOWNS_BATTLEGROUNDS:578080,STEAM_COMMUNITY:753},stats:{SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED:"SIH_EVENT_REGISTER_VIEW_ITEM_EVENT_REGISTER_ENABLED",SIH_EVENTS_REGISTER_ENABLED:"SIH_EVENTS_REGISTER_ENABLED",SIH_REFERRER:"SIH_REFERRER"},ALLOW_LAST_STEAM_NUMBERS:[0,1,2,3,4,5,6,7,8,9],UNAVAILABLE_GROUP_APP_IDS:[321360,753],AVAILABLE_DOTA_NAMES:[{"Music Pack":{isMarketHashName:!0,isType:!0}},{"Cursor Pack":{isMarketHashName:!0,isType:!0}},{Bundle:{isMarketHashName:!0,isType:!0}},{Taunt:{isMarketHashName:!0,isType:!1}},{"Treasure Chest":{isMarketHashName:!1,isType:!0}},{"Immortal Treasure":{isMarketHashName:!0,isType:!1}},{"Inscribed Gem":{isMarketHashName:!1,isType:!0}},{"Name Tag":{isMarketHashName:!0,isType:!1}},{"Treasure Key":{isMarketHashName:!1,isType:!0}},{"Loading Screen":{isMarketHashName:!1,isType:!0}},{"Priceless Treasure":{isMarketHashName:!1,isType:!0}}],STEAM_NOTIFICATIONS_TYPES:{TRADE:9},countries:{abw:"Aruba",afg:"Afghanistan",ago:"Angola",aia:"Anguilla",ala:"Åland Islands",alb:"Albania",and:"Andorra",are:"United Arab Emirates",arg:"Argentina",arm:"Armenia",asm:"American Samoa",ata:"Antarctica",atf:"French Southern Territories",atg:"Antigua and Barbuda",aus:"Australia",aut:"Austria",aze:"Azerbaijan",bdi:"Burundi",bel:"Belgium",ben:"Benin",bes:"Bonaire, Sint Eustatius and Saba",bfa:"Burkina Faso",bgd:"Bangladesh",bgr:"Bulgaria",bhr:"Bahrain",bhs:"Bahamas",bih:"Bosnia and Herzegovina",blm:"Saint Barthélemy",blr:"Belarus",blz:"Belize",bmu:"Bermuda",bol:"Bolivia",bra:"Brasil",brb:"Barbados",brn:"Brunei Darussalam",btn:"Bhutan",bvt:"Bouvet Island",bwa:"Botswana",caf:"Central African Republic",can:"Canada",cat:"Catalonia",cck:"Cocos (Keeling) Islands",che:"Switzerland",chl:"Chile",chn:"China",civ:"Côte d`Ivoire",cmr:"Cameroon",cod:"Congo (Democratic Republic of the Congo)",cog:"Congo (Congo-Brazzaville)",cok:"Cook Islands",col:"Colombia",com:"Comoros",cpv:"Cabo Verde",cri:"Costa Rica",cub:"Cuba",cuw:"Curaçao",cxr:"Christmas Island",cym:"Cayman Islands",cyp:"Cyprus",cze:"Czech Republic",deu:"Germany",dji:"Djibouti",dma:"Dominica",dnk:"Denmark",dom:"Dominican Republic",dza:"Algeria",ecu:"Ecuador",egy:"Egypt",eri:"Eritrea",esh:"Western Sahara",esp:"Spain",est:"Estonia",eth:"Ethiopia",fin:"Finland",fji:"Fiji",flk:"Falkland Islands (Malvinas)",fra:"France",fro:"Faroe Islands",fsm:"Micronesia",gab:"Gabon",gbr:"United Kingdom",geo:"Georgia",ggy:"Guernsey",gha:"Ghana",gib:"Gibraltar",gin:"Guinea",glp:"Guadeloupe",gmb:"Gambia",gnb:"Guinea-Bissau",gnq:"Equatorial Guinea",grc:"Greece",grd:"Grenada",grl:"Greenland",gtm:"Guatemala",guf:"French Guiana",gum:"Guam",guy:"Guyana",hkg:"Hong Kong",hmd:"Heard Island and McDonald Islands",hnd:"Honduras",hrv:"Croatia",hti:"Haiti",hun:"Hungary",idn:"Indonesia",imn:"Isle of Man",ind:"India",iot:"British Indian Ocean Territory",irl:"Ireland",irn:"Iran",irq:"Iraq",isl:"Iceland",isr:"Israel",ita:"Italy",jam:"Jamaica",jey:"Jersey",jor:"Jordan",jpn:"Japan",kaz:"Kazakstan",ken:"Kenya",kgz:"Kyrgyzstan",khm:"Cambodia",kir:"Kiribati",kna:"Saint Kitts and Nevis",kor:"Korea",kos:"Kosovo",kwt:"Kuwait",lbn:"Lebanon",lbr:"Liberia",lby:"Libya",lca:"Saint Lucia",lie:"Liechtenstein",lka:"Sri Lanka",lso:"Lesotho",ltu:"Lithuania",lux:"Luxembourg",lva:"Latvia",mac:"Macau",maf:"Saint Martin",mar:"Marokko",mco:"Monaco",mda:"Moldova",mdg:"Madagascar",mdv:"Maldives",mex:"Mexico",mhl:"Marshall Islands",mkd:"Makedonia",mli:"Mali",mlt:"Malta",mmr:"Myanmar",mne:"Montenegro",mng:"Mongolia",mnp:"Northern Mariana Islands",moz:"Mozambique",mrt:"Mauritania",msr:"Montserrat",mtq:"Martinique",mus:"Mauritius",mwi:"Malawi",mys:"Malaysia",myt:"Mayotte",nam:"Namibia",ncl:"New Caledonia",ner:"Niger",nfk:"Norfolk Island",nga:"Nigeria",nic:"Nicaragua",niu:"Niue",nld:"Netherlands",nor:"Norway",npl:"Nepal",nru:"Nauru",nzl:"New Zealand",omn:"Oman",pak:"Pakistan",pan:"Panama",pcn:"Pitcairn",per:"Peru",phl:"Phillipines",plw:"Palau",png:"Papua New Guinea",pol:"Poland",pri:"Puerto Rico",prk:"Korea",prt:"Portugal",pry:"Paraguay",pse:"State of Palestine",pyf:"French Polynesia",qat:"Qatar",reu:"Réunion",rou:"Roumania",rus:"Russia",rwa:"Rwanda",sau:"Saudi Arabia",sco:"Scotland",sdn:"Sudan",sen:"Senegal",sgp:"Singapore",sgs:"South Georgia and the South Sandwich Islands",shn:"Saint Helena, Ascension and Tristan da Cunha",sjm:"Svalbard and Jan Mayen",slb:"Solomon Islands",sle:"Sierra Leone",slv:"El Salvador",smr:"San Marino",som:"Somalia",spm:"Saint Pierre and Miquelon",srb:"Serbia",ssd:"South Sudan",stp:"Sao Tome and Principe",sur:"Suriname",svk:"Slovakia",svn:"Slovenia",swe:"Sweden",swz:"Swaziland",sxm:"Sint Maarten",syc:"Seychelles",syr:"Syrian Arab Republic",tca:"Turks and Caicos Islands",tcd:"Chad",tgo:"Togo",tha:"Thailand",tjk:"Tajikistan",tkl:"Tokelau",tkm:"Turkmenistan",tls:"Timor-Leste",ton:"Tonga",tto:"Trinidad and Tobago",tun:"Tunisia",tur:"Turkey",tuv:"Tuvalu",twn:"Taiwan, Province of China",tza:"United Republic of Tanzania",uga:"Uganda",ukr:"Ukraine",umi:"United States Minor Outlying Islands",ury:"Uruguay",usa:"USA",uzb:"Uzbekistan",vat:"Vanuatu",vct:"Vatican",ven:"Venezuela",vgb:"Virgin Islands",vnm:"Vietnam",vut:"Vanuatu",wlf:"Wallis and Futuna",wsm:"Samoa",yem:"Yemen",zaf:"South Africa",zmb:"Zambia",zwe:"Zimbabwe"}}},function(e,t,i){"use strict";i.d(t,"c",function(){return c}),i.d(t,"b",function(){return _}),i.d(t,"a",function(){return m});var n=i(112),a=(i.n(n),i(43)),s=(i.n(a),i(3)),r=i(0),o=i(13),l=i(99),d=i(98),c=function(e){u(e),p()},_=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id");e.fadeOut(300,function(){e.remove(),i.i(o.a)(t)})},m=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id"),n=e.find(".sih-final-resubmit__content"),a=e.find(".sih-final-resubmit__bottom"),r=n.find(".sih-market-content__item"),o=a.find(".sih-final-resubmit__total-count"),l=a.find(".sih-final-resubmit__old-selling-price"),d=a.find(".sih-final-resubmit__old-receive-price"),c=a.find(".sih-final-resubmit__new-selling-price"),_=a.find(".sih-final-resubmit__new-receive-price"),m=a.find(".sih-final-resubmit__different-text"),u=a.find(".sih-final-resubmit__different-selling-price"),p=a.find("#sih-resell-items"),f=$J('.my_listing_section[data-table-id="'+t+'"] .market_listing_row.stack[id^="'+("sell_listings"===t?"mylisting":"mybuyorder")+'"]'),g=f?f.length:0,b=h(t),v=b.oldTotalSellingPriceFormatted,k=b.oldTotalReceivePriceFormatted,y=b.newTotalSellingPriceFormatted,S=b.newTotalReceivePriceFormatted,C=(b.different,b.differentFormatted),I=b.differentPercent;o.text(g+" "+SIHLang.market.resubmit_orders.items),l.text(v),d.text(k),c.text(y),_.text("sell_listings"===t?S:y),r.length?a.addClass("border-top"):(n.css("min-height",0),a.removeClass("border-top")),r.length&&!i.i(s.i)(e)?p.addClass("opacity-50per disabled"):p.removeClass("opacity-50per disabled"),I>=-3&&I<=3?(e.find(".sih-final-resubmit__modal").removeClass("alert"),m.removeClass("text_green-800 text_red").text(""+SIHLang.market.resubmit_orders.final_modal.result),u.removeClass("text_green-800 text_red").text(C),p.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(""+SIHLang.market.resubmit_orders.relisting)):I<-3?(e.find(".sih-final-resubmit__modal").addClass("alert"),m.removeClass("text_green-800").addClass("text_red").text(""+SIHLang.market.resubmit_orders.final_modal.result),u.removeClass("text_green-800").addClass("text_red").text(C),p.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(""+SIHLang.market.resubmit_orders.alert_resubmit)):(e.find(".sih-final-resubmit__modal").removeClass("alert"),m.removeClass("text_red").addClass("text_green-800").text(""+SIHLang.market.resubmit_orders.final_modal.result),u.removeClass("text_red").addClass("text_green-800").text(C),p.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(""+SIHLang.market.resubmit_orders.relisting))},u=function(e){var t=$J("body"),n=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),a=n?n.length:0,o=h(e),l=o.oldTotalSellingPriceFormatted,d=o.oldTotalReceivePriceFormatted,c=o.newTotalSellingPriceFormatted,_=o.newTotalReceivePriceFormatted,m=(o.different,o.differentFormatted),u=o.differentPercent,p=$J('\n     <div id="sih-resubmit-orders" class="sih-final-resubmit" data-table-id="'+e+'">\n        <div class="sih-final-resubmit__fade"></div>\n        <div class="sih-global sih-modal sih-final-resubmit__modal '+(u<-3?"alert":"")+'">\n          <div class="sih-modal__close"></div>\n          <div class="sih-final-resubmit__inner sih-modal__inner">\n               <div class="title px-28">'+("sell_listings"===e?SIHLang.market.resubmit_orders.final_modal.title:SIHLang.market.resubmit_orders.final_modal.title_buy)+'</div>\n\n               <div class="sih-final-resubmit__content sih-market-content"></div>\n\n               <div class="sih-final-resubmit__bottom '+(u<-3?"border-top":"")+'">\n                    <div class="sih-final-resubmit__bottom_left-side">\n                        <span class="sih-final-resubmit__total-count text text_grey-900">'+a+" "+SIHLang.market.resubmit_orders.items+'</span>\n                        <div class="sih-final-resubmit__total-row">\n                            <span class="text text_grey-900 ">'+SIHLang.market.resubmit_orders.final_modal.initial_cost+'</span>\n                            <div class="row items-center gap-5">\n                                <span class="sih-final-resubmit__old-selling-price text text_grey-900">'+l+"</span>\n                                "+("sell_listings"===e?'<span class="text text_grey-900">(<span class="sih-final-resubmit__old-receive-price">'+d+"</span>)</span>":"")+'\n\n                            </div>\n                        </div>\n                        <div class="sih-final-resubmit__total-row">\n                            <span class="text text_grey-900">'+SIHLang.market.resubmit_orders.final_modal.after_resubmit+'</span>\n                            <div class="row items-center gap-5">\n                                <span class="sih-final-resubmit__new-selling-price text text_grey-900">'+c+"</span>\n                                "+("sell_listings"===e?'<span class="text text_grey-900">(<span class="sih-final-resubmit__new-receive-price">'+_+"</span>)</span>":"")+'\n                            </div>\n                        </div>\n                        <div class="sih-final-resubmit__total-row">\n                            <span class="sih-final-resubmit__different-text text text_grey-900 '+(u>=-3&&u<=3?"":u<-3?"text_red":"text_green-800")+'">'+SIHLang.market.resubmit_orders.final_modal.result+'</span>\n                            <span class="sih-final-resubmit__different-selling-price text text_grey-900 '+(u>=-3&&u<=3?"":u<-3?"text_red":"text_green-800")+'">'+m+'</span>\n                        </div>\n\n                    </div>\n\n                    <div class="sih-final-resubmit__bottom_right-side">\n\n                        <div class="column gap-5 items-end">\n                            <span class="text fs-16">'+("sell_listings"===e?SIHLang.market.resubmit_orders.final_modal.you_get:SIHLang.market.resubmit_orders.final_modal.you_spend)+'</span>\n                            <span class="sih-final-resubmit__new-receive-price text fs-20">'+("sell_listings"===e?_:c)+'</span>\n                        </div>\n\n                        <div class="sih-final-resubmit__buttons">\n                            <a href="javascript:void(0)" id="sih-resubmit-cancel" class="sih-modal__button fs-16 py-13 px-36">'+SIHLang.market.resubmit_orders.cancel+'</a>\n                            <a href="javascript:void(0)" id="sih-resell-items" class="sih-modal__button sih-modal__button'+(u<-3?"_red":"_blue")+' fs-16 py-13 px-36">'+(u<-3?""+SIHLang.market.resubmit_orders.alert_resubmit:""+SIHLang.market.resubmit_orders.relisting)+"</a>\n                       </div>\n\n                    </div>\n\n               </div>\n\n          </div>\n        </div>\n     </div>\n");n.each(function(t,n){var a=$J(n),o=+a.find(".resubmit-price__selling").attr("data-old-price"),l=+a.find(".resubmit-price__selling").attr("data-new-price");if(i.i(r.getPercentNumberDifference)(l,o,"sell_listings"===e?-1:1)<=-10){var d=i.i(s.j)(a,t,!0);p.find(".sih-final-resubmit__content").append(d)}}),t.find(".sih-final-resubmit").length||(p.find(".sih-final-resubmit__content").children().length&&p.find(".sih-final-resubmit__content").css("display","flex"),t.append(p),$J(".sih-final-resubmit").find(".sih-final-resubmit__modal").fadeIn(300))},h=function(e){var t=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),n=0,a=0,s=0,o=0;t.each(function(t,i){var r=$J(i),l="buy_orders"===e?+r.find(".market_listing_buyorder_qty .market_listing_price").text():1,d=+r.find(".resubmit-price__selling").attr("data-old-price")*l,c=+r.find(".resubmit-price__receive").attr("data-old-price")*l,_=+r.find(".resubmit-price__selling").attr("data-new-price")*l,m=+r.find(".resubmit-price__receive").attr("data-new-price")*l;n+=d,a+=c,s+=_,o+=m});var l=r.Currency.getPriceFromCurrency(n,currencyId,currencyId).text,d=r.Currency.getPriceFromCurrency(a,currencyId,currencyId).text,c=r.Currency.getPriceFromCurrency(s,currencyId,currencyId).text,_=r.Currency.getPriceFromCurrency(o,currencyId,currencyId).text,m=Math.round(i.i(r.getPercentNumberDifference)(s,n,"sell_listings"===e?-1:1)),u=Math.ceil(1e3*(s-n))/1e3;return{oldTotalSellingPriceFormatted:l,oldTotalReceivePriceFormatted:d,newTotalSellingPriceFormatted:c,newTotalReceivePriceFormatted:_,different:u,differentFormatted:r.Currency.getPriceFromCurrency(u,currencyId,currencyId).text,differentPercent:m}},p=function(){f(),g(),b(),v(),k()},f=function(){var e=$J(".sih-final-resubmit"),t=e.attr("data-table-id");e.find(".sih-market-content__current-price").off("click").click(function(){var e=$J(this),n=e.closest(".sih-market-content__item"),a=n.find(".sih-market-content__input"),s=+e.attr("data-price"),o=+a.val();Math.round(i.i(r.getPercentNumberDifference)(s,o,"sell_listings"===t?-1:1))<=-10?a.removeClass("text_white").addClass("text_red"):a.removeClass("text_red").addClass("text_white"),a.val(s),y(a)})},g=function(){var e=$J(".sih-final-resubmit");e.find(".sih-market-content__best-price").off("click").click(function(){var t=e.attr("data-table-id"),n=$J(this),a=n.closest(".sih-market-content__item"),s=a.find(".sih-market-content__input"),o=+a.find(".sih-market-content__current-price").attr("data-price"),l=+n.attr("data-price");Math.round(i.i(r.getPercentNumberDifference)(l,o,"sell_listings"===t?-1:1))<=-10?s.removeClass("text_white").addClass("text_red"):s.removeClass("text_red").addClass("text_white"),s.val(l),y(s)})},b=function(){var e=$J(".sih-final-resubmit"),t=e.find(".sih-market-content__input"),n=null;t.each(function(t,a){var s=$J(a),o=s.closest(".sih-market-content__item"),l=o.find(".sih-market-content__current-price").attr("data-price");s.focus(function(){s.keyup(function(){clearTimeout(n),n=setTimeout(function(){var t=e.attr("data-table-id"),n=+s.val();Math.round(i.i(r.getPercentNumberDifference)(n,l,"sell_listings"===t?-1:1))<=-10?s.removeClass("text_white").addClass("text_red"):s.removeClass("text_red").addClass("text_white"),S(s),y(s)},500)})}),s.focusout(function(){s.off("keyup")}),s.off("change").change(function(){S(s),y(s)})})},v=function(){var e=$J(".sih-final-resubmit"),t=e.find(".sih-modal__close"),i=e.find(".sih-final-resubmit__fade"),n=e.find("#sih-resubmit-cancel");t.off("click").click(function(){_()}),i.off("click").click(function(){_()}),n.off("click").click(function(){_()})},k=function(){var e=$J(".sih-final-resubmit"),t=$J("#sih-resell-items"),n=e.attr("data-table-id"),a=null;t.off("click").click(function(){clearTimeout(a),a=setTimeout(function(){t.addClass("pointer-events-none"),e.fadeOut(300,function(){e.remove(),i.i(l.a)(n),"sell_listings"===n?r.SellListing.resellItems().then(function(){i.i(l.b)("sell_listings",!0),$J('#tabContentsMyActiveMarketListingsRows .market_listing_row.stack[id^="mylisting"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")}):r.BuyOrders.createBuyOrders().then(function(){i.i(l.b)("buy_orders",!0),$J('#tabContentsMyListings .market_listing_row.stack[id^="mybuyorder"]').css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack")})}),i.i(d.a)()},200)})},y=function(e){var t=e.closest(".sih-market-content__item");i.i(s.e)(e),C(t),m()},S=function(e){var t=$J(".sih-final-resubmit"),n=t.attr("data-table-id"),a=e.closest(".sih-market-content__item"),s=a.find(".sih-market-content__current-price").attr("data-price"),o=+e.val();Math.round(i.i(r.getPercentNumberDifference)(o,s,"sell_listings"===n?-1:1))<=-10?e.removeClass("text_white").addClass("text_red"):e.removeClass("text_red").addClass("text_white")},C=function(e){var t=$J(".sih-final-resubmit"),n=t.attr("data-table-id"),a=$J("#tabContentsMyListings").find("#"+("sell_listings"===n?"mylisting_"+e[0].itemInfo[1]:"mybuyorder_"+e[0].itemInfo[0]));a[0].itemInfo=e[0].itemInfo,a.find(".resubmit-price").remove(),"sell_listings"===n?r.SellListing.removeItem(e[0].itemInfo[4]):r.BuyOrders.removeItem(e[0].itemInfo[0]);var o=e.find(".sih-market-content__input"),l=+o.val(),d=i.i(s.k)(a),c=d.oldSellingPrice;i.i(s.g)(a,"manual",o),c===l&&("sell_listings"===n?r.SellListing.removeItem(e[0].itemInfo[4]):r.BuyOrders.removeItem(e[0].itemInfo[0]))}},function(e,t,i){"use strict";i.d(t,"b",function(){return _}),i.d(t,"a",function(){return m});var n=i(113),a=(i.n(n),i(43)),s=(i.n(a),i(0)),r=i(3),o=i(13),l=i(11),d=i(12),c=i(15),_=function(e){u(e),h()},m=function(){var e=$J("#sih-resubmit-orders"),t=$J(".sih-toolbar"),i=t.find(".sih-toolbar__button");e.fadeOut(300,function(){e.remove(),i.removeClass("disabled opacity-50per")})},u=function(e){var t=$J(e[0]).attr("id").includes("mybuyorder")?"buy_orders":"sell_listings",n=!!$J('.my_listing_section[data-table-id="'+t+'"] .market_listing_row[id^="'+("sell_listings"===t?"mylisting":"mybuyorder")+'"] .select-checkbox:checked').closest(".market_listing_row").find(".sih-market-alert").length,a=$J("body"),s=$J('\n     <div id="sih-resubmit-orders" class="sih-resubmit-orders-group" data-table-id="'+t+'">\n        <div class="sih-resubmit-orders-group__fade"></div>\n        <div class="sih-global sih-modal sih-resubmit-orders-group__modal">\n          <div class="sih-modal__close"></div>\n          <div class="sih-resubmit-orders-group__inner sih-modal__inner">\n\n            <div class="sih-resubmit-orders-group__content sih-market-content"></div>\n\n            <div class="sih-resubmit-orders-group__buttom">\n\n\n                '+(n?'\n                  <div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>\n                ':'<div class="sih-resubmit-orders-group__info-message sih-info-message" data-state="default">\n                    <div class="sih-info-message__default">\n\n                    </div>\n                 </div>')+'\n\n\n                <div class="sih-resubmit-orders-group__toolbar modal-toolbar">\n\n                    <div class="modal-toolbar__left-side row">\n                      <div class="modal-toolbar__selected-info">\n                        <span class="text text_light-grey text-lowercase">'+e.length+" "+SIHLang.market.resubmit_orders.items+" "+SIHLang.market.resubmit_orders.selected+'</span>\n                      </div>\n                    </div>\n\n                    <div class="modal-toolbar__right-side row">\n                        <label for="sih-resubmit-orders-group-input-all" class="row gap-5 justify-between items-center">\n\n                        <label for="sih-resubmit-orders-group-input-all" class="max-w-140">\n                          <span class="text text_white fs-14">'+SIHLang.market.resubmit_orders.enter_all_price+'</span>\n                        </label>\n\n                        <label for="sih-resubmit-orders-group-input-all" class="row justify-center items-center w-24 h-24">\n                            <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path d="M0.589844 10.58L5.16984 6L0.589844 1.41L1.99984 0L7.99984 6L1.99984 12L0.589844 10.58Z" fill="#9EA7B3"/>\n                            </svg>\n                        </label>\n\n                       <input type="number" id="sih-resubmit-orders-group-input-all" class="sih-resubmit-orders-group__input max-w-120 box-border text text_white bg-transparent br2-grey py-8 px-20" step="0.01" min="0.03">\n\n                    </label>\n\n                        <div class="sih-resubmit-orders-group__buttons">\n                            <a href="javascript:void(0)" id="sih-resubmit-cancel" class="sih-modal__button fs-10 bold py-8 px-45 text-uppercase">'+SIHLang.market.resubmit_orders.cancel+'</a>\n                            <a href="javascript:void(0)" id="sih-resubmit-btn" class="disabled opacity-50per sih-modal__button sih-modal__button_blue fs-10 bold py-14 px-16 text-uppercase">'+SIHLang.market.resubmit_orders.confirm+"</a>\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n\n\n          </div>\n        </div>\n     </div>\n");e.forEach(function(e,t){var n=i.i(r.j)(e,t);s.find(".sih-resubmit-orders-group__content").append(n)}),a.find("#sih-resubmit-orders").length||(a.append(s),$J("#sih-resubmit-orders").find(".sih-resubmit-orders-group__modal").fadeIn(300))},h=function(){p(),f(),g(),v(),k(),b(),C()},p=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-modal__close"),i=e.find(".sih-resubmit-orders-group__fade"),n=e.find("#sih-resubmit-cancel");t.off("click").click(function(){m()}),i.off("click").click(function(){m()}),n.off("click").click(function(){m()})},f=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__current-price"),n=e.find("#sih-resubmit-btn");t.off("click").click(function(){var t=$J(this),a=t.attr("data-price"),s=t.closest(".sih-market-content__item").find(".sih-market-content__input");s.val(a),y(s),n.hasClass("disabled opacity-50per")||i.i(r.i)(e)||n.addClass("disabled opacity-50per")})},g=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__best-price"),i=e.find("#sih-resubmit-btn");t.off("click").click(function(){var e=$J(this),t=e.attr("data-price"),n=e.closest(".sih-market-content__item").find(".sih-market-content__input");n.val(t),y(n),i.removeClass("disabled opacity-50per")})},b=function(){$J("#sih-resubmit-orders-group-input-all").trigger("focus"),$J("#sih-resubmit-orders-group-input-all")[0].select()},v=function(){var e=$J("#sih-resubmit-orders"),t=e.find(".sih-market-content__input"),n=e.find("#sih-resubmit-btn"),a=null;t.each(function(t,s){var o=$J(s);o.focus(function(){o.keyup(function(){clearTimeout(a),a=setTimeout(function(){y(o),i.i(r.i)(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")},500)})}),o.focusout(function(){o.off("keyup")}),o.off("change").change(function(){y(o),i.i(r.i)(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per")})})},k=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-orders-group-input-all"),n=e.find("#sih-resubmit-btn"),a=null;t.focus(function(){t.keyup(function(){var t=$J(this),s=+t.val()||0;clearTimeout(a),a=setTimeout(function(){s&&(y(),i.i(r.i)(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))},500)})}),t.focusout(function(){t.off("keyup")}),t.off("change").change(function(){(+$J(this).val()||0)&&(y(),i.i(r.i)(e)?n.removeClass("disabled opacity-50per"):n.hasClass("disabled opacity-50per")||n.addClass("disabled opacity-50per"))})},y=function(e){i.i(r.e)(e),S()},S=function(){var e=$J("#sih-resubmit-orders"),t=e.attr("data-table-id"),n=e.find(".sih-market-content__item"),a=e.find("#sih-resubmit-btn"),r=e.find(".sih-info-message"),o=r.find(".sih-info-message__alert"),l=0,d=0;n.each(function(e,t){var i=$J(t),n=+i.find(".sih-market-content__current-price").attr("data-price"),a=+i.find(".sih-market-content__input").val();l+=n,d+=a});var c=i.i(s.getPercentNumberDifference)(d,l,"sell_listings"===t?-1:1),_=Math.abs(Math.ceil(1e3*(d-l))/1e3),m=s.Currency.getPriceFromCurrency(_,currencyId,currencyId).text;if(c<=-10){if(a.hasClass("sih-modal__button_blue")&&(e.find(".sih-resubmit-orders-group__modal").addClass("alert"),a.removeClass("sih-modal__button_blue").addClass("sih-modal__button_red").text(SIHLang.market.resubmit_orders.alert_resubmit)),o.length)o.find(".alert-info__percent").text(Math.abs(c)+"%"),o.find(".alert-info__price").text("("+m+")"),r.find(".sih-info-message__default").fadeOut(300,function(){o.fadeIn(300)});else{var u=$J('\n        <div class="sih-info-message__alert alert-info gap-5">\n           <span class="text text_red">'+SIHLang.market.resubmit_orders.attention+'</span>\n           <span class="text text_white">'+("sell_listings"===t?SIHLang.market.resubmit_orders.new_price_less_1:SIHLang.market.resubmit_orders.new_price_bigger_1)+'</span>\n           <span class="alert-info__percent text text_white">'+Math.abs(c)+'%</span>\n           <span class="alert-info__price text text_white">('+m+')</span>\n           <span class="text text_white">'+("sell_listings"===t&&"en"===lang?SIHLang.market.resubmit_orders.new_price_less_2:"")+"</span>\n\n        </div>\n      ");r.append(u)}r.find(".sih-info-message__default").fadeOut(300,function(){r.find(".sih-info-message__alert").fadeIn(300)})}else e.find(".sih-resubmit-orders-group__modal").removeClass("alert"),a.removeClass("sih-modal__button_red").addClass("sih-modal__button_blue").text(SIHLang.market.resubmit_orders.confirm),o.fadeOut(300,function(){r.find(".sih-info-message__default").fadeIn(300)})},C=function(){var e=$J("#sih-resubmit-orders"),t=e.find("#sih-resubmit-btn"),n=e.find(".sih-market-content__item"),a=null;t.off("click").click(function(){clearTimeout(a),a=setTimeout(function(){var a=e.attr("data-table-id");t.addClass("pointer-events-none"),n.each(function(e,t){var n=$J(t),s=$J("#tabContentsMyListings").find("#"+("sell_listings"===a?"mylisting_"+t.itemInfo[1]:"mybuyorder_"+t.itemInfo[0])),_=s.find(".sih-resubmit"),u=n.find(".sih-market-content__input");s[0].itemInfo=t.itemInfo;var h=+u.val();+n.find(".sih-market-content__current-price").attr("data-price")!==h&&i.i(r.g)(s,"manual",u),s.find(".select-checkbox").prop("checked",!1),_.removeClass("disabled"),m(),i.i(c.a)(a),i.i(o.a)(a),i.i(l.a)($J("#tabContentsMyActiveMarketListingsTable")),i.i(d.a)(a)})},200)})}},function(e,t){},,,function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}i.d(t,"a",function(){return s});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=function(){function e(t){var i=t.eventGroup,a=t.eventType,s=void 0===a?e.EVENT_TYPE:a,r=t.messageType,o=void 0===r?e.MESSAGE_TYPE:r,l=t.lang,d=void 0===l?e.DEFAULT_LANG:l,c=t.country,_=void 0===c?e.DEFAULT_COUNTRY:c,m=t.uid,u=void 0===m?e.DEFAULT_UID:m,h=t.location,p=void 0===h?p&&p.href||"":h,f=t.SIHID,g=void 0===f?window.SIHID:f;n(this,e),this.eventGroup=i,this.eventType=s,this.messageType=o,this.location=p,this.SIHID=g,this.lang=d,this.country=_,this.uid=u}return e.prototype.register=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={type:this.eventType,payload:a({uid:this.uid,country:this.country,lang:this.lang,group:this.eventGroup,link:this.location},e)};chrome.runtime.sendMessage(this.SIHID,{type:this.messageType,data:t})},e}();s.EVENT_TYPE="events",s.MESSAGE_TYPE="EVENT_STORE",s.DEFAULT_COUNTRY="n/a",s.DEFAULT_LANG="n/a",s.DEFAULT_UID="n/a"},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i.d(t,"a",function(){return l});var r=i(46),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(e){function t(i){var s=i.eventType,r=void 0===s?t.EVENT_TYPE:s,o=i.messageType,l=void 0===o?t.MESSAGE_TYPE:o,d=i.SIHID,c=void 0===d?window.SIHID:d;n(this,t);var _=a(this,e.call(this,{eventGroup:t.EVENT_GROUP,eventType:r,messageType:l,SIHID:c}));return _.eventType=r,_.messageType=l,_.SIHID=c,_}return s(t,e),t.prototype.register=function(){var i=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.getUID(this.SIHID).then(function(t){return e.prototype.register.call(i,o({uid:t,country:(g_strCountryCode||"").toLowerCase(),lang:(g_strLanguage||"").toLowerCase(),data:{steamId:g_steamID}},n))})},t.getUID=function(e){try{return new Promise(function(t){chrome.runtime.sendMessage(e,{type:"BACKGROUND_GET_SIH_TOKEN"},t)})}catch(e){}},t}(r.a);l.EVENT_GROUP="inventory-page-events",l.EVENT_TYPE="events",l.MESSAGE_TYPE="EVENT_STORE"},function(e,t,i){"use strict";function n(){a()}function a(){var e=$J(".refill-sih-balance"),t=e.find(".refill-sih-balance__select-country-outer");t.find("#refill-sih-balance__select-country").length||t.append('<select id="refill-sih-balance__select-country"></select>'),s()}function s(){var e=$J(".refill-sih-balance"),t=e.find("#refill-sih-balance__select-country");$J.each(c.a.countries,function(e,i){t.append('\n      <option class="flag-icon flag-icon-'+e+' flag-icon-squared" data-country="'+e+'">\n          <span>'+i+"</span>\n      </option>")}),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var i=$J(t.element).attr("data-country"),n=$J("<li>",{class:"refill-sih-balance__select-option",value:t.element.attr("value")}).attr("data-country",""+i),a=$J("<span>",{class:t.element.attr("class")}),s=$J("<span>",{text:t.label});return s.prepend(a),n.append(s).appendTo(e)}}),$J("#refill-sih-balance__select-country").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("refill-sih-balance__widget_content")}}}),r(),o(),l()}function r(){var e=_.localStorageJSON.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa",i=$J("#refill-sih-balance__select-country-button").find(".ui-selectmenu-text");i.before('<span class="flag-icon flag-icon-'+t+' flag-icon-squared"></span'),i.text(c.a.countries[t])}function o(){$J("#refill-sih-balance__select-country-button").click(function(){var e=_.localStorageJSON.get("SIH_REFILL_BALANCE")||{},t=e.country?e.country:"usa";$J("#refill-sih-balance__select-country-menu").find(".refill-sih-balance__select-option").each(function(e,i){var n=$J(i),a=n.find(".ui-menu-item-wrapper");a.removeClass("ui-state-active"),n.data("country")===t&&a.addClass("ui-state-active")})})}function l(){$J("#refill-sih-balance__select-country-button").click(function(){var e=$J(this);$J(".refill-sih-balance__widget_content").find(".refill-sih-balance__select-option").each(function(t,n){$J(n).off("click").click(function(){var t=$J(this),n=t.data("country");e.find(".flag-icon").remove();var a=_.localStorageJSON.get("SIH_REFILL_BALANCE")||{};a.country=n,_.localStorageJSON.set("SIH_REFILL_BALANCE",a),r(),i.i(m.b)(),i.i(u.c)()})})})}t.a=n;var d=i(57),c=(i.n(d),i(40)),_=i(0),m=i(16),u=i(6)},function(e,t,i){"use strict";function n(e){a(e)}function a(e){var t='\n      <div class="sih-plug sih-plug__steam-guard sih-steam-guard hidden">\n               <div class="sih-steam-guard__container">\n                    <div class="column max-w-360 gap-14">\n                        <span class="title">'+SIHLang.sihAppMarket.plug_steam_guard.title+'</span>\n                        <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey lh-26">'+SIHLang.sihAppMarket.plug_steam_guard.info_text+'</span>\n                    </div>\n\n                    <div class="row mt-52">\n                        <a href="https://store.steampowered.com/twofactor/manage" target="_blank" class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8">'+SIHLang.sihAppMarket.plug_steam_guard.setup+'</a>\n                    </div>\n\n                    <div class="column mt-40 gap-14">\n                        <a href="https://help.steampowered.com/ru/faqs/view/06B0-26E6-2CF8-254C" target="_blank" class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8">'+SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard+'</a>\n                        <a href="https://help.steampowered.com/ru/faqs/view/7EFD-3CAE-64D3-1C31" target="_blank" class="sih-modal__text sih-modal__text_md sih-modal__text_blue underline hover-opacity-8">'+SIHLang.sihAppMarket.plug_steam_guard.learn_more_guard_mobile+"</a>\n                    </div>\n\n\n               </div>\n      </div>\n  ";e.find(".sih-plug__steam-guard").length||e.append(t)}t.a=n;var s=i(60);i.n(s)},function(e,t,i){"use strict";function n(){r()}function a(){l(),d(),m()}function s(){o(),d()}function r(){var e=$J("#sih-modal__buy-orders"),t=e.find(".orders-tab__main"),n=i.i(y.a)(),a=$J('\n       <div class="right-block ordering-tab__right-block sih-modal__column">\n                  <div class="sih-modal__row justify-between">\n                    <span class="sih-modal__text sih-modal__text_lg">'+SIHLang.sihAppMarket.ordering.buy_on_steam+'</span>\n                  </div>\n                  <div class="sih-modal__row justify-between bg-grey mt-16 rounded-4 px-6 py-6">\n                    <div class="sih-modal__row gap-8 items-center">\n                        <div class="right-block__user-image w-36 h-36 bg-black-100"></div>\n                        <div class="sih-modal__column">\n                            <span class="right-block__user-name sih-modal__text sih-modal__text_md"></span>\n                            <span class="right-block__user-steamid sih-modal__text sih-modal__text_sm sih-modal__text_light-grey"></span>\n                        </div>\n                    </div>\n\n\n                  </div>\n\n                  <div class="right-block__order-info">\n                    <div class="right-block__order-info_inner">\n                      <div class="sih-modal__row justify-between mt-31 gap-5">\n                         <span class="sih-modal__text sih-modal__text_md sih-modal__text_bold">'+SIHLang.sihAppMarket.ordering.your_balance+'</span>\n                         <span class="sih-modal__user-balance sih-modal__text sih-modal__text_md sih-modal__text_bold"></span>\n                      </div>\n                      <div class="sih-modal__column mt-16 gap-8">\n\n                          <div class="right-block__unavailable-row sih-modal__row justify-between gap-5 hidden">\n                           <div class="sih-modal__row gap-5">\n                              <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">'+SIHLang.sihAppMarket.ordering.not_enough_balance+'</span>\n                              <div class="sih-modal__row">\n                                 <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">(</span>\n                                  <span class="sih-modal__unavailable-item-count sih-modal__text sih-modal__text_md sih-modal__text_light-grey"></span>\n                                 <span class="sih-modal__text sih-modal__text_md sih-modal__text_light-grey">)</span>\n                              </div>\n\n                           </div>\n                           <span class="sih-modal__unavailable-total-coast sih-modal__text sih-modal__text_md sih-modal__text_light-grey"></span>\n\n                         </div>\n\n\n                        <div class="splitter-1 bg-grey mt-9"></div>\n\n                      </div>\n\n                      <div class="sih-modal__column mt-11 mb-10 gap-10">\n                          <span class="sih-modal__text sih-modal__text_lg">'+SIHLang.sihAppMarket.ordering.summary+'</span>\n\n                          <div class="right-block__available-row sih-modal__row justify-between gap-5 hidden">\n                            <div class="sih-modal__row gap-5">\n                                <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">'+SIHLang.sihAppMarket.ordering.available_item_now+'</span>\n                                <div class="sih-modal__row">\n                                    <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">(</span>\n                                    <span class="sih-modal__available-item-count sih-modal__text sih-modal__text_blue sih-modal__text_md"></span>\n                                    <span class="sih-modal__text sih-modal__text_md sih-modal__text_blue">)</span>\n                                </div>\n\n                             </div>\n\n                              <span class="sih-modal__available-total-coast sih-modal__text sih-modal__text_blue sih-modal__text_md"></span>\n                          </div>\n\n                        <div class="right-block__all-orders-row sih-modal__row justify-between gap-5">\n                           <div class="sih-modal__row gap-5">\n                              <span class="sih-modal__text sih-modal__text_md">'+SIHLang.sihAppMarket.ordering.for_all+'</span>\n                              <div class="sih-modal__row">\n                                  <span class="sih-modal__text sih-modal__text_md">(</span>\n                                  <span class="sih-modal__ordering-item-count sih-modal__text sih-modal__text_md"></span>\n                                  <span class="sih-modal__text sih-modal__text_md">)</span>\n                              </div>\n\n                           </div>\n                           <span class="sih-modal__total-coast sih-modal__text sih-modal__text_md"></span>\n\n                         </div>\n\n                      </div>\n\n                    </div>\n                  </div>\n\n                  <div class="right-block__buttons sih-modal__column gap-15 mt-34">\n                       <button id="sih_buy_available" class="sih-modal__button sih-modal__button_blue justify-center opacity-5 pointer-events-none rounded-8 py-16" title="buy_available">'+SIHLang.sihAppMarket.ordering.buy_available+'</button>\n                       <button class="sih__buy-all-items sih-modal__button sih-modal__button_light-grey justify-center opacity-5 pointer-events-none rounded-8 py-16" title="buy_all">'+SIHLang.sihAppMarket.ordering.buy_all+'</button>\n                  </div>\n\n                   <div class="sih-modal__error mt-20"></div>\n\n                  <div class="sih-modal__row text-center mt-47">\n                     <span class="sih-modal__text sih-modal__text_md">\n                       '+SIHLang.sihAppMarket.ordering.info_text+"\n                     </span>\n                  </div>\n\n       </div>\n  ");n.find("#sih-tos").off("change").change(function(e){i.i(b.c)()}),a.find(".right-block__order-info_inner").append(n),t.find(".ordering-tab__right-block").length||t.append(a)}function o(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),i=$J(".right-block__user-image"),n=t.find(".right-block__user-name"),a=t.find(".right-block__user-steamid"),s=t.find(".sih-modal__user-balance");p.SihAppGlobal.getLoginSihAppUser().then(function(e){i.find("img").length||i.append('<img src="'+e.user.avatar+'">'),n.text(e.user.username);var t=e.socials.findIndex(function(e){return"steam"===e[0]});a.text(e.socials[t][1]);var r=e.user.balance/1e3,o=p.Currency.getPriceFromCurrency(r,S).text;s.text(o)})}function l(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),i=t.find(".sih-modal__total-coast");p.SihAppGlobal.getAllBuyStack().then(function(e){var t=p.SihAppGlobal.getFilterItemsByStatus(e,"ordering"),n=0;t.forEach(function(e){e.isChecked&&(n+=e.price)});var a=p.Currency.getPriceFromCurrency(n,S).text;i.text(a)})}function d(){c(),_()}function c(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".sih-modal__error");t.find(".sih__buy-all-items").off("click").click(function(){var a=$J(this);a.addClass("animated-background-btn");var s=n.find(".sih-modal__error_message");p.SihAppGlobal.getUserSihApp().then(function(r){r.success?p.SihAppGlobal.getLoginSihAppUser().then(function(r){if(r.success)if(r.tfaNeed)p.SihAppGlobal.errorHandler(a,n,s,"Enter password"),setTimeout(function(){i.i(f.e)("cart-tab",null).then(function(){i.i(k.a)(),i.i(k.b)();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()})},1e3);else{a.removeClass("animated-background-btn");var o=r.user.balance/1e3;i.i(f.c)("ordering").then(function(e){var n=0,a=0;e.forEach(function(e){a+=e.reduce(function(e,t){return t.isChecked&&(a+e+t.price<=o?e+=t.price:n+=t.price),e},0)}),n=n>0?Math.abs(o-(a+n)):0;var s=Math.ceil(1e3*n)/1e3;p.SihAppGlobal.getSihAppToken().then(function(e){window.open("https://sih.app/pay?amount="+s+"#payToken="+e,"_blank");var n=t.find(".sih-modal__row_item"),a=i.i(b.d)(n,"pending");p.SihAppGlobal.changeItemsStatus(a).then(function(){i.i(f.a)(),i.i(v.a)(),i.i(g.a)(),$J("#sih-header-orders").trigger("click"),p.SihAppGlobal.updateTradeLink(),setTimeout(function(){p.SihAppGlobal.createBuyOrder().then(function(e){})},1e3)})})})}else p.SihAppGlobal.errorHandler(a,n,s)}):r.hasOwnProperty("error")?p.SihAppGlobal.errorHandler(a,n,s,r.error):p.SihAppGlobal.errorHandler(a,n,s)})})}function _(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab"),n=t.find(".ordering-tab__content.available"),a=t.find(".sih-modal__error");t.find("#sih_buy_available").off("click").click(function(){var s=a.find(".sih-modal__error_message"),r=n.find(".sih-modal__row_item"),o=$J(this);o.addClass("animated-background-btn"),p.SihAppGlobal.getUserSihApp().then(function(n){n.success?p.SihAppGlobal.getLoginSihAppUser().then(function(n){if(n.success)if(n.tfaNeed)p.SihAppGlobal.errorHandler(o,a,s,"Enter password"),setTimeout(function(){i.i(f.e)("cart-tab",null).then(function(){i.i(k.a)(),i.i(k.b)();var n=e.find(".sih-modal.cart-tab");t.hide(),n.show()})},1e3);else{var l=i.i(b.d)(r,"pending");p.SihAppGlobal.changeItemsStatus(l).then(function(){i.i(f.a)(),i.i(v.a)(),i.i(g.a)(),$J("#sih-header-orders").trigger("click"),p.SihAppGlobal.updateTradeLink(),setTimeout(function(){p.SihAppGlobal.createBuyOrder().then(function(e){})},1e3)})}else p.SihAppGlobal.errorHandler(o,a,s)}):n.hasOwnProperty("error")?p.SihAppGlobal.errorHandler(o,a,s,n.error):p.SihAppGlobal.errorHandler(o,a,s)})})}function m(){var e=$J("#sih-modal__buy-orders"),t=e.find(".sih-modal.ordering-tab");t.find("#sih_buy_available").tooltip({content:SIHLang.sihAppMarket.ordering.buy_available_tooltip,position:{my:"left top",at:"left+10 bottom"},classes:{"ui-tooltip":"ordering__tooltip"}}),t.find(".sih__buy-all-items").each(function(e,t){$J(t).tooltip({content:SIHLang.sihAppMarket.ordering.buy_all_tooltip,position:{my:"left bottom",at:"left+10 top"},classes:{"ui-tooltip":"ordering__tooltip"}})})}t.a=n,t.c=a,t.b=s;var u=i(35),h=(i.n(u),i(61)),p=(i.n(h),i(0)),f=i(7),g=i(2),b=i(10),v=i(18),k=i(17),y=i(33),S=1},function(e,t,i){"use strict";function n(){a(),s(),l()}function a(){var e=$J(".sih-pagecontent").find(".sih-subscribe-ads"),t='\n    <div class="sih-modal sih-global subscription-info-tab">\n        <div class="sih-modal__close"></div>\n        <div class="sih-modal__inner">\n             <div class="sih-modal__header sih-modal__column gap-20">\n                <h2 class="sih-modal__title">'+SIHLang.subscribeAds.modal.subscriptionInfo.title+'</h2>\n               <span class="subscription-info-tab__info-text sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.subtitle+'\n               </span>\n               <div class="sih-modal__row mt-5">\n                 <button class="go-to-plan go-to-plan_top sih-modal__button sih-modal__button_blue py-16 px-24">'+SIHLang.subscribeAds.modal.subscriptionInfo.button_1+'</button>\n               </div>\n            </div>\n             <div class="sih-modal__bottom sih-modal__column mt-52">\n\n                <div class="sih-modal__bottom_header">\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n\n                        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold">'+SIHLang.subscribeAds.modal.subscriptionInfo.in_sih+'\n                        </span>\n\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words">'+SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black+'\n                            </span>\n                            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words">'+SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black+'\n                            </span>\n                        </div>\n\n                    </div>\n                    <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n                </div>\n                <div class="sih-modal__content sih-modal__column gap-45">\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__row items-center gap-5">\n                           <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1+'\n                          </span>\n                          <div class="subscription-info-tab__tooltip" title="'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_1_tooltip+'"></div>\n                        </div>\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__row items-center gap-5">\n                           <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2+'\n                          </span>\n                           <div class="subscription-info-tab__tooltip" title="'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_2_tooltip+'"></div>\n                        </div>\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n                     <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__column items-start -mt-16">\n                          <div class="sih-modal__row bg-blue px-4 rounded-4">\n                                    <span class="sih-modal__text sih-modal__text_sm sih-modal__text_bold sih-modal__text_white text-uppercase">'+SIHLang.subscribeAds.modal.subscriptionInfo.soon+'</span>\n                          </div>\n\n                          <div class="sih-modal__row items-center gap-5">\n                             <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_3+'\n                            </span>\n\n                          </div>\n                        </div>\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__column items-start -mt-16">\n\n                            <div class="sih-modal__row bg-blue px-4 rounded-4">\n                                <span class="sih-modal__text sih-modal__text_sm sih-modal__text_bold sih-modal__text_white text-uppercase">'+SIHLang.subscribeAds.modal.subscriptionInfo.soon+'</span>\n                            </div>\n\n                            <div class="sih-modal__row items-center gap-5">\n                               <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_option_4+'\n                              </span>\n                            </div>\n\n                        </div>\n\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n                     <div class="splitter-1 bg-grey -mt-25"></div>\n                </div>\n\n                 <div class="sih-modal__bottom_header mt-62">\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n\n                        <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold">'+SIHLang.subscribeAds.modal.subscriptionInfo.in_sih_app+'\n                        </span>\n\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words">'+SIHLang.subscribeAds.modal.subscriptionInfo.without_sih_black+'\n                            </span>\n                            <span class="sih-modal__text sih-modal__text_lg sih-modal__text_bold w-100per text-center break-words">'+SIHLang.subscribeAds.modal.subscriptionInfo.with_sih_black+'\n                            </span>\n                        </div>\n\n                    </div>\n                    <div class="splitter-1 bg-grey mt-20 mb-20"></div>\n                </div>\n                <div class="sih-modal__content sih-modal__column gap-45">\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__row items-center gap-5">\n                           <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1+'\n                          </span>\n                           <div class="subscription-info-tab__tooltip" title="'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_tooltip+'"></div>\n                        </div>\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_without+'</span>\n                            <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_1_with+'</span>\n                        </div>\n\n                    </div>\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n                        <div class="sih-modal__row items-center gap-5">\n                           <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2+'\n                          </span>\n                           <div class="subscription-info-tab__tooltip" title="'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_2_tooltip+'"></div>\n                        </div>\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_red">8</span>\n                            <span class="w-100per text-center sih-modal__text sih-modal__text_md sih-modal__text_green">22</span>\n                        </div>\n\n                    </div>\n                     <div class="sih-modal__column-grid grid-columns-4-1">\n\n                        <div class="sih-modal__column items-start">\n\n                          <div class="sih-modal__row items-center gap-5">\n                             <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_3+'\n                            </span>\n                          </div>\n                        </div>\n\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n                    <div class="sih-modal__column-grid grid-columns-4-1">\n\n                        <div class="sih-modal__column items-start -mt-16">\n                          <div class="sih-modal__row bg-blue px-4 rounded-4">\n                                    <span class="sih-modal__text sih-modal__text_sm sih-modal__text_bold sih-modal__text_white text-uppercase">'+SIHLang.subscribeAds.modal.subscriptionInfo.soon+'</span>\n                          </div>\n                          <div class="sih-modal__row items-center gap-5">\n                             <span class="sih-modal__text sih-modal__text_md">'+SIHLang.subscribeAds.modal.subscriptionInfo.sih_app_option_4+'\n                            </span>\n                          </div>\n                        </div>\n\n                        <div class="sih-modal__row justify-between gap-36">\n                            <span class="cross_red"></span>\n                            <span class="checkbox_green"></span>\n                        </div>\n\n                    </div>\n\n                     <div class="splitter-1 bg-grey -mt-25"></div>\n                </div>\n\n             </div>\n             <button class="go-to-plan go-to-plan_bottom sih-modal__button sih-modal__button_blue px-24 py-16">'+SIHLang.subscribeAds.modal.subscriptionInfo.button_1+'</button>\n             <a href="https://steamcommunity.com/groups/SteamInventoryHelper/discussions/0/3832042807499341165/" target="_blank" class="sih-modal__text_blue absolute right-50 -bottom-20 hover-opacity-8">'+SIHLang.subscribeAds.modal.questions+"</a>\n        </div>\n\n      </div>\n  ";e.find(".subscription-info-tab").length||e.append(t)}function s(){r(),o()}function r(){var e=$J(".sih-modal.subscription-info-tab"),t=$J(".sih-modal.selecting-plan-tab");e.find(".go-to-plan").click(function(){e.hide(),t.show()})}function o(){var e=$J(".sih-modal.subscription-info-tab"),t=e.find(".sih-modal__inner");t.scroll(function(){var e=t.find(".go-to-plan_top"),i=t.find(".go-to-plan_bottom"),n=e.position().top;n<25&&0!==n&&0!==e.css("opacity")?(e.css("opacity",0),i.css("opacity",1)):(e.css("opacity",1),i.css("opacity",0))})}function l(){var e=$J(".sih-modal.subscription-info-tab"),t=$J(".pagecontent").css("zoom");$J(".sih-subscribe-ads").css("zoom",2-+t),e.find(".subscription-info-tab__tooltip").each(function(e,t){$J(t).tooltip({classes:{"ui-tooltip":"subscription__tooltip"}})})}t.a=n;var d=i(72);i.n(d)},function(e,t,i){"use strict";function n(){a(),s()}function a(){var e=$J("body"),t='\n    <div id="sih-notification-panel">\n      <div class="notification-panel__fade"></div>\n      <div class="notification-panel sih-global">\n          <div class="row justify-between px-24">\n              <div class="notification-panel__title row gap-16 items-baseline">\n                  <span class="text fs-16">'+SIHLang.notifications.title+'</span>\n              </div>\n\n              <div class="notification-panel__close"></div>\n          </div>\n          <div class="notification-panel__header">\n            <div class="filter row gap-8">\n               <label for="notification-panel__filter-success" class="filter__label">\n                    <input type="checkbox" id="notification-panel__filter-success" class="filter__input" data-filter="success" checked>\n                    <div class="filter__item success">\n                      <div class="row w-6 h-6 rounded-50per bg-green"></div>\n                      <div class="filter__count text fs-12 lh-12"></div>\n                    </div>\n                </label>\n                <label for="notification-panel__filter-error" class="filter__label">\n                    <input type="checkbox" id="notification-panel__filter-error" class="filter__input" data-filter="error" checked>\n                     <div class="filter__item error">\n                        <div class="row w-6 h-6 rounded-50per bg-red"></div>\n                        <div class="filter__count text fs-12 lh-12"></div>\n                     </div>\n                </label>\n\n\n            </div>\n          </div>\n          <div class="notification-panel__content column"></div>\n      </div>\n    </div>\n  ';e.find("#sih-notification-panel").length||e.append(t)}function s(){r(),o()}function r(){var e=$J("#sih-notification-panel");$J("#sih-header-notifications").off("click").click(function(){$J("body").css("overflow","hidden"),e.css("display","flex"),setTimeout(function(){e.find(".notification-panel").css({transform:"translateX(0)"})},100),l().then(function(){i.i(f.b)(),d(),c(),m(),u()}),i.i(g.d)()})}function o(){function e(){t.find(".notification-panel").css({transform:"translateX(100%)"}),setTimeout(function(){t.hide(),$J("body").css("overflow","auto")},300)}var t=$J("#sih-notification-panel");t.find(".notification-panel__close").off("click").click(function(){e()}),t.find(".notification-panel__fade").off("click").click(function(){e()})}function l(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__content");return e.find(".notification-panel__content").children().remove(),new Promise(function(e){p.SihAppGlobal.getLogs().then(function(i){if(i)p.SihAppGlobal.getUserSihApp().then(function(n){p.SihAppGlobal.getLoginSihAppUser().then(function(a){if(a.success&&a.tfaNeed&&($J("#sih-notification-panel").find(".notification-panel__close").trigger("click"),$J("#sih-enter-password").attr("data-show-modal","notification-panel").show()),i.length&&n.success){var s=(new Date).toDateString();i.sort(function(e,t){return new Date(t.date).getTime()-new Date(e.date).getTime()}).forEach(function(e,i){t.append('\n              <div class="notification-panel__group notification-panel__group-'+i+'">\n                 <div class="notification-panel__date-splitter">\n                    <div class="notification-panel__date-splitter_text">\n                        '+(s===e.date?""+SIHLang.notifications.today:e.date.slice(4,10))+"\n                    </div>\n                  </div>\n              </div>\n       "),e.items.sort(function(e,t){return t.createdAt-e.createdAt}).forEach(function(e){var n=new Date(e.createdAt).getHours(),a=new Date(e.createdAt).getMinutes(),s=p.SihAppGlobal.getLogTemplateByGroup(e.data),r='\n          <div class="notification-panel__item '+(e.isRead?"":"new")+'" data-filter="'+(e.data.success?"success":"error")+'">\n              <div class="row items-center gap-14">\n                  <div class="row w-6 h-6 rounded-50per '+(e.data.success?"bg-green":"bg-red")+'"></div>\n                  <div class="text text_grey">'+(n<10?"0"+n:n)+":"+(a<10?"0"+a:a)+"</div>\n              </div>\n\n              "+s+"\n          </div>\n      ";t.find(".notification-panel__group-"+i).append(r)})}),e()}else{var r='\n                                  <div class="column w-100per h-100per items-center justify-center">\n                                    <div class="notification-panel__plug text">'+SIHLang.notifications.no_notifications+"</div>\n                                    "+(Array.isArray(i)?"":'\n                                            <div class="row items-center gap-5">\n                                                <span class="text">'+SIHLang.notifications.missing_notifications+'</span>\n                                                <a id="upload-notification-logs" class="text text_blue hover-opacity-8" href="javascript:void(0)">'+SIHLang.notifications.download+"</a>\n                                            </div>\n                                        ")+"\n\n                                  </div>\n                                ";t.append(r),e()}})});else{var n='\n                                  <div class="column w-100per h-100per items-center justify-center">\n                                    <div class="notification-panel__plug text">'+SIHLang.notifications.no_notifications+"</div>\n                                  </div>\n                                ";t.append(n),e()}})})}function d(){var e=$J("#sih-notification-panel"),t=e.find(".notification-panel__header").find(".filter"),i=t.find(".filter__item.success").find(".filter__count"),n=t.find(".filter__item.error").find(".filter__count"),a=e.find(".notification-panel__content"),s=a.find(".notification-panel__item"),r=0,o=0;s.each(function(e,t){switch($J(t).data("filter")){case"success":r+=1;break;case"error":o+=1}}),i.text(r),n.text(o)}function c(){var e=$J("#sih-notification-panel"),t=e.find(".filter"),i=t.find(".filter__label"),n=[];i.each(function(e,t){$J(t).find(".filter__input").change(function(){i.each(function(e,t){var i=$J(t).find(".filter__input"),a=i.data("filter");if(i.is(":checked"))n.length&&n.includes(a)||n.push(a);else{var s=n.findIndex(function(e){return e===a});-1!==s&&n.splice(s,1)}}),n.length||i.find(".filter__input").prop("checked",!0),_(n)})})}function _(e){$J("#sih-notification-panel").find(".notification-panel__content").find(".notification-panel__group").each(function(t,i){var n=$J(i),a=n.find(".notification-panel__item"),s=0;a.each(function(t,i){var n=$J(i),a=n.data("filter");e.length&&!e.includes(a)?n.hide():(s++,n.css("display","grid"))}),s?n.css("display","grid"):n.hide()})}function m(){var e=$J("#sih-notification-panel"),t=$J(".notification-panel__title"),n=t.find(".notification-panel__read");p.SihAppGlobal.getLogs().then(function(a){if(a&&a.length){if(i.i(f.c)(a).isAllRead)n.length&&n.hide();else{if(n.length)n.css("display","flex").hide().fadeIn();else{var s='\n          <a href="javascript:void(0)" class="notification-panel__read text text_blue fs-12 hover-opacity-8">'+SIHLang.notifications.mark_read+"</a>\n        ";t.append(s)}e.find(".notification-panel__read").off("click").click(function(){var t=$J(this);p.SihAppGlobal.readAllNotification().then(function(n){n&&n.length&&(i.i(f.b)(),t.hide(),e.find(".notification-panel__item").removeClass("new"))})})}}else n.length&&n.hide()})}function u(){$J("#upload-notification-logs").off("click").click(function(){clearTimeout(b),b=setTimeout(function(){p.SihAppGlobal.getUserOrdersHistory(!1).then(function(){l().then(function(){i.i(f.b)(),d(),c(),m(),u()})})},300)})}t.a=n;var h=i(73),p=(i.n(h),i(0)),f=i(34),g=i(9),b=null},function(e,t,i){"use strict";function n(){o(),a()}function a(){s()}function s(){$J("#account_dropdown").find(".popup_menu_item").each(function(e,t){$J(t).off("click").click(function(){"javascript:Logout();"===$J(this).attr("href")&&chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_ON_LOGOUT_STEAM_USER"})})})}t.a=n;var r=i(80),o=(i.n(r),function(){var e=$J("#account_dropdown").children(".popup_menu"),t=$J('<a class="sih-orders-history" href="javascript:void(0)">'+SIHLang.sihAppMarket.orders.my_sih_orders+"</a>");t.click(function(){$J("#sih-header-orders").trigger("click"),$J("#orders-history").trigger("click")}),e.find(".popup_menu_item").each(function(e,i){var n=$J(i);0===e&&n.after(t)})})},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(104),a=(i.n(n),function(e){return new Promise(function(t){r(e),o().then(function(e){t(e)})})}),s=function(){var e=$J("#sih-cancel-listing");e.fadeOut(300,function(){e.remove()})},r=function(e){var t=e.hashName,i=e.href,n=e.buy_orderid,a=$J("body"),s=$J('\n     <div id="sih-cancel-listing" class="sih-cancel-listing">\n        <div class="sih-cancel-listing__fade"></div>\n        <div class="sih-global sih-modal sih-cancel-listing__modal">\n          <div class="sih-modal__close"></div>\n          <div class="sih-cancel-listing__inner sih-modal__inner">\n                <div class="sih-cancel-listing__title">'+SIHLang.market.custom_remove_modal.title+'</div>\n                <div class="sih-cancel-listing__content">\n\n                    <div class="sih-cancel-listing__text">\n                        '+SIHLang.market.custom_remove_modal.buy_orders_text_1+' <a href="'+i+'" target="_blank" class="text text_white bold">('+t+')</a>\n                     </div>\n\n                     <div class="sih-cancel-listing__buttons">\n                        <a href="javascript:void(0)" class="sih-cancel-listing__remove" data-order-id="'+n+'">'+SIHLang.market.custom_remove_modal.confirm+'</a>\n                        <a href="javascript:void(0)" class="sih-cancel-listing__cancel">'+SIHLang.market.custom_remove_modal.cancel+"</a>\n                     </div>\n                </div>\n\n          </div>\n        </div>\n     </div>\n  ");a.find("#sih-cancel-listing").length||(a.append(s),$J("#sih-cancel-listing").find(".sih-cancel-listing__modal").fadeIn(300))},o=function(){return new Promise(function(e){l().then(function(){e()}),d().then(function(t){e(t)})})},l=function(){var e=$J("#sih-cancel-listing"),t=e.find(".sih-modal__close"),i=e.find(".sih-cancel-listing__fade"),n=e.find(".sih-cancel-listing__cancel");return new Promise(function(e){t.off("click").click(function(){s(),e()}),i.off("click").click(function(){s(),e()}),n.off("click").click(function(){s(),e()})})},d=function(){var e=$J("#sih-cancel-listing"),t=e.find(".sih-cancel-listing__remove"),i=null;return new Promise(function(e){t.off("click").click(function(t){clearTimeout(i),i=setTimeout(function(){var i=$J(t.target).attr("data-order-id");$J.post("//steamcommunity.com/market/cancelbuyorder/",{sessionid:g_sessionID,buy_orderid:i}).then(function(t){s(),e(t)}).fail(function(t){s(),e(t)})},300)})})}},,,function(e,t,i){"use strict";i.d(t,"b",function(){return l}),i.d(t,"a",function(){return d});var n=i(158),a=(i.n(n),i(38)),s=i(37),r=i(32),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=function(){c(),f(),_(),u()},d=function(){$J("#sih-market-listing .sih-market-listing__header .market_listing_right_cell").each(function(e,t){var i=$J(t);"name"===i.attr("data-option")&&i.find(".market_sort_arrow").hide()})},c=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div class="sih-market-listing__header market_listing_table_header">\n      <div class="market_listing_right_cell pointer-events-none" data-option="name">'+SIHLang.sihAppMarket.topSales.name+'</div>\n      <div class="market_listing_right_cell" data-option="salesWeek">'+SIHLang.sihAppMarket.topSales.sales_week+'</div>\n      <div class="market_listing_right_cell" data-option="steam-price">Steam</div>\n      <div class="market_listing_right_cell" data-option="sih-price">'+SIHLang.sihAppMarket.topSales.sih_price+'</div>\n      <div class="market_listing_right_cell active" data-option="sih-profit" title="'+SIHLang.sihAppMarket.topSales.profit+'">\n        <span class="sih-profit active" data-option="profitPercent">%</span>\n        <span>/</span>\n        <span class="sih-profit" data-option="profit">$</span>\n      </div>\n    </div>\n  ');g_ActiveInventory||t.find(".sih-market-listing__header").before('<span class="sih-market-listing__title text text_white text-uppercase mb-20">'+SIHLang.sihAppMarket.topSales.title+"</span>"),e.find(".sih-market-listing__header").length||e.append(t)},_=function(){m()},m=function(){var e=$J("#sih-market-listing"),t=e.find(".sih-market-listing__header"),n=t.find(".market_listing_right_cell"),a=null;n.each(function(e,t){var n=$J(t);n.find(".market_sort_arrow").length||n.append('<span class="market_sort_arrow"></span>'),n.off("click").click(function(){i.i(r.a)(!1),clearTimeout(a),a=setTimeout(function(){h(n)},600)})})},u=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell.active[data-option="sih-profit"]').find(".market_sort_arrow").show().text("▼")},h=function(e){var t=e.attr("data-option");if(t){var n=e.closest(".sih-market-listing__header"),r=n.closest(".sih-market-listing").find(".sih-market-listing__content"),l=r.find(".sih-market-listing__item");n.find(".market_sort_arrow").hide(),e.hasClass("active")?e.find(".sih-profit:not(.active)").addClass("active").siblings().removeClass("active"):e.find('.sih-profit[data-option="profitPercent"]').addClass("active"),e.addClass("active").siblings().removeClass("active"),"sih-profit"!==t&&n.find(".sih-profit").removeClass("active");var d=1;if(e.find(".market_sort_arrow").is(':contains("▲")')||"sih-profit"===t?(d=-1,e.find(".market_sort_arrow").text("▼")):e.find(".market_sort_arrow").text("▲"),e.find(".market_sort_arrow").show(),"name"!==t){"sih-profit"===t&&(t=e.find(".sih-profit.active").attr("data-option"));var c=i.i(a.a)(t,d),_=o({page:1,limit:100},c),m=i.i(s.b)();return _=o({},_,m),void i.i(a.d)(_)}l.sort(function(e,i){var n=p(e,i,t),a=n.aValue,s=n.bValue;return a>s?d:a<s?-1*d:0}),l.detach().appendTo(r)}},p=function(e,t,i){var n=void 0,a=void 0;switch(i){case"name":n=$J(e).find(".sih-market-listing__name").text(),a=$J(t).find(".sih-market-listing__name").text()}return{aValue:n,bValue:a}},f=function(){$J(".sih-market-listing__header").find('.market_listing_right_cell[data-option="sih-profit"]').tooltip({position:{my:"left-50% bottom",at:"left+50% top"}})}},function(e,t,i){"use strict";i.d(t,"b",function(){return m}),i.d(t,"a",function(){return u});var n=i(160),a=(i.n(n),i(32)),s=i(94),r=i(14),o=i(37),l=i(0),d=i(38),c=i(139),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=function(){h()},u=function e(t,n){function m(s){var r=$J(s.currentTarget),c=r.attr("data-num").trim();if(c&&(g.text(c*k-(k-1)),b.text(c*k),c*k>n.perPage*n.page)){var m=n.page,u=(Math.ceil(c*k/n.perPage),[]),h=m+1,p={page:h,limit:100},v=i.i(o.b)();p=_({},p,v),u.push(l.SihAppGlobal.getTopSales(p)),i.i(a.a)(!1),Promise.all(u).then(function(s){var r=[],o=void 0,l=!1;s.forEach(function(e,i){var a=e.data,s=e.pagination;r.length||(r=[].concat(t.map(function(e){return e}))),a.forEach(function(e){r.length&&(r=[].concat(r,e))}),a.length?o=s:(o=n,l=!0)}),e(r,o,c),f.pagination(c),i.i(a.a)(),l&&i.i(d.c)()})}}var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,h=$J("#sih-market-listing"),p=h.find(".sih-market-listing__content"),f=$J("#sih-listing-pagination-container"),g=f.find(".sih-listing-pagination__start-count-items"),b=f.find(".sih-listing-pagination__end-count-items"),v=f.find(".sih-listing-pagination__total"),k=10;t.length<=n.total&&(t.length=n.total),v.text(n.total),g.text(u*k-(k-1)),b.text(u*k),f.pagination({dataSource:t,pageSize:k,afterNextOnClick:function(e){m(e)},afterPageOnClick:function(e){m(e)},callback:function(e){var t=i.i(d.b)(e);p.html(t),i.i(a.b)(),i.i(c.a)(),i.i(s.a)(),i.i(r.b)(e).then(function(e){i.i(a.a)(),setTimeout(function(){$J(".sih-market-listing__item .preloader").fadeOut()},500)})}})},h=function(){var e=$J("#sih-market-listing"),t=$J('\n    <div id="sih-listing-pagination-container" class="sih-global sih-listing-pagination">\n      <div class="row gap-5">\n         <span>'+SIHLang.sihAppMarket.topSales.pagination.showing+'</span>\n         <span class="sih-listing-pagination__start-count-items">1</span>\n         <span>-</span>\n         <span class="sih-listing-pagination__end-count-items">1</span>\n         <span>'+SIHLang.sihAppMarket.topSales.pagination.of+'</span>\n         <span class="sih-listing-pagination__total">-</span>\n         <span>'+SIHLang.sihAppMarket.topSales.pagination.results+"</span>\n      </div>\n    </div>\n  ");$J("#sih-listing-pagination-container").length||e.after(t)}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(105),a=(i.n(n),i(11)),s=function(e){o(e),l(e)},r=function(){var e=$J("#sih-remove-listing"),t=$J(".sih-toolbar"),i=t.attr("data-table-id"),n=$J('.my_listing_section[data-table-id="'+i+'"] .market_listing_row[id^="'+("sell_listings"===i?"mylisting":"mybuyorder")+'"]').find(".select-checkbox:visible:checked").length;e.fadeOut(300,function(){e.remove()}),t.hasClass("animate-down")&&n&&t.removeClass("animate-down")},o=function(e){var t=e.attr("data-table-id"),i=e.find(".market_listing_row").find(".select-checkbox:checked"),n=i.closest(".market_listing_row"),a=$J("body"),s=$J('\n     <div id="sih-remove-listing" class="sih-remove-listing">\n        <div class="sih-remove-listing__fade"></div>\n        <div class="sih-global sih-modal sih-remove-listing__modal">\n          <div class="sih-modal__close"></div>\n          <div class="sih-remove-listing__inner sih-modal__inner">\n                <div class="sih-remove-listing__title">'+SIHLang.market.custom_remove_modal.title+'</div>\n                <div class="sih-remove-listing__content">\n\n                    <div class="sih-remove-listing__text">\n                        '+SIHLang.market.custom_remove_modal[t+"_text_1"]+' <span class="text text_white bold">('+n.length+")</span> "+("sell_listings"===t?SIHLang.market.custom_remove_modal[t+"_text_2"]:"")+'\n                     </div>\n\n                     <div class="sih-remove-listing__buttons">\n                        <a href="javascript:void(0)" class="sih-remove-listing__remove">'+SIHLang.market.custom_remove_modal.confirm+'</a>\n                        <a href="javascript:void(0)" class="sih-remove-listing__cancel">'+SIHLang.market.custom_remove_modal.cancel+"</a>\n                     </div>\n                </div>\n\n          </div>\n        </div>\n     </div>\n  ");a.find("#sih-remove-listing").length||(a.append(s),$J("#sih-remove-listing").find(".sih-remove-listing__modal").fadeIn(300))},l=function(e){d(),c(e)},d=function(){var e=$J("#sih-remove-listing"),t=e.find(".sih-modal__close"),i=e.find(".sih-remove-listing__fade"),n=e.find(".sih-remove-listing__cancel");t.off("click").click(function(){r()}),i.off("click").click(function(){r()}),n.off("click").click(function(){r()})},c=function(e){$J("#sih-remove-listing").find(".sih-remove-listing__remove").off("click").click(function(){i.i(a.b)(e),r()})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(108),a=(i.n(n),i(15)),s=i(11),r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o(e),l(e),d()},o=function(e){(e?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_table_header .market_listing_edit_buttons").each(function(e,t){var n=$J(t),r=$J('\n        <input type="checkbox" id="select-all-'+e+'" class="select-checkbox" />\n    ');0===n.find(".select-checkbox").length&&n.append(r),r.click(function(){var e=$J(this).prop("checked"),t=$J(this).closest(".market_home_listing_table"),n=t.attr("data-table-id"),r=t.find('.market_listing_row[id^="'+("sell_listings"===n?"mylisting":"mybuyorder")+'"]:not(.stack)');r.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",e),"sell_listings"===n||"buy_orders"===n?(r.find(".sih-resubmit").each(function(t,i){var n=$J(i);n.length&&!n.hasClass("without-price")&&n.toggleClass("disabled",e)}),i.i(a.a)(n)):t.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",e),i.i(s.a)(t)})})},l=function(e){(e?$J("#tabContentsMyActiveMarketListingsTable"):$J("#tabContentsMyListings .market_home_listing_table")).find(".market_listing_edit_buttons .market_listing_cancel_button").each(function(e,t){var i=$J(t);if(0===i.find(".select-checkbox").length){var n=$J('\n            <input type="checkbox" id="select-row-'+e+'" class="select-checkbox" />\n      ');i.append(n)}})},d=function(){c()},c=function(){$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").off("click").click(function(t){var n=$J(this),r=n.closest(".my_listing_section"),o=n.closest(".market_listing_row"),l=r.attr("data-table-id"),d=o.find(".sih-resubmit");d.length&&!d.hasClass("without-price")&&d.toggleClass("disabled"),t.shiftKey&&e(l),i.i(s.a)(r),i.i(a.a)(l)});var e=function(e){var t=$J(".market_listing_row").find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox"),i=!1;t.each(function(t,n){var a=$J(n),s=a.closest(".market_listing_row");if(s.closest(".my_listing_section").attr("data-table-id")===e&&(a.is(":checked")&&(i=!i),!s.hasClass("stack")&&!a.is(":checked")&&i)){a.prop("checked",!0);var r=a.closest(".market_listing_row"),o=r.find(".sih-resubmit");o.length&&!o.hasClass("without-price")&&o.toggleClass("disabled")}})}}},function(e,t,i){"use strict";function n(){}t.a=n},function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"b",function(){return l});var n=i(115),a=(i.n(n),i(3)),s=i(8),r=null,o=function(e){d(e),c(),l(e)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=$J(".sih-progress-panel"),n=i.find(".sih-progress-panel__info-text"),a=i.find(".sih-progress-panel__buttons"),o=i.find(".sih-progress-panel__success-sell-count"),l=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),d=i.find(".sih-progress-panel__switcher-reload"),c=l?l.length:0;clearInterval(r),r=setInterval(function(){var i="sell_listings"===e?"BACKGROUND_GET_COMPLETED_SELL_MARKET_ITEMS":"BACKGROUND_GET_COMPLETED_BUY_ORDERS_MARKET_ITEMS";chrome.runtime.sendMessage(SIHID,{type:i},function(e){var i=e.COMPLETED_MARKET_ITEMS,l=i.filter(function(e){return e.isRemove&&e.isSell}),m=i.filter(function(e){return!e.isRemove||!e.isSell});if(o.text(l.length),_(l.length,c),t){clearInterval(r);var u=s.a.get();m.length?(d.hide(),n.text(m.length+" "+SIHLang.market.resubmit_orders.progress_panel.not_relisted_items)):(n.hide(),u.isAutoReloadOff&&setTimeout(function(){window.location.reload()},3e3)),a.css("display","flex")}})},1e3)},d=function(e){var t=$J("body"),n=$J('.my_listing_section[data-table-id="'+e+'"] .market_listing_row.stack[id^="'+("sell_listings"===e?"mylisting":"mybuyorder")+'"]'),r=n?n.length:0,o=s.a.get(),l=$J('\n    <div class="sih-progress-panel animate-down sih-global progress">\n        <div class="sih-progress-panel__inner">\n\n                <div class="sih-progress-panel__left-side row gap-5">\n                   <span class="text text_white">'+SIHLang.market.resubmit_orders.progress_panel.title+'</span>\n                   <div class="row">\n                      <span class="sih-progress-panel__success-sell-count text text_white">0</span>\n                      <span class="text text_white">/</span>\n                      <span class="text text_white">'+r+'</span>\n                   </div>\n\n                </div>\n\n                <div class="sih-progress-panel__right-side row items-center gap-20">\n                    <span class="sih-progress-panel__info-text text text_light-grey">'+SIHLang.market.resubmit_orders.progress_panel.dont_refresh+'</span>\n                    <div class="sih-progress-panel__buttons">\n                        <a href="javascript:window.location.reload()" class="text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.progress_panel.reload+'</a>\n                        <a href="javascript:void(0)" class="sih-progress-panel__switcher-reload text text_blue hover-opacity-8">'+(o.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically)+'</a>\n                    </div>\n                </div>\n\n                <div class="sih-progress-panel__progress-bar"></div>\n        </div>\n\n    </div>\n  '),d=t.find(".sih-progress-panel");!d.length&&r>0?(t.append(l),setTimeout(function(){t.find(".sih-progress-panel").removeClass("animate-down"),i.i(a.l)(),i.i(a.h)()},100)):r>0?(d.find(".sih-progress-panel__stack-count").text(r),d.removeClass("animate-down"),i.i(a.h)()):(d.addClass("animate-down"),i.i(a.h)())},c=function(){m()},_=function(e,t){var i=0,n=$J(".sih-progress-panel"),a=n.find(".sih-progress-panel__progress-bar"),s=+n.css("width").replace(/px/g,"").trim();i+=s/t*e,s!==i?(n.hasClass("progress")||n.addClass("progress"),a.width(Math.ceil(i)),a.is(":visible")||a.css("display","flex").hide().fadeIn()):a.width(Math.ceil(i)).fadeOut(1100,function(){a.width(0),n.removeClass("progress")})},m=function(){$J(".sih-progress-panel").find(".sih-progress-panel__switcher-reload").off("click").click(function(e){var t=$J(e.target),i=s.a.get();i.isAutoReloadOff=!i.isAutoReloadOff,s.a.set(i),t.text(i.isAutoReloadOff?SIHLang.market.buy_order_controls.reload_automatically:SIHLang.market.buy_order_controls.not_reload_automatically)})}},function(e,t,i){"use strict";i.d(t,"b",function(){return o}),i.d(t,"a",function(){return l});var n=i(117),a=(i.n(n),i(26)),s=i(42),r=i(25),o=function(){d(),c()},l=function(){var e=$J("body"),t=$J(".sih-toolbar"),i=e.find(".sih-selected-listing"),n=i.find(".sih-selected-listing__content"),a=t.find(".sih-toolbar__toggle-selected-listing");i.is(":visible")&&(i.fadeOut(300),n.toggleClass("animate-down"),a.text(""+SIHLang.market.resubmit_orders.toolbar.show_list),n.children().remove())},d=function(){var e=$J("body"),t=$J(".sih-toolbar"),n=$J("#sih-resubmit-orders"),r=e.find(".sih-selected-listing"),o=r.find(".sih-selected-listing__content"),l=t.find(".sih-toolbar__toggle-selected-listing"),d=t.attr("data-table-id"),c=$J('.my_listing_section[data-table-id="'+d+'"] .market_listing_row[id^="'+("sell_listings"===d?"mylisting":"mybuyorder")+'"]').find(".select-checkbox:checked").closest(".market_listing_row").clone();c=h(c),o.prepend('<div class="sih-selected-listing__close"></div>'),o.append(c),r.is(":visible")?r.fadeOut(300):(n.is(":visible")&&(i.i(a.b)(),i.i(s.a)()),r.fadeIn(300)),o.toggleClass("animate-down"),o.hasClass("animate-down")?(l.text(""+SIHLang.market.resubmit_orders.toolbar.show_list),o.children().remove()):l.text(""+SIHLang.market.resubmit_orders.toolbar.hide_list)},c=function(){_(),m(),u()},_=function(){var e=$J("body").find(".sih-selected-listing");e.find(".sih-selected-listing__fade").off("click").click(function(){l()}),e.find(".sih-selected-listing__close").off("click").click(function(){l()})},m=function(){var e=$J(".sih-toolbar"),t=$J("body").find(".sih-selected-listing");t.find(".market_listing_row").each(function(i,n){$J(n).find(".select-checkbox").off("click").click(function(){var i=e.attr("data-table-id"),n=$J(this).attr("id"),a=$J('.my_listing_section[data-table-id="'+i+'"] .market_listing_row[id^="'+("sell_listings"===i?"mylisting":"mybuyorder")+'"]').find("#"+n);a.length&&(a.trigger("click"),t.find(".market_listing_row .select-checkbox:checked").length||l())})})},u=function(){var e=$J("body").find(".sih-selected-listing"),t=$J(".sih-toolbar"),n=t.attr("data-table-id");e.find(".market_listing_row").each(function(e,t){$J(t).find(".sih-market-alert").off("click").click(function(){i.i(r.a)(n)})})},h=function(e){var t=$J(".sih-toolbar"),i=t.attr("data-table-id");return e.find(".market_listing_right_cell.market_listing_edit_buttons.placeholder").remove(),e.each(function(e,t){var n=$J(t);n.find(".sih-listing__color-cell").remove(),n.find("div").each(function(e,t){"clear: both"===$J(t).attr("style")&&$J(t).remove()}),n.prepend('<div class="sih-listing__item-info row items-center"></div>');var a=n.find(".sih-listing__item-info");n.find(".market_listing_item_img").prependTo(a),n.find(".market_listing_item_name_block").appendTo(a),n.find(".sih-listing__item-info").after('<div class="sih-listing__price-info row items-center justify-center"></div>');var s=n.find(".sih-listing__price-info");if(n.find(".market_listing_right_cell.market_listing_listed_date.can_combine").appendTo(s),n.find(".market_listing_minimum").length)n.find(".market_listing_minimum").appendTo(s);else if("sell_listings"===i){s.prepend('<div class="row items-center justify-center market_listing_right_cell market_listing_minimum"></div>')}n.find(".market_listing_right_cell.market_listing_my_price").appendTo(s)}),e}},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(194),a=(i.n(n),i(0)),s=null,r=function(){l(),d()},o=function(){var e=$J("#sih-inventory-market-listing"),t=$J("#sih-filter-category");a.SihAppGlobal.getLoginSihAppUser().then(function(i){if(i.success&&!i.tfaNeed){var n=i.user.balance/1e3;Math.floor(1e3*n)/1e3!==+e.find('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val()&&t.find('.sih-filter-category__item[data-name="balance"]').removeClass("active")}})},l=function(){var e=$J("#sih-inventory-market-listing"),t=$J('\n    <div id="sih-filter-category" class="sih-filter-category">\n        <a href="javascript:void(0)" class="sih-filter-category__item active" data-name="all">'+SIHLang.sihAppMarket.filter_category.all+'</a>\n        <a href="javascript:void(0)" class="sih-filter-category__item" data-name="balance">'+SIHLang.sihAppMarket.filter_category.balance+"</a>\n    </div>\n  ");e.find(".sih-filter-category").length||$J(".sih-market-header").after(t)},d=function(){c()},c=function(){$J("#sih-filter-category").find(".sih-filter-category__item").each(function(e,t){var i=$J(t);i.off("click").click(function(){clearTimeout(s),s=setTimeout(function(){switch(i.addClass("active").siblings().removeClass("active"),i.attr("data-name")){case"balance":a.SihAppGlobal.getLoginSihAppUser().then(function(e){if(e.success&&!e.tfaNeed){var t=e.user.balance/1e3,i=$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="minPrice"]');i.val()>t&&i.val(""),$J(".sih-market-store-filter .sih-market-store-filter__input").val(""),$J('.sih-market-store-filter .sih-market-store-filter__input[data-key="maxPrice"]').val(t).trigger("change").trigger("focusout")}});break;default:$J(".sih-market-store-filter__reset:visible").trigger("click")}},200)})})}},,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(191),a=(i.n(n),function(){window.AdvancedSearchDialog={m_bInitialized:!1,m_fnDocumentKeyHandler:null,m_modal:null,Initialize:function(){},Show:function(){this.m_bInitialized||this.Initialize(),this.m_fnDocumentKeyHandler=this.OnDocumentKeyPress.bindAsEventListener(this),$(document).observe("keydown",this.m_fnDocumentKeyHandler);var e=this;this.m_modal=ShowDialog("Search Community Market",$J("#market_advancedsearch_dialog").show()),this.m_modal.SetRemoveContentOnDismissal(!1),this.m_modal.always(function(){e.Dismiss()}),$("market_advancedsearch_dialog").focus(),this.refactoredHeader()},Dismiss:function(){$(document).stopObserving("keydown",this.m_fnDocumentKeyHandler),this.m_modal&&(this.m_modal.Dismiss(),this.m_modal=null)},SelectApp:function(e){this.SelectAppElement($J("#app_option_"+e))},SelectAppElement:function(e){var t=e.clone();$J("#market_advancedsearch_appselect_activeapp").empty(),t.attr("id",t.attr("id")+"_selected"),$J("#market_advancedsearch_appselect_activeapp").append(t),$J("#market_advanced_search_app").remove();var i=$J('<input type="hidden" id="market_advanced_search_app" name="appid" value="'+e.data("appid")+'"/>');$J("#market_advanced_search").append(i)},OnCancel:function(e){this.Dismiss(),e.stop()},OnDocumentKeyPress:function(e){e.keyCode==Event.KEY_ESC&&(this.Dismiss(),e.stop())},refactoredHeader:function(){var e=$J(".newmodal_header:visible"),t=$J('\n        <div class="sih-global sih-market-search">\n            <div class="sih-market-search__header row gap-25">\n                <div class="sih-market-search__header_left">\n                    <div class="sih-market-search__powered"></div>\n                </div>\n\n                <div class="sih-market-search__header_right">\n                    <div class="row gap-16">\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="730" title="CS 2">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/730/8dbc71957312bbd3baea65848b545be9eae2a355.jpg" alt="CS 2">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="570" title="Dota 2">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/570/0bbb630d63262dd66d2fdd0f7d37e8661a410075.jpg" alt="Dota 2">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="252490" title="Rust">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/252490/820be4782639f9c4b64fa3ca7e6c26a95ae4fd1c.jpg" alt="Rust">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="440" title="Team Fortress 2">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/440/e3f595a92552da3d664ad00277fad2107345f743.jpg" alt="TF 2">\n                    </a>\n\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="753" title="Steam">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/753/1d0167575d746dadea7706685c0f3c01c8aeb6d8.jpg" alt="Steam">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="866510" title="!Anyway!">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/866510/7cf8f282dabdd1f7f33a02653f877551632e6ecd.jpg" alt="!Anyway!">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="322330" title="Don\'t Starve Together">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/322330/a80aa6cff8eebc1cbc18c367d9ab063e1553b0ee.jpg" alt="Don\'t Starve Together">\n                    </a>\n                     <a href="javascript:void(0)" class="sih-market-search__item" data-appid="304930" title="Unturned">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/304930/e18009fb628b35953826efe47dc3be556b689f4c.jpg" alt="Unturned">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="218620" title="PAYDAY 2">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/218620/a6abc0d0c1e79c0b5b0f5c8ab81ce9076a542414.jpg" alt="PAYDAY 2">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="232090" title="Killing Floor 2">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/232090/15837cefb378766e9916548f8591b6eb490b9e52.jpg" alt="Killing Floor 2">\n                    </a>\n                    <a href="javascript:void(0)" class="sih-market-search__item" data-appid="578080" title="PUBG: BATTLEGROUNDS">\n                        <img src="https://cdn.akamai.steamstatic.com/steamcommunity/public/images/apps/578080/609f27278aa70697c13bf99f32c5a0248c381f9d.jpg" alt="PUBG: BATTLEGROUNDS">\n                    </a>\n                </div>\n            </div>\n\n            </div>\n        </div>\n    ');if(!e.find(".sih-market-search").length){e.append(t);e.find(".title_text").prependTo(".sih-market-search__header_left"),e.find(".sih-market-search__item").tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"})}t.find(".sih-market-search__item").click(function(){var e=$J(this).data("appid");$J(".popup_item.popup_menu_item.market_advancedsearch_appname").each(function(t,i){var n=$J(i);e===n.data("appid")&&n.trigger("click")})})}}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(135);i.d(t,"RefactorAdvancedSearchDialog",function(){return n.a})},,,function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(156),a=(i.n(n),i(0)),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){o(),l()},o=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item").each(function(e,t){var i=$J(t),n=i.find(".sih-market-listing__name").text(),a="730/"+encodeURIComponent(n),s=$J('\n        <div class="text text_light-blue fs-12 hover-opacity-8 sih-market-listing__'+(bookmarkeditems[a]?"remove-bookmark":"add-bookmark")+'">'+(bookmarkeditems[a]?""+SIHLang.sihAppMarket.global.remove_bookmark:""+SIHLang.sihAppMarket.global.add_bookmark)+"</div>");i.find(".sih-market-listing__add-bookmark").length||i.find(".sih-market-listing__game-name").after(s)})},l=function(){d(),c()},d=function(){function e(){var e,t=s({},bookmarkscategories,(e={},e[n]="SIHMarket",e));a.chromeStorage.setSync("bookmarkscategories",t),window.bookmarkscategories=s({},t)}var t=$J("#sih-market-listing").find(".sih-market-listing__content"),i=t.find(".sih-market-listing__item .sih-market-listing__add-bookmark"),n=(new Date).getTime();i.each(function(t,i){var r=$J(i);r.off("click").click(function(t){var i;if(t.preventDefault(),t.stopPropagation(),Object.keys(bookmarkscategories).length){var o=!0;Object.entries(bookmarkscategories).forEach(function(e){var t=e[0],i=e[1];"SIHMarket"===i&&(n=t),o="SIHMarket"===i}),o||e()}else e();var l=$J(this).closest(".sih-market-listing__item"),d=l.find(".sih-market-listing__name").text(),_="730/"+encodeURIComponent(d),m=+l.find(".sih-market-listing__sih-price").attr("data-price"),u=a.Currency.getPriceFromCurrency(m,currencyId,1),h=l.find(".market_listing_item_img").attr("src"),p=l.find(".market_listing_item_img").css("border-color"),f=l.attr("href"),g={marketHashName:d,hashmarket:_,name:d,appid:"730",img:h,color:p,gamename:"Counter-Strike 2",url:f,price:u,cat:n},b=(i={},i[_]=g,i);chrome.runtime.sendMessage(SIHID,{type:"UpdateBookmarks",data:b},function(e){a.chromeStorage.getLocal("bookmarks").then(function(e){window.bookmarkeditems=s({},e)})}),r.removeClass("sih-market-listing__add-bookmark").addClass("sih-market-listing__remove-bookmark").text(""+SIHLang.sihAppMarket.global.remove_bookmark),c()})})},c=function(){$J("#sih-market-listing").find(".sih-market-listing__content").find(".sih-market-listing__item .sih-market-listing__remove-bookmark").each(function(e,t){var i=$J(t);i.off("click").click(function(e){e.preventDefault(),e.stopPropagation();var t=$J(this).closest(".sih-market-listing__item"),n=t.find(".sih-market-listing__name").text(),r="730/"+encodeURIComponent(n);chrome.runtime.sendMessage(SIHID,{type:"RemoveBookmark",data:{hashmarket:r}},function(e){a.chromeStorage.getLocal("bookmarks").then(function(e){window.bookmarkeditems=s({},e)})}),i.removeClass("sih-market-listing__remove-bookmark").addClass("sih-market-listing__add-bookmark").text(""+SIHLang.sihAppMarket.global.add_bookmark),d()})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(159),a=(i.n(n),i(94)),s=i(32),r=i(95),o=i(38),l=function(e){d(e),i.i(a.b)(),i.i(o.d)(),i.i(s.c)(),i.i(r.b)()},d=function(e){var t=e||$J("#sellListings"),i=$J('\n  <div id="sih-market-listing" class="sih-global sih-market-listing">\n  </div>\n\x3c!--  <div id="sih-market-listing-loader">--\x3e\n\x3c!--    <img src="https://community.cloudflare.steamstatic.com/public/images/login/throbber.gif" alt="Working...">--\x3e\n\x3c!--  </div>--\x3e\n\n');t.find("#sih-market-listing").length||t.append(i)}},,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t){},,,,,,,,,,function(e,t,i){"use strict";function n(){$J("#tabContentsMyActiveMarketListingsTable .my_market_header").data("hidden")?($J("#tabContentsMyListings .market_paging").hide(),$J("#tabContentsMyListings .market_pagesize_options").hide()):($J("#tabContentsMyListings .market_paging").show(),$J("#tabContentsMyListings .market_pagesize_options").show())}i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var a=i(277),s=(i.n(a),i(0)),r=function(){$J("#tabContentsMyListings .market_home_listing_table").each(function(){var e=$J(this),t=getListingSectionType(e),i=$J.parseJSON(GetCookie(t)||"false"),a=e.find(".my_market_header");a.data("hidden",i),a.attr("id",t),a.off("click").click(function(){var i=$J.parseJSON(a.data("hidden"));i?(e.children("div").show(),e.find(".arrow_icon").addClass("up")):(e.find(".arrow_icon").removeClass("up"),e.children("div").hide()),SetCookie(t,!i,7,"/market"),a.data("hidden",!i),n()}),e.addClass("market_listing_table"),i&&e.children("div").hide()}),n()},o=function(){$J("#tabContentsMyListings .market_home_listing_table").each(function(){var e=$J(this),t=getListingSectionType(e),n=$J.parseJSON(GetCookie(t)||"false"),a=e.find(".my_market_header_count"),r=a.find("span").first(),o=$J('<span class="arrow_icon '+(n?"":"up")+'"></span>'),l=e.find(".sih-total-sell__selling").data("price")?e.find(".sih-total-sell__selling").data("price"):e.find(".sih-market-total__seller").data("price"),d=e.find(".sih-total-sell__receive").data("price"),c=i.i(s.formatNumberToLocalRu)(l,currencyId,currencyId),_=d?" ("+i.i(s.formatNumberToLocalRu)(d,currencyId,currencyId)+")":"";a.empty().append(r),l&&a.append(" - <span>"+c+_+"</span>"),a.append(o)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(278),a=(i.n(n),i(15)),s=i(11),r=function(e){$J("#tabContentsMyListings .market_home_listing_table").each(function(){var t=$J(this),n=getListingSectionType(t);if(n){var r=$J('<a href="javascript:void(0)" class="sih-select-overprices">'+SIHLang.market.selectoverpriced+"</a>");r.click(function(){if("buy_orders"!==n){var e=t.find('.red-bg.market_listing_row[id^="mylisting"]:not(.stack)');if(e.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",!0),"tabContentsMyActiveMarketListingsTable"===t.attr("id")){e.find(".sih-resubmit").each(function(e,t){var i=$J(t);!i.length||i.hasClass("without-price")||i.hasClass("disabled")||i.addClass("disabled")})}}else{t.find('.red-bg.market_listing_row[id^="mybuyorder_"]').find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox:visible").prop("checked",!0)}i.i(a.a)(n),i.i(s.a)(t)}),"buy_orders"===e&&n===e?0===t.find(".sih-market-filter__left-side .sih-select-overprices").length&&t.find(".sih-market-filter__left-side").append(r):"sell_listings"===e&&n===e?0===t.find(".sih-market-filter__left-side .sih-select-overprices").length&&t.find(".sih-market-filter__left-side").append(r):"await_listings"===e&&n===e&&0===t.find(".sih-market-filter__left-side .sih-select-overprices").length&&t.find(".sih-market-filter__left-side").append(r)}})}},function(e,t,i){"use strict";i.d(t,"b",function(){return a}),i.d(t,"a",function(){return s});var n=i(0),a={_name:"SIH_FILTER_MARKET_HISTORY",get:function(){return n.localStorageJSON.get(this._name)},set:function(e){n.localStorageJSON.set(this._name,e)}},s={_name:"SIH_MARKET_TAB",get:function(){return n.localStorageJSON.get(this._name)},set:function(e){n.localStorageJSON.set(this._name,e)}}},,,,function(e,t,i){"use strict";function n(){c(),_()}Object.defineProperty(t,"__esModule",{value:!0}),t.LoadSihMarketTab=n;var a=i(271),s=(i.n(a),i(0)),r=i(206),o=i(37),l=i(140),d=i(32),c=function(){var e=$J("#sellListings"),t=e.find(".market_tab_well_tabs"),i=r.a.get()||{},n=$J('\n    <a id="sih-market-tab" class="sih-market-tab market_tab_well_tab market_tab_well_tab_inactive" href="javascript:void(0)">\n        <span class="market_tab_well_tab_contents">\n          <span class="sih-market-tab__content">\n            <span>SIH Market</span>\n            '+(i.isViewFeature&&i.isViewFilter?"":'<span class="sih-market-tab__new">NEW</span>')+"\n          </span>\n        </span>\n    </a>\n  ");t.append(n)},_=function(){m(),u()},m=function(){var e=$J("#sellListings"),t=e.find(".market_tab_well_tabs"),n=null;t.find("a").each(function(e,t){$J(t).off("click").click(function(){var e=this;clearTimeout(n),n=setTimeout(function(){var t=$J(e);if(t.addClass("market_tab_well_tab_active").siblings().removeClass("market_tab_well_tab_active market_tab_well_tab_inactive").addClass("market_tab_well_tab_inactive"),"sih-market-tab"===t.attr("id")){var n=r.a.get()||{};n.isViewFeature&&n.isViewFilter||n.openTab||(t.find(".sih-market-tab__new").hide(),n.isViewFeature=!0,n.isViewFilter=!0,r.a.set(n)),t.addClass("pointer-events-none"),setTimeout(function(){return t.removeClass("pointer-events-none")},500),$J("#popularItemsTable").hide(),$J("#sellListingsTable").hide(),$J("#soldListingTable").hide(),i.i(l.a)(),$J("#sih-market-listing").show(),i.i(d.a)(!1),$J("#sih-listing-pagination-container").css("display","flex").show(),i.i(o.c)(!1),i.i(o.a)()}else i.i(d.a)(),$J("#sih-market-listing").hide(),$J("#sih-listing-pagination-container").hide(),i.i(o.c)(!0),i.i(o.d)()},200)})})},u=function(){s.chromeStorage.getLocal("SIH_MARKET_TAB").then(function(e){e.openTab&&$J("#sih-market-tab").length&&($J("#sih-market-tab").trigger("click"),e.openTab=!1,s.chromeStorage.setLocal("SIH_MARKET_TAB",e))})}},,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(235),a=i(242),s=i(239),r=i(12),o=i(236);i.d(t,"filterPanel",function(){return n}),i.d(t,"resubmitOrders",function(){return a}),i.d(t,"listingRow",function(){return s}),i.d(t,"RenderHeaderTable",function(){return r.b}),i.d(t,"AddSortableColumns",function(){return o.a})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(245);i.d(t,"filter",function(){return n})},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.d(t,"b",function(){return c}),i.d(t,"c",function(){return _}),i.d(t,"a",function(){return m});var n=i(273),a=(i.n(n),i(0)),s=i(205),r=i(8),o=i(15),l=i(39),d=i(3),c=function e(t){var n=[],a=void 0,s=void 0;"sell_listings"===t?n.push(new Promise(function(e,t){a=$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),s=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_sell_overprices"),e()})):"await_listings"===t?n.push(new Promise(function(e,t){setTimeout(function(){var t=$J("#await_listings").parent();a=t.find('.market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),s=$J('#myListings .market_listing_row[id^="mylisting"]').parent().parent().find("#load_await_overprices"),e()},500)})):n.push(new Promise(function(e,t){a=$J('#myListings .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button:not([done])'),e()})),Promise.all(n).then(function(){if(a.length<=0)return void(s.hasClass("animated-background")&&s.removeClass("animated-background"));!s.hasClass("animated-background")&&a.length>0&&s.addClass("animated-background");var n=a[0];$J(n).attr("done","true");var o=decodeURIComponent(n.href),l=removeLinkExp.exec(o);if(l){var d=g_rgAssets[l[2]][l[3]][l[4]];d&&(n.rgItem=d,getLowestPriceHandler(n.rgItem,"",function(a){var s=$J(n).closest(".market_listing_row");i.i(r.d)(s,a.lowestPrice),e(t)}))}})},_=function(){var e=$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link'),t=$J(".my_listing_section.market_content_block.market_home_listing_table"),n=GetCookie("Steam_Language")||"english",s=void 0;t.each(function(e,t){var i=$J(t);if(i.find("#buy_orders").length>0){var n=i.find(".market_listing_table_header");n.find(".market_listing_maximum").length||n.find(".market_listing_buyorder_qty").before('<span class="market_listing_right_cell market_listing_maximum" style="display: block;">'+SIHLang.market.maximum+'<span class="market_sort_arrow" style="display:none"></span></span>'),s=i.find("#load_buy_lowerprices"),s.hasClass("animated-background")||s.addClass("animated-background")}}),e.each(function(e,t){var r=t.href;setTimeout(function(){$J.ajax({url:r,method:"GET",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(e){var c=r.replace(/https:\/\//,"").split("/")[3],_=r.replace(/https:\/\//,"").split("/")[4],m=e.match(/Market_LoadOrderSpread\( (\d+)/)[1],u=$J(t).text(),h=encodeURIComponent(u).replace(/\(/g,"%28").replace(/\)/g,"%29");chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDER_HISTOGRAM",data:{g_strCountryCode:g_strCountryCode,steamLang:n,g_rgWalletInfo:g_rgWalletInfo,nameid:m,appId:c,encodedName:h}},function(e){if(e){if(e.success&&e.buy_order_graph){var r=e.buy_order_graph[0][0],m=(e.buy_order_graph[1][0],a.Currency.getPriceFromCurrency(r,currencyId,currencyId).text),u=$J(t).closest(".market_listing_row"),h=u.find(".market_listing_buyorder_max");h.length?h.find(".market_listing_price").text(""+m):u.find(".market_listing_my_price.market_listing_buyorder_qty").before('\n                  <div class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max">\n                      <span class="market_table_value">\n                        <span class="market_listing_price">\n                          '+m+"\n                        </span>\n                      </span>\n                  </div>");u.find(".market_listing_edit_buttons.placeholder").each(function(e,t){var n=$J(t).next().find(".market_listing_price");n.find(".market_listing_inline_buyorder_qty").length>0&&n.find(".market_listing_inline_buyorder_qty").remove();var s=n.text().match(RegExp(/([\d+?., ]+)/g))||"0",o="0"!==s?s[0]:"0";if(i.i(a.parseNumber)(o)>+r)u.hasClass("green-bg")||(u.addClass("green-bg"),u.prepend('<div class="sih-listing__color-cell start green"></div>'),u.append('<div class="sih-listing__color-cell end green"></div>'));else if(i.i(a.parseNumber)(o)<+r){var c=Math.round(i.i(a.getPercentNumberDifference)(+r,i.i(a.parseNumber)(o),1)),_=d.b.getPercentAlert("buy_orders"),m=_.percent_alert,h=void 0===m?20:m;u.find(".sih-market-alert").remove(),c<=-h&&i.i(l.a)("buy_orders",u),u.hasClass("red-bg")||(u.addClass("red-bg"),u.prepend('<div class="sih-listing__color-cell start red"></div>'),u.append('<div class="sih-listing__color-cell end red"></div>'))}}),$J(t).attr("done",!0);0===$J('#myListings .market_listing_row[id^="mybuyorder"] .market_listing_item_name_link:not([done])').length&&s.removeClass("animated-background");u.find(".market_listing_edit_buttons .market_listing_cancel_button .select-checkbox").is(":checked")?u.find(".sih-resubmit").removeClass("without-price").removeAttr("title"):u.find(".sih-resubmit").removeClass("disabled without-price").removeAttr("title"),i.i(o.b)()}e.success&&e.sell_order_graph&&a.SihUserPrices.sendItemData(e,+c,_,+currencyId,null,n)}})},error:function(e,t,i){}})},3e3*(e+1))})},m=function(){$J("#tabContentsMyListings .market_home_listing_table").each(function(){var e=$J(this),t=getListingSectionType(e);if(t){var n=e.find("#"+t),a='\n      <span class="row_autoload-price">\n        <a href="javascript:void(0);" id="sell_overprices" data-hidden="'+window.highlight+'" class="load_price_auto '+(window.highlight?"on":"")+'" title="'+SIHLang.market.tooltip1+'"></a>\n        <a id="load_sell_overprices" class="column_autoload-price load_price_manual '+(window.highlight?"disabled":"")+'" title="'+SIHLang.market.tooltip2+'">\n            <span class="text text_white">'+SIHLang.market.requestPrice+'</span>\n            <span class="text text_small text_'+(window.highlight?"green":"white")+'">'+(window.highlight?""+SIHLang.market.auto:""+SIHLang.market.manual)+"</span>\n        </a>\n      </span>",r='\n    <span class="row_autoload-price">\n      <a href="javascript:void(0);" id="await_overprices" data-hidden="'+window.highlight_await+'" class="load_price_auto '+(window.highlight_await?"on":"")+'" title="'+SIHLang.market.tooltip1+'"></a>\n      <a id="load_await_overprices" class="column_autoload-price load_price_manual '+(window.highlight_await?"disabled":"")+'" title="'+SIHLang.market.tooltip2+'">\n        <span class="text text_white">'+SIHLang.market.requestPrice+'</span>\n        <span class="text text_small text_'+(window.highlight_await?"green":"white")+'">'+(window.highlight_await?""+SIHLang.market.auto:""+SIHLang.market.manual)+"</span>\n      </a>\n    </span>",o='\n    <span class="row_autoload-price">\n      <a href="javascript:void(0);" id="buy_lowerprices" data-hidden="'+window.highlight_buy+'" class="load_price_auto '+(window.highlight_buy?"on":"")+'" title="'+SIHLang.market.tooltip1+'"></a>\n      <a id="load_buy_lowerprices" class="column_autoload-price load_price_manual '+(window.highlight_buy?"disabled":"")+'" title="'+SIHLang.market.tooltip2+'">\n        <span class="text text_white">'+SIHLang.market.requestPrice+'</span>\n        <span class="text text_small text_'+(window.highlight_buy?"green":"white")+'">'+(window.highlight_buy?""+SIHLang.market.auto:""+SIHLang.market.manual)+'</span>\n        <span class="progress_after"></span>\n      </a>\n    </span>';n.parent().find(".load_price_auto").length||("sell_listings"===t&&n.before(a),"await_listings"===t?n.before(r):"buy_orders"===t&&n.before(o)),n.closest(".my_listing_section").attr("data-table-id",t),u("load_price_auto"),u("load_price_manual"),h(e,"sell_overprices"),h(e,"await_overprices"),h(e,"buy_lowerprices"),e.find("#load_sell_overprices").click(function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),i.i(s.a)("sell_listings"),c("sell_listings")}),e.find("#load_await_overprices").click(function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),i.i(s.a)("await_listings"),c("await_listings")}),e.find("#load_buy_lowerprices").click(function(){var e=$J(this);e.hasClass("disabled")||e.addClass("disabled"),i.i(s.a)("buy_orders"),_()})}})},u=function(e){$J("."+e).tooltip({position:{my:"left bottom",at:"left top-10"},open:function(e,t){},show:{delay:500,duration:0}})},h=function(e,t){e.find("#"+t).off("click").click(function(){var e=$J(this),i=e.data("hidden");e.toggleClass("on"),e.data("hidden",!i),i?(e.parent().find(".text_small").text(""+SIHLang.market.manual),e.parent().find(".text_small").removeClass("text_green"),e.parent().find(".text_small").addClass("text_white")):(e.parent().find(".text_small").text(""+SIHLang.market.auto),e.parent().find(".text_small").removeClass("text_white"),e.parent().find(".text_small").addClass("text_green")),"sell_overprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight:!i}}),"await_overprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_await:!i}}),"buy_lowerprices"===t&&chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_HIGHLIGHT_OVERPRICED",data:{highlight_buy:!i}})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(274),a=(i.n(n),i(8)),s=function(){r(),o(),d(),c()},r=function(){var e=$J("#tabContentsMyActiveMarketListingsTable .sih-market-filter"),t=e.find(".sih-market-filter__left-side"),i=a.a.get(),n=i.commission,s=void 0===n||n,r=$J('\n        <a href="javascript:void(0)" class="sih-market-filter__toggle-commission" data-state="'+(s?"show":"hide")+'">\n            <img src="chrome-extension://'+SIHID+"/assets/market/eye-"+(s?"show":"hide")+'.svg">\n            <span class="text text_light-grey fs-12">'+SIHLang.market.with_fees+"</span>\n        </a>\n  ");t.find(".sih-market-filter__remove-selected").length||t.find(".sih-market-filter__toggle-commission").length||t.append(r)},o=function(){l()},l=function(){var e=$J(".sih-market-filter"),t=e.find(".sih-market-filter__toggle-commission");t.off("click").click(function(){var e=t.attr("data-state");e="show"===e?"hide":"show",t.attr("data-state",e),t.find("img").attr("src","chrome-extension://"+SIHID+"/assets/market/eye-"+e+".svg");var i=a.a.get();i.commission="show"===e,a.a.set(i),d(),c()})},d=function(){var e=$J("#tabContentsMyActiveMarketListingsTable"),t=e.find("#totalRow0"),i=a.a.get(),n=i.commission,s=void 0===n||n;t.find(".market_listing_price .sih-market-total__receive").toggle(s),t.find(".sih-total-sell__receive").toggle(s),t.find(".total-resubmit-price__receive").toggle(s)},c=function(){var e=$J("#tabContentsMyActiveMarketListingsRows").find(".market_listing_row"),t=a.a.get(),i=t.commission,n=void 0===i||i;e.each(function(e,t){var i=$J(t);i.find(".market_listing_my_price .market_table_value .market_listing_price span span:last-child").toggle(n),i.find(".resubmit-price__receive").toggle(n)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(275),a=(i.n(n),i(3)),s=i(25),r=function(){i.i(a.d)().then(function(e){e.success&&$J(".my_listing_section").each(function(e,t){var n=$J(t),r=$J(t).attr("data-table-id");if(r&&"await_listings"!==r){var o=n.find(".sih-market-filter"),l=o.find(".sih-market-filter__left-side"),d=a.b.getPercentAlert(r),c=d.percent_alert,_=void 0===c?20:c,m=$J('\n     <a href="javascript:void(0)" class="sih-market-filter__edit-alert" title="\n        '+("sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1)+"\n        "+_+"\n        "+("en"===lang?"sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"")+'">\n        <span class="text text_blue fs-12">'+_+"%</span>\n    </a>\n  ");m.tooltip({position:{my:"left bottom",at:"left top",using:function(e,t){$J(this).css(e);var i=a.b.getPercentAlert(r),n=i.percent_alert,s=void 0===n?20:n,o=("sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_1:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_1)+" "+s+" "+("en"===lang?"sell_listings"===r?SIHLang.market.resubmit_orders.tooltips.edit_alert_2:SIHLang.market.resubmit_orders.tooltips.edit_alert_buy_2:"");$J(this).find(".ui-tooltip-content").text(o)}}}),l.find(".sih-market-filter__edit-alert").length||l.append(m),m.off("click").click(function(){i.i(s.a)(r)})}})})}},function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i(276),a=(i.n(n),i(205)),s=i(231),r=i(204),o=i(11),l=i(232),d=i(8),c=i(233),_=!1,m=function(){u(),h(),i.i(o.c)(),i.i(l.a)(),i.i(r.b)(),i.i(s.a)(),i.i(c.a)(),window.highlight?setTimeout(function(){i.i(a.a)("sell_listings"),i.i(s.b)("sell_listings")},500):setTimeout(function(){$J("#tabContentsMyActiveMarketListingsTable").find(".load_price_manual").removeClass("disabled"),p()},500),window.highlight_await&&(i.i(a.a)("await_listings"),i.i(s.b)("await_listings")),window.highlight_buy&&!_&&setTimeout(function(){_=!0,i.i(a.a)("buy_orders"),i.i(s.c)()},500),i.i(d.c)()},u=function(){var e=$J('\n    <div id="sih-market-sell-filter" class="sih-global sih-market-filter">\n        <div class="sih-market-filter__left-side">\n            <label class="sih-market-filter__label row items-center">\n              <input class="selectableText filter_search_box" type="text" id="Txt_Filter" value="" placeholder="Start typing an item name here to filter items" name="filter" autocomplete="off">\n              <a href="javascript:void(0)" class="sih-market-filter__clear"></a>\n            </label>\n        </div>\n        <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');e.find("#Txt_Filter").off("keyup").keyup(function(){var e=$J(this).closest(".my_listing_section"),t=$J(this).val().toUpperCase().split(" ").filter(function(e){return""!==e});if(t.length){for(var i="",n=0;n<t.length;n++)i+=':Contains("'+t[n]+'")';e.find(".sih-market-filter__clear").show(),e.find('.market_listing_row:not([id^="totalRow"])').each(function(){$J(this).is(i)?$J(this).show():$J(this).hide()})}else e.find('.market_listing_row:not([id^="totalRow"])').show(),e.find(".sih-market-filter__clear").hide()}),e.find(".sih-market-filter__clear").click(function(){var e=$J(this).closest(".my_listing_section");e.find("#Txt_Filter").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .market_listing_row:not([id^="totalRow"])').show(),e.find(".sih-market-filter__clear").hide()}),$J("#tabContentsMyListings").find("#sih-market-sell-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mylisting"]) .my_market_header').after(e)},h=function(){var e=$J('\n    <div id="sih-market-buy-filter" class="sih-global sih-market-filter">\n\n        <div class="sih-market-filter__left-side">\n           <label class="sih-market-filter__label row items-center">\n              <input class="selectableText filter_search_box" type="text" id="Txt_Filter_Buying" value="" placeholder="Start typing an item name here to filter items" name="filter" autocomplete="off">\n              <a href="javascript:void(0)" id="filter_clear_btn_buying" class="sih-market-filter__clear"></a>\n           </label>\n        </div>\n\n         <div class="sih-market-filter__right-side"></div>\n    </div>\n  ');e.find("#Txt_Filter_Buying").off("keyup").keyup(function(){var e=$J(this).parents(".my_listing_section"),t=$J(this).val().toUpperCase().split(" ").filter(function(e){return""!==e});if(t.length){for(var i="",n=0;n<t.length;n++)i+=':Contains("'+t[n]+'")';$J("#filter_clear_btn_buying").show(),e.find('.market_listing_row:not([id^="totalRow"])').each(function(){$J(this).is(i)?$J(this).show():$J(this).hide()})}else e.find('.market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()}),e.find("#filter_clear_btn_buying").click(function(){e.find("#Txt_Filter_Buying").val(""),$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .market_listing_row:not([id^="totalRow"])').show(),$J("#filter_clear_btn_buying").hide()}),$J("#tabContentsMyListings").find("#sih-market-buy-filter").length||$J('#tabContentsMyListings .market_home_listing_table:has(div[id^="mybuyorder"]) .my_market_header').after(e)},p=function(){$J('#tabContentsMyActiveMarketListingsRows .market_listing_row[id^="mylisting"] .market_listing_cancel_button .item_market_action_button').each(function(e,t){var n=$J(t),a=n.closest(".market_listing_row"),s=decodeURIComponent(t.href),r=removeLinkExp.exec(s);if(r){var o=g_rgAssets[r[2]][r[3]][r[4]];if(o){var l="appid="+o.appid+"&market_hash_name="+encodeURIComponent(o.market_hash_name),c=PriceQueue._cache[l]?PriceQueue._cache[l].response:{lowest_price:m},_=c.lowest_price,m=void 0===_?null:_;m&&i.i(d.d)(a,m)}}})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(234),a=i(204);i.d(t,"RenderMarketFilter",function(){return n.a}),i.d(t,"RenderHeaderTotal",function(){return a.a})},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(279),a=(i.n(n),function(e){e.find("> span").each(function(e,t){var i=$J(t);i.hasClass("market_listing_edit_buttons")||(i.addClass("market_sortable_column").css("display","block"),i.find(".market_sort_arrow").length||i.append('<span class="market_sort_arrow" style="display:none"></span>'),i.off("click").click(function(){i.hasClass("market_listing_buyorder_qty")?s(i,"quantity"):i.hasClass("market_listing_listed_date")?s(i,"date"):i.hasClass("market_listing_my_price")?s(i,"my_price"):i.hasClass("market_listing_minimum")?s(i,"minimum_price"):i.hasClass("market_listing_maximum")?s(i,"maximum_price"):s(i,"name")}))})}),s=function(e,t){if(t){var i=e.closest(".market_listing_table_header"),n=i.closest(".market_home_listing_table");n.find("#tabContentsMyActiveMarketListingsRows").length&&(n=n.find("#tabContentsMyActiveMarketListingsRows"));var a=n.children('.market_listing_row:not([id^="totalRow"])');i.find(".market_sort_arrow").hide();var s=1;e.find(".market_sort_arrow").is(':contains("▲")')?(s=-1,e.find(".market_sort_arrow").text("▼")):e.find(".market_sort_arrow").text("▲"),e.find(".market_sort_arrow").show(),a.sort(function(e,i){var n=r(e,i,t),a=n.aValue,o=n.bValue;return a>o?s:a<o?-1*s:0}),a.detach().appendTo(n)}},r=function(e,t,i){var n=void 0,a=void 0;switch(i){case"quantity":n=parseFloat(getPriceAsInt($J(e).find(".market_listing_my_price.market_listing_buyorder_qty").text())),a=parseFloat(getPriceAsInt($J(t).find(".market_listing_my_price.market_listing_buyorder_qty").text()));break;case"date":n=+$J(e).find(".market_listing_listed_date").text().match(/\d+/)[0]||0,a=+$J(t).find(".market_listing_listed_date").text().match(/\d+/)[0]||0;break;case"my_price":var s=function(e){var t=$J(e).find(".sih_listing_my_price").text();return getPriceAsInt(t)};n=s(e),a=s(t);break;case"minimum_price":n=parseFloat(getPriceAsInt($J(e).find(".market_listing_minimum--text").text())),a=parseFloat(getPriceAsInt($J(t).find(".market_listing_minimum--text").text()));break;case"maximum_price":n=parseFloat(getPriceAsInt($J(e).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text())),a=parseFloat(getPriceAsInt($J(t).find(".market_listing_buyorder_max .market_table_value .market_listing_price").text()));break;case"name":n=$J(e).find(".market_listing_item_name_link").text(),a=$J(t).find(".market_listing_item_name_link").text()}return{aValue:n,bValue:a}}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(280),a=(i.n(n),i(8)),s=function(){r()},r=function(){var e=i.i(a.b)("sell_listings"),t=i.i(a.b)("await_listings"),n=i.i(a.b)("buy_orders");e.each(function(e,t){var i=$J(t),n=$J('\n        <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n          <span class="market_listing_minimum--text">-</span>\n        </div>');i.find(".market_listing_minimum").length||n.insertAfter(i.find(".market_listing_my_price"))}),t.each(function(e,t){var i=$J(t),n=$J('\n        <div class="row items-center justify-center market_listing_right_cell market_listing_minimum">\n          <span class="market_listing_minimum--text">-</span>\n        </div>');i.find(".market_listing_minimum").length||n.insertAfter(i.find(".market_listing_my_price"))}),n.each(function(e,t){var i=$J(t),n=$J('\n        <div class="market_listing_right_cell market_listing_my_price market_listing_buyorder_max">\n          <span class="market_table_value">\n            <span class="market_listing_price">-</span>\n          </span>\n        </div>\n    ');i.find(".market_listing_buyorder_max").length||i.find(".market_listing_my_price.market_listing_buyorder_qty").before(n)})}},function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(281),a=(i.n(n),function(){})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"RefactorListingRow",function(){return c});var n=i(282),a=(i.n(n),i(97)),s=i(238),r=i(241),o=i(240),l=i(8),d=i(237),c=function(){i.i(l.b)("sell_listings").addClass("sih-global"),i.i(l.b)("await_listings").addClass("sih-global"),i.i(l.b)("buy_orders").addClass("sih-global"),i.i(d.a)(),i.i(a.a)(),i.i(s.a)(),i.i(r.a)(),i.i(o.a)()}},function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(283),a=(i.n(n),i(3)),s=i(91),r=function(){$J(".market_listing_edit_buttons.actual_content").parent().each(function(e,t){var n=$J(t);n.find(".item_market_action_button.item_market_action_button_edit").click(function(e){var t=$J(e.target).closest(".my_listing_section"),r=t.attr("data-table-id"),o=i.i(a.a)(n);if("sell_listings"===r)setTimeout(function(){$J("#market_removelisting_dialog_accept").click(function(){var e=[o[4]];chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_REMOVE_ITEM_FOR_SALE",data:{assetids:e}},function(){})})},200);else if("buy_orders"===r){e.preventDefault();var l=n.find(".market_listing_item_name_link").text(),d=n.find(".market_listing_item_name_link").attr("href"),c=n.attr("id").substring(11);i.i(s.a)({hashName:l,href:d,buy_orderid:c}).then(function(e){e&&RefreshMyMarketListings()})}})})};RemoveListingDialog.OnSuccess;RemoveListingDialog.OnSuccess=function(e){e.responseJSON?(this.OnSuccessEffects(),htmlListings="",$ACTIVE_LISTING_ROWS=null,RefreshMyMarketListings()):(this.OnFailureEffects(),this.DisplayError("There was a problem removing your listing. Refresh the page and try again."))}},function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(284),a=(i.n(n),i(8)),s=function(){r()},r=function(){$J(".market_listing_right_cell.market_listing_my_price").find(".market_listing_price span").find("span").each(function(e,t){var i=$J(t);e%2==0&&i.addClass("sih_listing_my_price");var n=i.text().replace(/pуб./g,"₽");i.text(n)}),i.i(a.b)("buy_orders").find(".market_listing_price").each(function(e,t){var i=$J(t);i.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_qty")||i.closest(".market_listing_right_cell").hasClass("market_listing_buyorder_max")||i.addClass("sih_listing_my_price"),i.find(".market_listing_inline_buyorder_qty").remove();var n=i[0].innerText.replace(/pуб./g,"₽");i.text(n)})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(243),a=i(3);i.d(t,"resubmitButton",function(){return n}),i.d(t,"SaveSellListing",function(){return a.m})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"LoadResubmitOrderButton",function(){return c});var n=i(285),a=(i.n(n),i(3)),s=i(26),r=i(0),o=i(8),l=i(13),d=i(12),c=function(e){i.i(a.d)().then(function(t){t.success&&(_(e),m(e))})},_=function(e){var t=i.i(o.b)(e),n=r.Currency.getPriceFromCurrency(.01,currencyId,currencyId).text;t.each(function(t,i){var a=$J(i),s=a.find(".market_listing_cancel_button"),r=$J('\n        <div class="sih-resubmit disabled without-price" title="">\n    <div class="sih-resubmit__row row">\n        <a href="javascript:void(0)" class="sih-resubmit__btn row items-center justify-center w-24 h-24" data-state="default">\n            <img class="opacity-50per" src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_default.svg" alt="default">\n        </a>\n        <a href="javascript:void(0)" class="sih-resubmit__arrow-down row items-center justify-center w-24 h-24">\n           <img class="opacity-50per" src="chrome-extension://'+SIHID+'/assets/market/resubmit/arrow-down.svg" alt="arrow-down">\n        </a>\n\n        <a href="javascript:void(0)" class="sih-resubmit__undo items-center justify-center w-24 h-24">\n           <img class="opacity-50per" src="chrome-extension://'+SIHID+'/assets/market/resubmit/undo.svg" alt="undo">\n        </a>\n    </div>\n\n    <div class="sih-resubmit__tooltip resubmit-tooltip">\n        <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="default">\n             <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_default.svg" alt="resubmit_default">\n             <span class="text">'+("sell_listings"===e?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by)+" "+n+" "+("sell_listings"===e?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price)+'</span>\n        </a>\n        <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="percent">\n             <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_percent.svg" alt="resubmit_percent">\n             <span class="text">'+("sell_listings"===e?SIHLang.market.resubmit_orders.reduce_by:SIHLang.market.resubmit_orders.increase_by)+" 1% "+("sell_listings"===e?SIHLang.market.resubmit_orders.of_min_price:SIHLang.market.resubmit_orders.of_max_price)+'</span>\n        </a>\n        <a href="javascript:void(0)" class="resubmit-tooltip__item" data-state="manual">\n             <img src="chrome-extension://'+SIHID+'/assets/market/resubmit/resubmit_manual.svg" alt="resubmit_manual">\n             <span class="text">'+SIHLang.market.resubmit_orders.set_price+"</span>\n        </a>\n    </div>\n\n  </div>\n    ");s.prepend(r)})},m=function(e){u(e),h(e),p(e),f(e),g(e)},u=function(e){i.i(o.b)(e).each(function(t,n){var r=$J(n),o=r.find(".sih-resubmit__btn"),c=null;o.off("click").click(function(t){var n=this;clearTimeout(c),c=setTimeout(function(){var t=$J(n),o=t.attr("data-state");if("manual"===o)return void i.i(s.a)(r);i.i(a.g)(r,o),i.i(l.a)(e),i.i(d.a)(e)},200)})})},h=function(e){i.i(o.b)(e).each(function(t,n){var a=$J(n);a.find(".sih-resubmit").find(".sih-resubmit__undo").off("click").click(function(){if("sell_listings"===e){var t=$J(this).attr("data-id");r.SellListing.removeItem(t)}else{var n=$J(this).attr("data-id");r.BuyOrders.removeItem(n)}a.find(".resubmit-price").remove(),a.css("background-color","rgba(0, 0, 0, 0.2)").removeClass("stack"),i.i(l.a)(e),i.i(d.a)(e)})})},p=function(e){var t=i.i(o.b)(e);t.each(function(e,i){var n=$J(i),a=n.find(".sih-resubmit"),s=a.find(".sih-resubmit__arrow-down"),r=null;s.off("click").click(function(){clearTimeout(r),r=setTimeout(function(){n.css("overflow","visible"),t.find(".sih-resubmit__tooltip").fadeOut();var e=a.find(".sih-resubmit__tooltip");e.fadeIn("fast").css("display","flex"),$J("body").off("click").click(function(t){var i=$J(t.target.parentElement);i.hasClass("sih-resubmit__row")||i.hasClass("sih-resubmit__arrow-down")||e.fadeOut("fast")})},200)})})},f=function(e){i.i(o.b)(e).each(function(e,t){var n=$J(t);n.find(".sih-resubmit__tooltip").find(".resubmit-tooltip__item").off("click").click(function(){var e=$J(this),t=e.attr("data-state");if("manual"!==t){var a=e.closest(".sih-resubmit").find(".sih-resubmit__btn");a.attr("data-state",t),a.find("img").attr("src","chrome-extension://"+SIHID+"/assets/market/resubmit/resubmit_"+t+".svg").attr("alt",t),a.trigger("click")}else i.i(s.a)(n)})})},g=function(e){i.i(o.b)(e).each(function(t,i){var n=$J(i),a=n.find(".sih-resubmit.without-price"),s=$J('\n        <div class="sih-global resubmit-price-tooltip">\n            <div class="roboto row items-center gap-5">\n              <a href="javascript:void(0)" class="load_price_manual text text_blue hover-opacity-8">'+SIHLang.market.resubmit_orders.tooltips.need_load_price_1+'</a>\n              <span class="text">'+SIHLang.market.resubmit_orders.tooltips.need_load_price_2+"</span>\n            </div>\n        </div>\n    ");a.tooltip({content:s.text(),position:{my:"left bottom",at:"left top",using:function(t,i){var n=$J('.my_listing_section[data-table-id="'+e+'"]').find(".load_price_manual");s.find(".load_price_manual").off("click").click(function(){n.hasClass("disabled")||n.trigger("click")}),$J(this).css(t),$J(".ui-tooltip-content").hide(),$J(this).append(s)}}}).on("mouseenter",function(e){a.not($J(this)).tooltip("close")}).on("mouseleave",function(e){$J(".ui-tooltip:hover").length>0&&e.stopImmediatePropagation()}),$J("body").on("mouseleave",".ui-tooltip",function(e){a.tooltip(),a.tooltip("close")})})}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(213),a=i(0),s=i(212),r=i(210),o=i(136);i.d(t,"marketHistory",function(){return n}),i.d(t,"sihMarketTab",function(){return r}),i.d(t,"global",function(){return a}),i.d(t,"activeListings",function(){return s}),i.d(t,"RefactorAdvancedSearchDialog",function(){return o.RefactorAdvancedSearchDialog})},function(module,__webpack_exports__,__webpack_require__){"use strict";function selectTabMarket(){$J("#myMarketTabs").find(".market_tab_well_tabs a").on("click",function(){g_sihSelectTabMarket=$J(this).attr("id"),"tabMyMarketHistory"===g_sihSelectTabMarket?$J("#BG_bottom").find(".my_market_history_filtration").show():($J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find(".animated").removeClass("animated"))})}function marketMyHistoryRequestBefore(e,t){spinnerFilterMarketHistory(!0);var i=getLocalStorage();t.parameters.count=i.isVisibleSlots?500:window.historypagesize}function marketMyHistoryRequestOnFailureBefore(){spinnerFilterMarketHistory(!1)}function marketMyHistoryRequestOnSuccessBefore(){if("tabMyMarketHistory"===(g_sihSelectTabMarket=$J("#myMarketTabs .market_tab_well_tabs a.market_tab_well_tab_active").attr("id"))){loadCheckboxHistoryFiltration(getLocalStorage()),$J("#BG_bottom").find(".my_market_history_filtration").show()}else $J("#BG_bottom").find(".my_market_history_filtration").hide(),$J("#BG_bottom").find(".animated").removeClass("animated")}function marketMyHistoryRequestOnSuccessAfter(e,t,i){if($J(".sih.my_market_history_filtration .switcher_history_filtration").hasClass("selected")){if(t.start||$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").hide(),0===$J("#tabContentsMyMarketHistory").find(".market_listing_table_showmore").length){var n=$J("#tabContentsMyMarketHistory_ctn");n.hide();for(var a='<a class="sih_button sih_pre_shadow_button collapse_my_history" href="javascript:void(0);">'+SIHLang.collapseHistoryMarket+"</a>",s=[10,25,50,100],r=0;r<4;r++){var o=s[r];a+='<a class="sih_button sih_pre_shadow_button upload_my_history" data-number="'+o+'" href="javascript:void(0);">'+SIHLang.uploadHistoryMarket.replace("$1",o)+"</a>"}n.after('<div class="market_listing_table_showmore sih"><div class="upload_my_history_buttons">'+a+"</div></div>"),$J("#tabContentsMyMarketHistory").find(".upload_my_history").click($J.debounce(300,function(){viewFilterMarketHistory(!0,$J(this).data("number"),this),colorMarketHistory()})),$J("#tabContentsMyMarketHistory").find(".collapse_my_history").click($J.debounce(300,function(){$J("body, html").animate({scrollTop:240},400),g_sihSettingFiltration.totalCountView=10,clearTableHistory(this)}))}Object.keys(i.responseJSON.assets).length>0?g_sihSettingFiltration.start=i.responseJSON.start+i.responseJSON.pagesize:g_sihSettingFiltration.emptyAssets=!0,g_sihSettingFiltration.totalCount=i.responseJSON.total_count,0===$J(".market_listing_table_showmore.sih").find(".sih__total-count").length&&$J(".market_listing_table_showmore.sih").prepend('<div class="sih__total-count"><span>'+SIHLang.historyTotal+": "+g_sihSettingFiltration.totalCount+"</span></div>"),viewFilterMarketHistory(),spinnerFilterMarketHistory(!1)}else ImprovedMyMarketHistoryNav.init();colorMarketHistory()}function getLocalStorage(){var e=__WEBPACK_IMPORTED_MODULE_1__common__.b.get();return e||(e={isSlotPlacedHistoryTran:!1,isSlotRemovedHistoryTran:!1,isSlotPurchasedHistoryTran:!0,isSlotSoldHistoryTran:!0,isVisibleSlots:!1},__WEBPACK_IMPORTED_MODULE_1__common__.b.set(e)),e}function loadCheckboxHistoryFiltration(e){0===$J("#BG_bottom").find(".my_market_history_filtration").length&&($J("#myMarketTabs").after('\n                     <div class="sih my_market_history_filtration">\n                      <div class="switch_history_filtration">\n                          <a class="sih_button sih_pre_shadow_button switcher_history_filtration" href="javascript:void(0);">'+SIHLang.filtrationHistoryMarketName+'</a>\n                      </div>\n\n                        <div class="slots_history_tran">\n\n                           <div class="slot_history_tran">\n                              <label for="slot_placed_history_tran" class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active">'+SIHLang.historySaleSlotPlaced+'</label>\n                              <input type="checkbox" data-id="isSlotPlacedHistoryTran" '+(e.isSlotPlacedHistoryTran?"checked":"")+' class="ui-checkboxradio ui-helper-hidden-accessible"id="slot_placed_history_tran">\n                          </div>\n\n                          <div class="slot_history_tran">\n                              <label for="slot_removed_history_tran" class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active">'+SIHLang.historySaleSlotRemoved+'</label>\n                              <input type="checkbox" data-id="isSlotRemovedHistoryTran" class="ui-checkboxradio ui-helper-hidden-accessible" '+(e.isSlotRemovedHistoryTran?"checked":"")+' id="slot_removed_history_tran" >\n                          </div>\n\n                          <div class="slot_history_tran">\n                              <label for="slot_purchased_history_tran" class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active">'+SIHLang.historySaleSlotPurchased+'</label>\n                              <input type="checkbox" data-id="isSlotPurchasedHistoryTran" class="ui-checkboxradio ui-helper-hidden-accessible" '+(e.isSlotPurchasedHistoryTran?"checked":"")+' id="slot_purchased_history_tran">\n                          </div>\n\n                          <div class="slot_history_tran">\n                              <label for="slot_sold_history_tran" class="sih_checkbox ui-checkboxradio-label ui-corner-all ui-button ui-widget ui-checkboxradio-checked ui-state-active">'+SIHLang.historySaleSlotSold+'</label>\n                              <input type="checkbox" data-id="isSlotSoldHistoryTran" '+(e.isSlotSoldHistoryTran?"checked":"")+' class="ui-checkboxradio ui-helper-hidden-accessible" id="slot_sold_history_tran">\n                          </div>\n\n                      </div>\n</div>\n\n'),e.isVisibleSlots&&$J(".sih.my_market_history_filtration .switcher_history_filtration").addClass("selected"),loadSlots(e),$J(".sih.my_market_history_filtration .switcher_history_filtration").click(function(){var t=$J(this);t.hasClass("selected")?(t.removeClass("selected"),e.isVisibleSlots=!1):(t.addClass("selected"),e.isVisibleSlots=!0),__WEBPACK_IMPORTED_MODULE_1__common__.b.set(e),loadSlots(e)}))}function loadSlots(e){$J("#new_tab_contents_my_market_history_table").remove();var t=$J(".my_market_history_filtration");if($J("#slot_removed_history_tran, #slot_placed_history_tran, #slot_purchased_history_tran, #slot_sold_history_tran").checkboxradio(),e.isVisibleSlots)$J("#BG_bottom").append('<div id="new_tab_contents_my_market_history_table" style="display: none"></div>'),g_sihSettingFiltration={},$J(".slots_history_tran").find(".disabled").remove(),t.find("input").change(function(){var i=$J(this);t.find("input:checked").length?(e[i.data("id")]=i.prop("checked"),__WEBPACK_IMPORTED_MODULE_1__common__.b.set(e),g_sihSettingFiltration={},LoadMarketHistory()):i.prop("checked",!0).checkboxradio("refresh")});else{var i=t.find(".slots_history_tran");$J(i).children().hasClass("disabled")||$J(i).append('<div class="disabled"></div>')}LoadMarketHistory(),changeEventFilterOnClickDisabledSlots()}function changeEventFilterOnClickDisabledSlots(){var e=$J(".my_market_history_filtration").find(".disabled");$J(e).click(function(){var e=$J(".switcher_history_filtration");$J(e).hasClass("animated")?($J(e).removeClass("animated"),setTimeout(function(){$J(e).addClass("animated")},100)):$J(e).addClass("animated")})}function performFilterMarketHistory(){var e=0,t=!1;return $J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row").each(function(i,n){var a=!1;g_sihSettingFiltration.totalCountView<=e&&(a=!0);var s=getLocalStorage();if(s.isSlotRemovedHistoryTran&&$J(n).attr("id").indexOf("_event_2")>-1&&(a?t=!0:(e++,$J(n).addClass("new_history_row_market"))),s.isSlotPlacedHistoryTran&&$J(n).attr("id").indexOf("_event_1")>-1&&(a?t=!0:(e++,$J(n).addClass("new_history_row_market"))),s.isSlotPurchasedHistoryTran){$J(n).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&(a?t=!0:(e++,$J(n).addClass("new_history_row_market")))}if(s.isSlotSoldHistoryTran){$J(n).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&(a?t=!0:(e++,$J(n).addClass("new_history_row_market")))}if(a&&t)return!1}),t}function clearTableHistory(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=$J(e).text();$J(e).addClass("animation-background"),$J(e).text(SIHLang.loading);var i=0,n=$J("#tabContentsMyMarketHistoryRows");$J(n).find(".market_listing_row.market_recent_listing_row").each(function(e,t){$J(t).attr("style").includes("block")&&(i++,i>10?$J(t).hide("slow"):$J(t).show("slow"))}),setTimeout(function(){$J(e).removeClass("animation-background"),$J(e).text(t)},500)}}function uploadMarketHistory(currentButton,defaultText){new Ajax.Request("https://steamcommunity.com/market/myhistory?count=500",{method:"get",parameters:{start:g_sihSettingFiltration.start},onSuccess:function onSuccess(transport){if($J(currentButton).removeClass("animation-background"),$J(currentButton).text(defaultText),transport.responseJSON){g_sihSettingFiltration.emptyAssets=!1;var response=transport.responseJSON,$newTable=$J("#new_tab_contents_my_market_history_table");$newTable.append(response.results_html),$newTable.find(".market_listing_row.market_recent_listing_row").hide(),$J("#tabContentsMyMarketHistoryRows").append($newTable.find(".market_listing_row.market_recent_listing_row")),$newTable.empty(),MergeWithAssetArray(response.assets),eval(response.hovers)}}})}function viewFilterMarketHistory(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;void 0===g_sihSettingFiltration.totalCountView?g_sihSettingFiltration.totalCountView=t:e&&!g_sihSettingFiltration.emptyAssets&&(g_sihSettingFiltration.totalCountView+=t);var n=(performFilterMarketHistory(),function(e){s.each(function(e,t){$J(t).removeClass("new_history_row_market").show()})}),a=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row"),s=$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row.new_history_row_market");if(g_sihSettingFiltration.totalCountView>s.length)if(g_sihSettingFiltration.totalCount>a.length||g_sihSettingFiltration.emptyAssets){$J(i).addClass("animation-background");var r=$J(i).text();$J(i).text(SIHLang.loading),setTimeout(function(){uploadMarketHistory(i,r)},3e3)}else n();else n()}function spinnerFilterMarketHistory(e){e?($J("#upload_my_history").addClass("sih-disabled"),$J(".spinner_upload_my_history").css({display:"inline-block"})):($J(".spinner_upload_my_history").css({display:"none"}),$J("#upload_my_history").removeClass("sih-disabled"))}function colorMarketHistory(){$J("#tabContentsMyMarketHistoryRows .market_listing_row.market_recent_listing_row:visible").each(function(e,t){$J(t).find(".sih_market_listing_left_cell_color").length||($J(t).find(".market_listing_gainorloss").before('\n      <div class="market_listing_left_cell sih_market_listing_left_cell_color"></div>\n    '),$J(t).find(".sih_market_listing_left_cell_color").append($J(t).find(".market_listing_gainorloss")).append('<div class="color_background"></div>').append($J(t).find(".market_listing_item_img")));var i=$J(t).find(".market_listing_left_cell.market_listing_gainorloss").text();if(i.indexOf("+")>-1){var n=$J(t).find(".market_listing_price").text();n.includes("-")||$J(t).find(".market_listing_price").html("-"+n.trim())}if(i.indexOf("-")>-1){var a=$J(t).find(".market_listing_price").text();a.includes("+")||$J(t).find(".market_listing_price").html("+"+a.trim())}if(window.color_slot_removed_history_tran_show&&$J(t).attr("id").indexOf("_event_2")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_removed_history_tran}),window.color_slot_placed_history_tran_show&&$J(t).attr("id").indexOf("_event_1")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_placed_history_tran}),window.color_slot_purchased_history_tran_show){$J(t).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("+")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_purchased_history_tran})}if(window.color_slot_sold_history_tran_show){$J(t).find(".market_listing_left_cell.market_listing_gainorloss").text().indexOf("-")>-1&&$J(t).find(".sih_market_listing_left_cell_color").css({"background-color":window.color_slot_sold_history_tran})}})}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.selectTabMarket=selectTabMarket,__webpack_exports__.marketMyHistoryRequestBefore=marketMyHistoryRequestBefore,__webpack_exports__.marketMyHistoryRequestOnFailureBefore=marketMyHistoryRequestOnFailureBefore,__webpack_exports__.marketMyHistoryRequestOnSuccessBefore=marketMyHistoryRequestOnSuccessBefore,__webpack_exports__.marketMyHistoryRequestOnSuccessAfter=marketMyHistoryRequestOnSuccessAfter;var __WEBPACK_IMPORTED_MODULE_0__main_scss__=__webpack_require__(286),__WEBPACK_IMPORTED_MODULE_0__main_scss___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__main_scss__),__WEBPACK_IMPORTED_MODULE_1__common__=__webpack_require__(206),g_sihSelectTabMarket="",g_sihSettingFiltration={}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){}]);