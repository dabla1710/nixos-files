var SIH=function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=250)}({0:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){e=decodeURIComponent(e);var t=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return t&&{href:e,protocol:t[1],host:t[2],hostname:t[3],port:t[4],pathname:t[5],search:t[6],hash:t[7]}}function i(e){return new Promise(function(t){Object.keys(e).length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICE_FROM_STEAM",data:e},t):t()})}function s(){var e=n(window.location.href);if(e.pathname.indexOf("market/listings/")>-1){var t=e.pathname.split("/");return{appId:t[3],marketHashName:t[4]+e.hash,location:e}}return{}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=".";return e=e.replace(/[^0-9.,]/g,""),e.indexOf(",")>e.indexOf(".")&&(t=","),(e.match(RegExp("\\"+t,"g"))||[]).length>1&&(t=""),""!==t&&e.length-e.indexOf(t)-1==3&&0!==e.indexOf("0"+t)&&(t=""),e=e.replace(RegExp("[^0-9"+t+"]","g"),""),e=e.replace(",","."),parseFloat(e)}function d(e){return(+e.toFixed(2)).toLocaleString("ru").replace(",",".")}function l(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=b.getPriceFromCurrency(e,t,r,a),i=n.price,s=n.symbolPosition,o=n.symbol;return i>1e5&&(i=Math.ceil(i)),("before"===s?o:"")+" "+(+i.toFixed(2)).toLocaleString("ru").replace(",",".")+" "+("after"===s?o:"")}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return Math.round(100*(1-e/t)*100)/100*r}Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=n,t.getPriceFromSteam=i,t.getPageParams=s,t.parseNumber=o,r.d(t,"localStorageJSON",function(){return p}),r.d(t,"chromeStorage",function(){return _}),r.d(t,"App",function(){return h}),t.formatNumber=d,t.formatNumberToLocalRu=l,t.getPercentNumberDifference=c,r.d(t,"ModifyHoverItemName",function(){return g}),r.d(t,"SihAppGlobal",function(){return v}),r.d(t,"SihUserPrices",function(){return S}),r.d(t,"Currency",function(){return b}),r.d(t,"TopSales",function(){return y}),r.d(t,"SellListing",function(){return I}),r.d(t,"BuyOrders",function(){return k});var f=r(1),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},m={USD:{strCode:"USD",eCurrencyCode:1,strSymbol:"$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},GBP:{strCode:"GBP",eCurrencyCode:2,strSymbol:"£",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},EUR:{strCode:"EUR",eCurrencyCode:3,strSymbol:"€",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CHF:{strCode:"CHF",eCurrencyCode:4,strSymbol:"CHF",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},RUB:{strCode:"RUB",eCurrencyCode:5,strSymbol:"₽",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},BRL:{strCode:"BRL",eCurrencyCode:7,strSymbol:"R$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},JPY:{strCode:"JPY",eCurrencyCode:8,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NOK:{strCode:"NOK",eCurrencyCode:9,strSymbol:"kr",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},IDR:{strCode:"IDR",eCurrencyCode:10,strSymbol:"Rp",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},MYR:{strCode:"MYR",eCurrencyCode:11,strSymbol:"RM",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},PHP:{strCode:"PHP",eCurrencyCode:12,strSymbol:"P",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},SGD:{strCode:"SGD",eCurrencyCode:13,strSymbol:"S$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},THB:{strCode:"THB",eCurrencyCode:14,strSymbol:"฿",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},VND:{strCode:"VND",eCurrencyCode:15,strSymbol:"₫",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},KRW:{strCode:"KRW",eCurrencyCode:16,strSymbol:"₩",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TRY:{strCode:"TRY",eCurrencyCode:17,strSymbol:"TL",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},UAH:{strCode:"UAH",eCurrencyCode:18,strSymbol:"₴",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},MXN:{strCode:"MXN",eCurrencyCode:19,strSymbol:"Mex$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CAD:{strCode:"CAD",eCurrencyCode:20,strSymbol:"CDN$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AUD:{strCode:"AUD",eCurrencyCode:21,strSymbol:"A$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},NZD:{strCode:"NZD",eCurrencyCode:22,strSymbol:"NZ$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},PLN:{strCode:"PLN",eCurrencyCode:6,strSymbol:"zł",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},CNY:{strCode:"CNY",eCurrencyCode:23,strSymbol:"¥",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},INR:{strCode:"INR",eCurrencyCode:24,strSymbol:"₹",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CLP:{strCode:"CLP",eCurrencyCode:25,strSymbol:"CLP$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},PEN:{strCode:"PEN",eCurrencyCode:26,strSymbol:"S/.",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},COP:{strCode:"COP",eCurrencyCode:27,strSymbol:"COL$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ZAR:{strCode:"ZAR",eCurrencyCode:28,strSymbol:"R",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:" ",strSymbolAndNumberSeparator:" "},HKD:{strCode:"HKD",eCurrencyCode:29,strSymbol:"HK$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},TWD:{strCode:"TWD",eCurrencyCode:30,strSymbol:"NT$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},SAR:{strCode:"SAR",eCurrencyCode:31,strSymbol:"SR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},AED:{strCode:"AED",eCurrencyCode:32,strSymbol:"AED",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},ARS:{strCode:"ARS",eCurrencyCode:34,strSymbol:"ARS$",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:" "},ILS:{strCode:"ILS",eCurrencyCode:35,strSymbol:"₪",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},BYN:{strCode:"BYN",eCurrencyCode:36,strSymbol:"Br",bSymbolIsPrefix:!0,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""},KZT:{strCode:"KZT",eCurrencyCode:37,strSymbol:"₸",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:" ",strSymbolAndNumberSeparator:""},KWD:{strCode:"KWD",eCurrencyCode:38,strSymbol:"KD",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},QAR:{strCode:"QAR",eCurrencyCode:39,strSymbol:"QR",bSymbolIsPrefix:!1,bWholeUnitsOnly:!1,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:" "},CRC:{strCode:"CRC",eCurrencyCode:40,strSymbol:"₡",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},UYU:{strCode:"UYU",eCurrencyCode:41,strSymbol:"$U",bSymbolIsPrefix:!0,bWholeUnitsOnly:!0,strDecimalSymbol:",",strThousandsSeparator:".",strSymbolAndNumberSeparator:""},RMB:{strCode:"RMB",eCurrencyCode:9e3,strSymbol:"刀币",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:"",strSymbolAndNumberSeparator:" "},NXP:{strCode:"NXP",eCurrencyCode:9001,strSymbol:"원",bSymbolIsPrefix:!1,bWholeUnitsOnly:!0,strDecimalSymbol:".",strThousandsSeparator:",",strSymbolAndNumberSeparator:""}},p={set:function(e,t){try{t=t||"",localStorage.setItem(e,JSON.stringify(t))}catch(e){}},get:function(e){try{var t=localStorage.getItem(e)||null;return JSON.parse(t)}catch(e){return null}}},_={getSync:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SYNC_STORAGE",data:{key:e}},function(r){var a=r[e]||{};t(a)})})},setSync:function(e,t){return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_SYNC_STORAGE",data:{key:e,value:t}},function(e){r(e)})})},getLocal:function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_LOCAL_STORAGE",data:{key:e}},function(r){var a=r[e]||{};t(a)})})},setLocal:function(e,t){return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_LOCAL_STORAGE",data:{key:e,value:t}},function(e){r(e)})})}},h={getManifest:function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"GET_MANIFEST_APP",data:{}},e)}).then(function(e){return e.data})}},g=function(e){var t=e.item;$J(".item-hover-name-tooltip").remove(),t.prop("title",SIHLang.market.blockBestOfferOfMarketplaceCopyItemName),t.css({display:"inline-block",cursor:"pointer"}),t.tooltip({position:{my:"center bottom",at:"center top"},tooltipClass:"name-tooltip item-hover-name-tooltip"}),t.off("click").click(function(){var t=$J(this);$J(".name-tooltip").css("opacity",".3").animate({opacity:"1"},"fast"),navigator.clipboard.writeText(e.marketHashName).then(function(){t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopiedItemName})}).catch(function(e){})}),t.mouseout(function(){t.tooltip("close"),t.tooltip({content:SIHLang.market.blockBestOfferOfMarketplaceCopyItemName})})},v=function(){function e(){a(this,e)}return e.getLoginSihAppUser=function(){return new Promise(function(e,t){sih_app_account?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_USER_INFO"},function(t){t.success&&Object.keys(t).length||chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_LOGIN_SIH_APP"},function(t){e(t)}),e(t.success&&Object.keys(t).length?t:{success:!1})}):e({success:!1,auth:!1})})},e.getUserSihApp=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_USER_AUTH_SIH_APP"},function(t){e(t)})})},e.getSubscribeAds=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHECK_SUBSCRIBE_ADS"},function(t){e(t)})})},e.getSubscribeAdsPlans=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_PLANS_SIH_APP"},function(t){e(t)})})},e.getDaysNumber=function(e){var t=(new Date).toUTCString(),r=new Date(""+t).getTime(),a=new Date(""+e).getTime(),n=a-r,i=Math.round(n/36e5);if(i>=24){return{days:Math.round(i/24)}}return{hours:i}},e.setItemToBuyStack=function(t){var r=t.hashName,a=void 0===r?null:r,n=t.countAdd,i=void 0===n?1:n,o=t.statusCode,d=void 0===o?null:o,l=t.steamId,c=void 0===l?null:l,u=t.appId,m=void 0===u?"730":u,p=t.price,_=void 0===p?null:p,h=t.image,g=t.url,v=t.gameName,S=void 0===v?"Counter-Strike 2":v,b=t.color,y=void 0===b?"rgb(210, 210, 210)":b;return new Promise(function(t,r){var n=f.a.getMarkets().find(function(e){return"sihmarket"===e.name});if(n||_){var o=_||f.a.getPriceMarket(n);if(o&&(o.price||_)){var l=s(),u=a||encodeURIComponent(l.marketHashName);e.getAllItemsBuyStackByName(u).then(function(n){for(var s=e.getFilterItemsByStatus(n,d),f=[],p=i>1?i-s.length:i,v=h||$J(".market_listing_largeimage").find("img").attr("src"),b=S||$J(".market_listing_nav > a:nth(0)").text(),I=y||$J("#largeiteminfo_item_name").css("color"),k=m&&a?m+"/"+a:l.appId+"/"+encodeURIComponent(l.marketHashName),J=0;J<p;J++){var C={appid:m||l.appId,market_hash_name:a?decodeURIComponent(a):l.marketHashName,price:_||o.price,providerName:"sih",steam_id:c||g_steamID,custom_trade_link:null,createdAt:Date.now()+J+1,image:v,url:g||window.location.href,gameName:b,hashMarket:k,color:I,isChecked:!0};null!==d&&(C.status=d),f.push(C)}e.getAllItemsBuyStackByName(u).then(function(a){var n,i=(n={},n[u]=[].concat(a,f),n);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:i},function(a){a.success?chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:{hashName:u}},function(a){a.success?e.getAllItemsBuyStackByName(u).then(function(e){t(e)}):r(a)}):r(a)})})})}}else a&&e.getAllItemsBuyStackByName(a).then(function(n){var s,o=e.getFilterItemsByStatus(n,d);if(o.length){for(var l=o.map(function(e){return e.createdAt}),c=o.find(function(e){return e.createdAt===Math.max.apply(Math,l)}),f=i>1?i-o.length:i,u=[],m=0;m<f;m++){var p=Object.assign({},c);p.createdAt=Date.now()+m+1,u.push(p)}var _=(s={},s[a]=[].concat(n,u),s);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_BUY_STACK_SIH_APP",data:_},function(e){e.success?t(_[a]):r(e)})}})})},e.deleteItemFromBuyStack=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(n,i){e.getAllItemsBuyStackByName(t).then(function(s){var o=e.getFilterItemsByStatus(s,a),d=o.length-(null!==r?r:o.length-1);chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_DELETE_LAST_BUY_STACK_SIH_APP",data:{hashName:t,statusCode:a,countDelete:d}},function(r){e.getAllItemsBuyStackByName(t).then(function(e){r.success?n(e):i(r)})})})})},e.getAllBuyStack=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ALL_BUY_STACK_SIH_APP"},function(t){e(t)})})},e.getAllItemsBuyStackByName=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_BUY_STACK_BY_NAME_SIH_APP",data:{hashName:e}},function(e){t(e)})})},e.getFilterItemsByStatus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter(function(e){return Array.isArray(t)?t.length?t.includes(e.status):!e.status:t?e.status===t:!e.status})||[]},e.updateSIHMarketPrice=function(){return new Promise(function(t,r){e.getAllBuyStack().then(function(e){var r=[];e.forEach(function(e){var t=e.market_hash_name;0!==r.length&&r.includes(t)||r.push(t)});var a={appId:730,markets:["sihmarket"],items:r};a.items.length>0?chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:a},function(e){var a=!e.success||!Object.keys(e.items).length;e.items||(e.items={});for(var n=r,i=Array.isArray(n),s=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(s>=n.length)break;o=n[s++]}else{if(s=n.next(),s.done)break;o=s.value}var d=o;if(a||!e.items[d]){var l,c={sihmarket:{price:null}};Object.assign(e.items,(l={},l[d]=c,l))}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_PRICE_ITEMS_BUY_STACK_SIH_APP",data:e},function(r){t({responsePrices:e,responseUpdate:r})})}):t()})})},e.changeItemsStatus=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CHANGE_STATUS_ITEM_BUY_STACK_SIH_APP",data:e},function(){t()})})},e.cancelSihAppOrder=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CANCEL_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.updateItemLocalHistoryOrders=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_UPDATE_LOCAL_ITEM_ORDER_SIH_APP",data:{orderId:e}},function(e){t(e)})})},e.getUserOrdersHistory=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return new Promise(function(a){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_ORDERS_HISTORY_SIH_APP",data:{isLocal:e,page:t,number:r}},function(e){a(e)})})},e.createBuyOrder=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_BUY_ORDER_SIH_APP"},function(t){e(t)})})},e.getTopSales=function(e){return new Promise(function(t){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_TOP_SALES",data:e},function(e){t(e)})})},e.getLogs=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_LOG"},function(t){e(t)})})},e.readAllNotification=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_READ_SIH_APP_LOG"},function(t){e(t)})})},e.renderTextLog=function(t){return(e._buyOrderErrorsEnum[t.error]?e._buyOrderErrorsEnum[t.error]+" <br>":t.error||t.message||SIHLang.sihAppMarket.orders.order+" № "+t.orderId+" "+SIHLang.sihAppMarket.orders.successful_operation+" <br>")+" "+(t.itemData?t.itemData.market_hash_name+" <br>":"")+" "+(t.itemData?SIHLang.sihAppMarket.orders.price+": "+t.itemData.price+" <br>":"")},e.getLogTemplateByGroup=function(t){var r=void 0;switch(t.groupType){case"bookmarks":var a=f.a._getLink(t.itemData.marketName||"buff163",t.itemData.appId||"730",t.itemData.market_hash_name,t.itemData.market_hash_name),n=b.getPriceFromCurrency(t.itemData.price,t.itemData.currencyId||1).text;r='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+t.title+'</span>\n                      <a href="'+a+'" target="_blank" class="text text_blue hover-opacity-8">'+t.itemData.market_hash_name+'</a>\n            </div>\n            <div class="row gap-5 items-end pb-2">\n\x3c!--                    TODO: Добавить проверку на data.itemData.marketName, если его нету, то иконку не рендерить (текущая иконка для теста)--\x3e\n                    <img class="notification-panel__icon" src="chrome-extension://'+SIHID+"/assets/marketplace/mini-icons/"+(t.itemData.marketName||"buff163")+'.svg" alt="'+(t.itemData.marketName||"buff163")+'">\n                    <span class="text text_green whitespace-nowrap">'+n+"</span>\n            </div>\n           ";break;default:r='\n            <div class="column gap-5 items-start pl-50">\n                      <span class="text">'+SIHLang.notifications[t.title]+'</span>\n                      <span class="text '+(t.success?"text_green":"text_red")+'">'+e.renderTextLog(t)+"</span>\n            </div>\n           "}return r},e.validateInput=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return isNaN(e)?r:e<=0?r:e>=t?Math.ceil(t):a?Math.floor(1e3*e)/1e3:Math.ceil(e)},e.getSubscribeAdsMethods=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SUBSCRIBE_ADS_METHODS_SIH_APP"},function(t){e(t)})})},e.getLinkForInvoice=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise(function(r){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_CREATE_INVOICE",data:{amount:e,method:t}},function(e){r(e)})})},e.updateTradeLink=function(e){chrome.runtime.sendMessage(window.SIHID,{type:"BACKGROUND_UPDATE_TRADELINK_SIH_APP",data:{link:e}})},e.getSihAppToken=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_SIH_APP_TOKEN"},function(t){e(t)})})},e.getAutoLoadFloats=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_GET_AUTO_LOAD_FLOATS"},function(t){e(t)})})},e.errorHandler=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Please, try again";a.toLowerCase().includes("invalid token or session is over")&&(e.text(SIHLang.subscribeAds.modal.reload_page),e.off("click").click(function(){window.location.reload()})),0===r.length?t.append('<span class="sih-modal__text sih-modal__error_message">Error! '+a+"</span>"):(r.text("Error! "+a),r.hasClass("blink")?(r.removeClass("blink"),setTimeout(function(){r.addClass("blink")},100)):r.addClass("blink")),e.removeClass("animated-background animated-background-btn"),t.show()},e}();v._buyOrderStatusEnum={ordering:SIHLang.sihAppMarket.orders.statuses.ordering,pending:SIHLang.sihAppMarket.orders.statuses.pending,new:SIHLang.sihAppMarket.orders.statuses.new,created:SIHLang.sihAppMarket.orders.statuses.created,processing:SIHLang.sihAppMarket.orders.statuses.processing,sent:SIHLang.sihAppMarket.orders.statuses.sent,finished:SIHLang.sihAppMarket.orders.statuses.finished,failed:SIHLang.sihAppMarket.orders.statuses.failed,penalized:SIHLang.sihAppMarket.orders.statuses.penalized},v._buyOrderErrorsEnum={"Not enough balance":SIHLang.sihAppMarket.orders.errors.not_enough_balance,"Time for refills is up":SIHLang.sihAppMarket.orders.errors.time_refills_up,"receiver failed":SIHLang.sihAppMarket.orders.errors.receiver_failed};var S=function(){function e(){a(this,e)}return e.sendItemData=function(e,t,r,a,n,i){try{var s=JSON.parse(JSON.stringify(e)),o=JSON.parse(JSON.stringify(s.buy_order_graph)),d=JSON.parse(JSON.stringify(s.sell_order_graph));if(!t||5!==a)return!1;if(!g_steamID)return!1;if(0===d.length)return;d.length>5?d.length=5:d.length,o.length>1?o.length=1:o.length;for(var l=[],c=d.length-1;c>=0;c--){var f=d[c][0],u=0!==c?d[c][1]-d[c-1][1]:d[c][1];l.unshift({price:f,count:u})}var m=o[0][0],p=o[0][1],_={app_id:t,hash_name:r,prices:l,steamid:g_steamID};if(o.length){var h={price:m,count:p};Object.assign(_,{buy_price:h})}if(n&&Object.keys(n).length&&Object.assign(_,{steamSoldData:n}),i){var g=["koreana","japanese","turkish"],v=void 0,S=void 0;"russian"===i?(v=+$J.parseHTML(s.buy_order_summary)[1].innerHTML,S=+$J.parseHTML(s.sell_order_summary)[1].innerHTML):g.includes(i)?(v=+$J(s.buy_order_summary)[2].innerHTML,S=+$J(s.sell_order_summary)[2].innerHTML):(v=+$J(s.buy_order_summary)[0].innerHTML,S=+$J(s.sell_order_summary)[0].innerHTML),_.orders={buy:v,sell:S}}chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_SET_USER_STEAM_PRICE",data:_})}catch(e){}},e}(),b=function(){function e(){a(this,e)}return e.getPriceFromCurrency=function(t,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.getCurrency(+r),s=e.getCurrency(+a),o=n?ExchangeSteamRates[i.strCode]:ExchangeRates._rates[i.strCode],d=n?ExchangeSteamRates[s.strCode]:ExchangeRates._rates[s.strCode];return"USD"===s.strCode&&t?"USD"!=i.strCode&&(t*=o)<.03&&(t=.03):s.strCode!=i.strCode&&t&&(t=t/d*o)<.03&&(t=.03),{price:t||0,code:i.strCode,symbol:i.strSymbol,text:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+(t?t.toFixed(2):0)+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),template:(i.bSymbolIsPrefix?""+i.strSymbol+i.strSymbolAndNumberSeparator:"")+"$price"+(i.bSymbolIsPrefix?"":""+i.strSymbolAndNumberSeparator+i.strSymbol),symbolPosition:i.bSymbolIsPrefix?"before":"after"}},e.getCurrency=function(e){var t=null;e=e||"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1;for(var r in m)if(m[r].eCurrencyCode===+e){t=m[r];break}return t},e.getCurrencyCodeSteam=function(){return"undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_currency||1},e}(),y=function e(){a(this,e)};y._skinWear=[{wearFull:"Factory New",wearShort:"FN",color:"#5EB648"},{wearFull:"Minimal Wear",wearShort:"MW",color:"#79D154"},{wearFull:"Field-Tested",wearShort:"FT",color:"#E3E15B"},{wearFull:"Well-Worn",wearShort:"WW",color:"#E9A75D"},{wearFull:"Battle-Scarred",wearShort:"BS",color:"#E05A59"}],y.getWearInfo=function(e){var t=y._skinWear.filter(function(t){return e.includes(t.wearFull)}),r=e.includes("StatTrak™"),a=e.includes("Souvenir");return t.length?u({},t[0],{name:e,stattrak:r,souvenir:a}):null},y.getSplitName=function(e){var t=e.split("|");return{skinTagName:t[0].replace(/StatTrak™/g,"").replace(/Souvenir/g,"").replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g,"").trim(),skinName:2===t.length?t[1]:t.splice(1,t.length).join("|")}};var I=function e(){a(this,e)};I.SELL_LISTING={},I.setItem=function(e){if(e){var t={sessionid:g_sessionID,steamid:g_steamID},r=e.appid+"/"+e.contextid,a=e.market_hash_name+"/"+e.price;if(Object.keys(I.SELL_LISTING).length){var n=I.SELL_LISTING.data.findIndex(function(e){return Object.keys(e)[0]===r});if(n>=0)if(I.SELL_LISTING.data[n][r].length){var i=I.SELL_LISTING.data[n][r].findIndex(function(e){return Object.keys(e)[0]===a});if(i<0){var s;I.SELL_LISTING.data[n][r].push((s={},s[a]=[e],s))}else{var o=I.SELL_LISTING.data[n][r][i][a].findIndex(function(t){return t.assetid===e.assetid});o<0&&I.SELL_LISTING.data[n][r][i][a].push(e)}}else{var d;I.SELL_LISTING.data[n][r].push((d={},d[a]=[e],d))}else{var l,c;I.SELL_LISTING.data.push((c={},c[r]=[(l={},l[a]=[e],l)],c))}}else{var f,u;I.SELL_LISTING={data:[(u={},u[r]=[(f={},f[a]=[e],f)],u)],userInfo:t}}}},I.removeItem=function(e){e&&I.SELL_LISTING&&I.SELL_LISTING.data&&I.SELL_LISTING.data.length&&I.SELL_LISTING.data.forEach(function(t,r){for(var a=Object.entries(t),n=Array.isArray(a),i=0,a=n?a:a[Symbol.iterator]();;){var s;if(n){if(i>=a.length)break;s=a[i++]}else{if(i=a.next(),i.done)break;s=i.value}var o=s,d=o[0],l=o[1];!function(t,a){a.forEach(function(a,n){for(var i=Object.entries(a),s=Array.isArray(i),o=0,i=s?i:i[Symbol.iterator]();;){var d;if(s){if(o>=i.length)break;d=i[o++]}else{if(o=i.next(),o.done)break;d=o.value}var l=d,c=l[0],f=l[1],u=f.findIndex(function(t){return t.assetid===e});u>=0&&(I.SELL_LISTING.data[r][t][n][c].splice(u,1),I.SELL_LISTING.data[r][t][n][c].length||(I.SELL_LISTING.data[r][t].splice(n,1),I.SELL_LISTING.data[r][t].length||I.SELL_LISTING.data.splice(r,1)))}})}(d,l)}})},I.resellItems=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESELL_ITEMS",data:I.SELL_LISTING},function(t){e()})})};var k=function e(){a(this,e)};k.BUY_ORDERS=[],k.setItem=function(e){if(e)if(k.BUY_ORDERS.length){var t=k.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e.payload.buy_orderid});-1===t&&k.BUY_ORDERS.push(e)}else k.BUY_ORDERS.push(e)},k.removeItem=function(e){if(e&&k.BUY_ORDERS.length){var t=k.BUY_ORDERS.findIndex(function(t){return t.payload.buy_orderid===e});-1!==t&&k.BUY_ORDERS.splice(t,1)}},k.createBuyOrders=function(){return new Promise(function(e){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_RESUBMIT_BUY_ORDER",data:k.BUY_ORDERS},function(t){e()})})}},1:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e){var t=0;if(g_plotPriceHistory&&Array.isArray(g_plotPriceHistory.data)&&g_plotPriceHistory.data.length>0&&Array.isArray(g_plotPriceHistory.data[0])){g_plotPriceHistory.data[0].forEach(function(r){var a=new Date(r[0]).getTime(),n=new Date;n.setDate(n.getDate()-e)<=a&&isFinite(r[2])&&(t+=parseFloat(r[2]))})}return t}function i(e){e=e||"",e=e.trim().replace(/[^0-9.,]/g,"").replace(/\.$/,"");var t=e.replace(/[^0-9]/g,"");return/[,\.]\d{2}$/.test(e)&&(t=t.replace(/(\d{2})$/,".$1")),isFinite(t)?+t:null}function s(e){}r.d(t,"a",function(){return l}),r.d(t,"c",function(){return c}),r.d(t,"b",function(){return f}),r.d(t,"j",function(){return u}),r.d(t,"k",function(){return m}),r.d(t,"i",function(){return p}),r.d(t,"g",function(){return _}),r.d(t,"h",function(){return h}),t.e=n,t.f=i,t.d=s;var o=r(0),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),l=function(){function e(){a(this,e)}return e._getMarkets=function(t,r,a){var n,i=e._markets.filter(function(e){return e.isView&&e.appIds.includes(t)});if(!window.sih_subscribe_ads){var s="undefined"!=typeof g_rgWalletInfo&&g_rgWalletInfo.wallet_country?g_rgWalletInfo.wallet_country:"US";i=["RU","BY"].includes(s)?"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?i.filter(function(e){if("dmarket"!==e.name&&"igxe"!==e.name)return e.name}):i.filter(function(e){return e.name}):["ZH","CN"].includes(s)?i.filter(function(e){return e.name}):"zh-TW"!==g_strCountryCode&&"zh-CN"!==g_strCountryCode?i.filter(function(e){return"igxe"!==e.name}):i.filter(function(e){return e.name})}i.forEach(function(n){n.link=e._getLink(n.name,t,r,a)});var o=e._markets.filter(function(e){return!e.isView});return(n=i).push.apply(n,o),i},e._getLink=function(e,t,r,a){var n="https://t.sih-db.com/15GzoA",i="",s="";if("csgocom"===e||"csgocomBuy"===e){switch(t){case"730":s="csgo.com";break;case"570":s="market.dota2.net";break;case"440":s="tf2.tm";break;case"252490":s="rust.tm";break;default:return}i=n+"?subid1="+encodeURIComponent("?s=price&t=all&search="+r+"&sd=asc")+"&subid2="+s+(a?"-side-menu":"")}if(["csmoney","csmoneyStore","csmoneyTrade"].includes(e)){var o=r.indexOf("™")>-1,d="csmoneyStore"===e?"store":"trade",l="csmoneyStore"===e?"market":"trade",c="utm_source=mediabuy&utm_medium=sih&utm_campaign="+l+"&utm_content=link";i=n+"?subid1="+encodeURIComponent("/csgo/"+d+"/?search="+r+"&isStatTrak="+o+"&sort=price&order=asc&"+c)+"%26&subid2=cs.money"+(a?"-side-menu":"")}if("skinport"===e){var f=r.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"-").replace(/^-+|-+$/g,""),u="";"570"===t?u="/dota2":"440"===t?u="/tf2":"252490"===t&&(u="/rust"),i=n+"?subid1="+encodeURIComponent(u+"/market?search="+f+"&sort=price&order=asc")+"&subid2=skinport"+(a?"-side-menu":"")}if("bitskins"===e){var m="";switch(t){case"730":m="csgo";break;case"570":m="dota2";break;case"440":m="tf2"}i=n+"?subid1="+encodeURIComponent(m+'?ref_alias=sihfree&search={"order":[{"field":"price","order":"ASC"}],"where":{"skin_name":"'+r+'"}}')+"&subid2=newBitskins"+(a?"-side-menu":"")}if("bitskinsp2p"===e){var p=r.replace(/ /g,"+");i=n+"?subid1="+encodeURIComponent('?search={"where":{"name":"'+p+'"}}')+"&subid2=p2p-bitskins"+(a?"-side-menu":"")}if("skinbaron"===e){r=r.replace("Souvenir Package","");var _="";"730"===t?_="/csgo":"440"===t&&(_="/tf2");i=n+"?subid1="+encodeURIComponent(_+"?str="+r+"&sort=CF")+"&subid2=skinbaron"+(a?"-side-menu":"")}if("shadowpay"===e){i=n+"?subid1="+encodeURIComponent("?search="+r)+"&subid2=shadowpay"+(a?"-side-menu":"")}if("waxpeer"===e){var h=r.toLocaleLowerCase().replace(/[|()™★]/g,"").replace(/\s{2,}/g," ").replace(/ /g,"-").replace(/&/g,"%26").replace(/cs:/g,"cs-"),g="";["252490"].includes(t)&&(g="rust/"),["440"].includes(t)&&(g="tf2/"),i=n+"?subid1="+g+h+"/item/&subid2=waxpeer"+(a?"-side-menu":"")}if("dmarket"===e&&["570","730","252490","440"].includes(t)){var v=r.replace(/[™★]/g,""),S="";"730"===t&&(S="csgo-skins"),"570"===t&&(S="dota2-skins"),"252490"===t&&(S="rust-skins"),"440"===t&&(S="tf2-skins");i=n+"?subid1="+encodeURIComponent("/ingame-items/item-list/"+S+"?title="+v)+"&subid2=dmarket"+(a?"-side-menu":"")}if("mannco"===e&&["440","730","570","252490"].includes(t)){var b="";if(r.indexOf("Unusual")>-1)b=encodeURIComponent("/market?e="+r+"&f=ASC&appid="+t);else{b="/item/"+t+"-"+r.replace(/[^a-zA-Z0-9 -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()}i=n+"?subid1="+b+"&subid2=manncostore"+(a?"-side-menu":"")}if("tradeit"===e&&["730","440","570","252490"].includes(t)){var y="";"730"===t&&(y="csgo"),"440"===t&&(y="tf2"),"570"===t&&(y="dota2"),"252490"===t&&(y="rust");i=n+"?subid1="+encodeURIComponent("/"+y+"/store?search="+r)+"&subid2=tradeit"+(a?"-side-menu":"")}if("tradeitDeposit"===e&&["730","440","570","252490"].includes(t)){var I="";"730"===t&&(I="csgo"),"440"===t&&(I="tf2"),"570"===t&&(I="dota2"),"252490"===t&&(I="rust");i=n+"?subid1="+encodeURIComponent("/"+I+"/trade?search="+r)+"&subid2=tradeit"+(a?"-side-menu":"")}if("cstrade"===e&&["440","570","730","252490"].includes(t)&&(i=n+"?subid1="+r+"&subid2=cstrade"+(a?"-side-menu":"")),"lootfarm"===e&&["440","570","730","252490"].includes(t)){i=n+"?subid1="+encodeURIComponent("#skin="+t+"_"+r)+"&subid2=lootfarm"+(a?"-side-menu":"")}if("swapgg"===e&&["440","570","730","252490"].includes(t)){i=n+"?subid1="+encodeURIComponent("/browse/"+t+"?search="+r.replace("|"," "))+"&subid2=swapgg"+(a?"-side-menu":"")}if("lisskins"===e&&["730","570","252490"].includes(t)){var k="";"730"===t&&(k="csgo"),"570"===t&&(k="dota2"),"252490"===t&&(k="rust");i=n+"?subid1="+encodeURIComponent("/"+k+"/?query="+r)+"&subid2=lisskins"+(a?"-side-menu":"")}if("buff163"===e&&["730"].includes(t)){var J="";"730"===t&&(J="csgo");i=n+"?subid1="+encodeURIComponent("/market/"+J+"#tab=selling&page_num=1&search="+r)+"&subid2=buff163"+(a?"-side-menu":"")}if("igxe"===e&&["730"].includes(t)){var C=r,$="";"730"===t&&($="csgo");i=n+"?subid1="+encodeURIComponent("/market/"+$+"?keyword="+C)+"&subid2=igxe"+(a?"-side-menu":"")}if("gamerpay"===e&&["730"].includes(t)){var L=r;i=n+"?subid1="+encodeURIComponent("/buy?query="+L)+"&subid2=gamerpay"+(a?"-side-menu":"")}if("skinsmonkey"===e&&["730"].includes(t)){var P=r;i=n+"?subid1="+encodeURIComponent("appId="+t+"&q="+P)+"&subid2=skinmonkey"+(a?"-side-menu":"")}if("skinsmonkeycash"===e&&["730"].includes(t)){var A=r;i=n+"?subid1="+encodeURIComponent("appId="+t+"&q="+A)+"&subid2=skinmonkey"+(a?"-side-menu":"")}if("skinout"===e&&["730"].includes(t)){i=n+"?subid1="+r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase()+"&subid2=skinout"+(a?"-side-menu":"")}if("whitemarket"===e&&["730"].includes(t)){i=n+"?subid1="+r+"&subid2=whitemarket"+(a?"-side-menu":"")}if("haloskins"===e&&["730"].includes(t)){i=n+"?subid1="+encodeURIComponent(r.replace(/&/,""))+"&subid2=haloskins"+(a?"-side-menu":"")}if("cs2go"===e&&["730"].includes(t)){i=n+"?subid1="+(t+"/"+r.replace(/[^a-zA-Z0-9★ -]/gi,"").replace(/\s{2,}/g," ").trim().replace(/ /gi,"-").toLowerCase())+"&subid2=cs2go"+(a?"-side-menu":"")}return i},e.getPriceMarket=function(e){var t=f.get(),r=!1,a=0,n=0,i=0,s=0,o=0,d=0;return e.data&&(i=e.data.price||0,s=e.data.count||0,e.data.locked&&(o=e.data.locked.price||0,d=e.data.locked.count||e.data.locked.locked||0)),t.isPriceLotsTradeLock?("A"===e.group&&(a=i,n=s),"B"===e.group&&(i?i>o&&o?(a=o,r=!0,n=d):(a=i,n=s):(a=o,n=d,r=!0)),"C"===e.group&&(a=o,n=d,r=!0)):"A"!==e.group&&"B"!==e.group||(a=i,n=s),{price:a,isLock:r,count:n}},e.makeNewData=function(){e._statusLoadMarkers=e._statusLoadMarkersEnum.NO_LOADING},e.loadMarkets=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e._statusLoadMarkers==e._statusLoadMarkersEnum.NO_LOADING){e._statusLoadMarkers=e._statusLoadMarkersEnum.LOADING;var n=null===t&&null===a?r.i(o.getPageParams)():{appId:t,marketHashName:a};if(n.marketHashName=decodeURIComponent(n.marketHashName),n){var i=_.get(),s=n.appId+"_"+n.marketHashName;if(sih_app_account&&(window.marketCacheTime=3e4),i[s]&&Date.now()-i[s].time<window.marketCacheTime)return e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,e._marketplace||(e._marketplace={}),void(e._marketplace.markets=i[s].data);var d=t&&a,l=e._getMarkets(n.appId,n.marketHashName,d),c={appId:n.appId,markets:l.map(function(e){return e.name}),items:[n.marketHashName]};chrome.runtime.sendMessage(SIHID,{type:"GET_PRICES_BY_MARKETPLACES",data:c},function(t){t&&t.success&&t.items?(e._statusLoadMarkers=e._statusLoadMarkersEnum.SUCCESS,t.items&&t.items[n.marketHashName]&&t.items[n.marketHashName].csmoney&&(t.items[n.marketHashName].csmoney.csmoneyStore&&(t.items[n.marketHashName].csmoneyStore=t.items[n.marketHashName].csmoney.csmoneyStore),t.items[n.marketHashName].csmoney.csmoneyTrade&&(t.items[n.marketHashName].csmoneyTrade=t.items[n.marketHashName].csmoney.csmoneyTrade)),e._marketplace={},e._marketplace.markets=l.map(function(e){return e.data=t.items[n.marketHashName]&&t.items[n.marketHashName][e.name],e}).filter(function(e){return!(!e.data||!(e.data.price||e.data.locked&&e.data.locked.price))}),i[s]={},i[s].data=e._marketplace.markets,i[s].time=Date.now(),_.set(i)):e._statusLoadMarkers=e._statusLoadMarkersEnum.ERROR})}}},e._getRandomInt=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},e.checkLoadMarkets=function(){var t=[e._statusLoadMarkersEnum.SUCCESS,e._statusLoadMarkersEnum.ERROR].includes(e._statusLoadMarkers);if(t){var r=f.get();r.market&&e.getMarkets().filter(function(e){return e.isView}).forEach(function(e){var t=r.market[e.name];t&&(e.depositPercentage=t.depositPercentage||0,e.fixedDepositPercentage=t.fixedDepositPercentage||0)})}return t},e.getMarkets=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e._marketplace?f.get().isPriceLotsTradeLock?e._marketplace.markets:e._marketplace.markets.filter(function(e){return"A"===e.group||"B"===e.group&&(e.data||{}).price}):[]},e.getMarketLowerPrice=function(){var t=null;if(e.checkLoadMarkets()&&e._marketplace&&Array.isArray(e._marketplace.markets)&&e._marketplace.markets.length>0){var r=f.get(),a=function(e,t){return t.isServiceCommission?1+(e||0)/100:1},n=function(e,t){return t.isServiceCommission?e||0:0},i=this.excludeBuyMarkets(e.getMarkets()).filter(function(e){return e.isView});i.length>1?t=i.reduce(function(t,i){var s=e.getPriceMarket(t),o=e.getPriceMarket(i);return s.price*a(t.depositPercentage,r)+n(t.fixedDepositPercentage,r)<o.price*a(i.depositPercentage,r)+n(i.fixedDepositPercentage,r)?t:i}):1===i.length&&(t=i[0])}return t},e.getOffersCount=function(e){var t=this;return this.excludeBuyMarkets(e).reduce(function(e,r){return e+t.getPriceMarket(r).count},0)},e.excludeBuyMarkets=function(e){var t=["csgocomBuy"];return e.filter(function(e){return!t.includes(e.name)})},d(e,null,[{key:"_markets",get:function(){return[{name:"waxpeer",isView:!0,appIds:["730","252490","440"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"dmarket",isView:!0,appIds:["570","730","252490","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csgocom",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csgocomBuy",isView:!0,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"csmoney",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"csmoneyStore",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"csmoneyTrade",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:2},{name:"skinport",isView:!0,appIds:["730","570","440","252490"],depositPercentage:0,link:null,data:null,group:"B",sort:"B"},{name:"bitskins",isView:!0,appIds:["730","570","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"skinbaron",isView:!0,appIds:["730","440"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"shadowpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"mannco",isView:!0,appIds:["440","730","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"B"},{name:"tradeit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"tradeitDeposit",isView:!0,appIds:["730","440","570","252490"],depositPercentage:2,link:null,data:null,group:"A",sort:"A",priorityPosition:0},{name:"cstrade",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lootfarm",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"swapgg",isView:!0,appIds:["440","570","730","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"lisskins",isView:!0,appIds:["730","570","252490"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"buff163",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"cs2go",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"haloskins",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"igxe",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"gamerpay",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"skinsmonkey",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinsmonkeycash",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"A",priorityPosition:1},{name:"skinout",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"B"},{name:"bitskinsp2p",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"A",sort:"C"},{name:"whitemarket",isView:!0,appIds:["730"],depositPercentage:2,link:null,data:null,group:"B",sort:"C"},{name:"steamprices",isView:!1,appIds:["730","570","440","252490"],depositPercentage:2,link:null,data:null,group:"B"},{name:"sihmarket",isView:!1,appIds:["730"],link:null,data:null,group:"B"}]}}]),e}();l._statusLoadMarkersEnum={NO_LOADING:"no_loading",LOADING:"loading",ERROR:"error",SUCCESS:"success"},l._statusLoadMarkers=l._statusLoadMarkersEnum.NO_LOADING,l._marketplace=null;var c={"Factory new":{id:"FN",color:"#5EB648",min:0,max:.07},"Minimal Wear":{id:"MW",color:"#79D154",min:.07,max:.15},"Field-Tested":{id:"FT",color:"#E3E15B",min:.15,max:.38},"Well-Worn":{id:"WW",color:"#E9A75D",min:.38,max:.45},"Battle-Scarred":{id:"BS",color:"#E05A59",min:.45,max:1}},f={_name:"SIH_MARKETPLACE_BANNERS",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},u={_name:"SIH_CONTROL_PANEL_MARKET_LISTINGS",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},m={_name:"SIH_MARKET_COMMODITY_ORDER_SPREAD",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},p={_name:"SIH_SEARCH_PAINT_SEED_AND_FLOAT_V3",get:function(){return o.localStorageJSON.get(this._name)},set:function(e){o.localStorageJSON.set(this._name,e)}},_={_name:"SIH_MARKETPLACES_CACHE",get:function(){return o.localStorageJSON.get(this._name)||{}},set:function(e){o.localStorageJSON.set(this._name,e)}},h={_name:"SIH_PRICE_HISTORY_GRAPH",get:function(){return o.localStorageJSON.get(this._name)},set:function(e){o.localStorageJSON.set(this._name,e)}}},118:function(e,t,r){"use strict";function a(e){c(e),f(e),m(),u(),p(),_(e),h(),g(),r.i(k.b)("reload")}function n(){var e=r.i(y.GetDataFromLocalStorage)();i(),r.i(J.a)(),r.i(k.c)(),r.i(C.b)(),r.i(I.a)(),o(),d(),s(e.autoLoadMarketPrice)}function i(){var e=$J(location).attr("href"),t=r.i(y.GetDataFromLocalStorage)(),a='\n    <div class="sih_filter filter  '+("lite"===t.mode?"absolute":"")+'">\n      <div class="filter_column">\n        '+("lite"!==t.mode?'\n           <div class="filter_row">\n                <span class="text text_bold"> '+(e.includes("sent")?SIHLang.tradeoffers.filter.title_sent:SIHLang.tradeoffers.filter.title_incoming)+"</span>\n           </div>\n        ":"")+'\n\n        <div class="filter_row filter_row--between">\n           <div class="filter_row filter--left-side">\n           </div>\n\n          '+("lite"!==t.mode?'<div class="filter_row">\n             <button class="filter_page minimized active">\n              <svg width="17" height="14" viewBox="0 0 17 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0V2H17V0H0ZM0 6H17V4H0V6ZM0 14H17V12H0V14ZM0 10H17V8H0V10Z" fill="white"/>\n              </svg>\n            </button>\n            <button class="filter_page full">\n              <svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M0 0H18V6H0V0ZM0 8H18V14H0V8Z" fill="white"/>\n              </svg>\n            </button>\n          </div>':"")+"\n\n        </div>\n      </div>\n    </div>\n  ";e.match("privacy")||e.includes("tradetopics")||("lite"!==t.mode?$J(".profile_leftcol").prepend(a):$J(".profile_small_header_texture").append(a))}function s(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.i(y.GetDataFromLocalStorage)();if(!t||!t.autoLoadMarketPrice||t.autoLoadMarketPrice){t.autoLoadMarketPrice=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function o(){var e=r.i(y.GetHeightFirstRightControlsContent)();$J(".filter").height(e+10)}function d(){var e=r.i(y.GetDataFromLocalStorage)();if(!e.markets||e.markets){var t=r.i(y.GetMarkets)();e.markets=t||[];var a=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a={};r.i(y.GetLimitedTradeofferList)().find(".trade_item").each(function(t,r){r.rgItem&&ExternalPrices[r.rgItem.appid]&&(a=Object.assign(a,ExternalPrices[r.rgItem.appid].apis.find(function(t){return t.name.toLowerCase()===e})),0===Object.keys(a).length&&(a=Object.assign(a,ExternalPrices[730].apis.find(function(t){return t.name.toLowerCase()===e}))))}),r.i(y.GetAllPrice)(null,!1,!0,a,t)}function c(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,r){$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,r){if(0!==$J(r).children(".tradeoffer_item_list").find(".trade_item").length){var a=[],n=$J(r).find(".price_flag");$J(n).each(function(e,t){if(!$J(t).hasClass("original")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==a.length&&a.includes(r)||a.push(r)}});var i=$J(r).find(".sih_lot_item");$J(i).each(function(t,r){1===t&&($J(r).find(".icon").remove(),$J(a).each(function(t,a){e.toLowerCase()===a?$J(r).append('<span class="icon '+a+'"></span>'):$J(r).prepend('<span class="icon '+a+'"></span>')}))})}})})}function f(e){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).each(function(t,r){var a=[];$J(r).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,n){if(0!==$J(n).children(".tradeoffer_item_list").find(".trade_item").length){var i=$J(n).find(".price_flag");$J(i).each(function(e,t){if(!$J(t).hasClass("original")){var r=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"");0!==a.length&&a.includes(r)||a.push(r)}});var s=$J(r).find(".sih_tradeoffer_items_rule_price");$J(s).each(function(r,n){t===r&&($J(n).find(".icon").remove(),$J(a).each(function(t,r){e.toLowerCase()===r?$J(n).children(".row").children(".icons").append('<span class="icon '+a[t]+'"></span>'):$J(n).children(".row").children(".icons").prepend('<span class="icon '+a[t]+'"></span>')}))})}})})}function u(){var e=r.i(S.GetTotalPriceForActiveMarket)();($J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer")).find(".sih_lot").each(function(t,r){0!==$J(r).parent().find(".trade_item").length&&$J(r).find(".sih_lot_item").each(function(r,a){if(1===r){$J(a).find(".text").remove();var n=b.Currency.getPriceFromCurrency(+e[t],currencyId,currencyId).text;$J(a).append('<span class="text">'+n+"</span>")}})})}function m(){var e=r.i(S.GetTotalPriceForActiveMarket)();($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".sih_tradeoffer_items_rule_price").each(function(t,r){$J(r).find(".rule_total_price").remove();var a=b.Currency.getCurrency(currencyId),n=(+e[t]).toLocaleString("ru-RU").replace(/,/,".").trim(),i=n.split(".");$J(r).children(".row").append('<div class="rule_total_price" data-total-price="'+e[t]+'"><span class="text">'+i[0]+"</span></div>"),i.length>1&&$J(r).children(".row").find(".rule_total_price").append('<span class="text text_light">.'+i[1]+"</span>"),a.bSymbolIsPrefix?$J(r).children(".row").find(".rule_total_price").prepend('<span class="text">'+a.strSymbol+" </span>"):$J(r).children(".row").find(".rule_total_price").append('<span class="text"> '+a.strSymbol+"</span>")})}function p(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var r=[],a=void 0,n=void 0;$J(t).find(".rule_total_price").each(function(e,t){var a=$J(t).data().totalPrice;r.push(+a)});var i=$J(t).find(".sih_tradeoffer_items_rule_percent");if($J(i).find(".text").remove(),$J(i).hasClass("normal")?$J(i).removeClass("normal"):$J(i).hasClass("profit")?$J(i).removeClass("profit"):$J(i).hasClass("lose")&&$J(i).removeClass("lose"),$J(location).attr("href").includes("sent"))if(0===r[0]&&0===r[1])$J(i).prepend('<span class="text rule-percent">0</span>'),$J(i).attr("data-profit-price","0"),$J(i).attr("data-profit-percent","0");else if(0===r[0]){a=100,i.addClass("profit"),$J(i).prepend('<span class="text rule-percent">'+Math.abs(a)+"%</span>");var s=b.Currency.getPriceFromCurrency(+r[1],currencyId,currencyId).text;$J(i).attr("data-profit-price",""+s),$J(i).attr("data-profit-percent",""+Math.abs(a))}else if(0===r[1]){a=-100,i.addClass("lose"),$J(i).prepend('<span class="text rule-percent">'+Math.abs(a)+"%</span>");var o=b.Currency.getPriceFromCurrency(+r[0],currencyId,currencyId).text;$J(i).attr("data-profit-price","-"+o),$J(i).attr("data-profit-percent",""+Math.abs(a))}else{n=100*r[1]/r[0]-100,a=n,$J(i).prepend('<span class="text rule-percent">'+Math.abs(a.toFixed(2))+"%</span>");var d=b.Currency.getPriceFromCurrency(+(r[1]-r[0]).toFixed(2),currencyId,currencyId).text;$J(i).attr("data-profit-price",""+d),$J(i).attr("data-profit-percent",""+Math.abs(a)),a>3?($J(i).find(".text").text(Math.abs(a.toFixed(2))+"%"),$J(i).attr("data-profit-percent",""+Math.abs(a)),$J(i).addClass("profit")):a<-3?$J(i).addClass("lose"):a>-3&&a<3&&$J(i).addClass("normal")}else if(0===r[0]&&0===r[1])$J(i).prepend('<span class="text rule-percent">0</span>'),$J(i).attr("data-profit-price","0"),$J(i).attr("data-profit-percent","0");else if(0===r[1]){a=100,i.addClass("profit"),$J(i).prepend('<span class="text rule-percent">'+Math.abs(a)+"%</span>");var l=b.Currency.getPriceFromCurrency(+r[0],currencyId,currencyId).text;$J(i).attr("data-profit-price",""+l),$J(i).attr("data-profit-percent",""+Math.abs(a))}else if(0===r[0]){a=-100,i.addClass("lose"),$J(i).prepend('<span class="text rule-percent">'+Math.abs(a)+"%</span>");var c=b.Currency.getPriceFromCurrency(+r[1],currencyId,currencyId).text;$J(i).attr("data-profit-price","-"+c),$J(i).attr("data-profit-percent",""+Math.abs(a))}else{n=100*r[0]/r[1]-100,a=n,$J(i).prepend('<span class="text rule-percent">'+Math.abs(a.toFixed(2))+"%</span>");var f=b.Currency.getPriceFromCurrency(+(r[0]-r[1]).toFixed(2),currencyId,currencyId).text;$J(i).attr("data-profit-price",""+f),$J(i).attr("data-profit-percent",""+Math.abs(a)),a>3?($J(i).find(".text").text(Math.abs(a.toFixed(2))+"%"),$J(i).addClass("profit")):a<-3?$J(i).addClass("lose"):a>-3&&a<3&&$J(i).addClass("normal")}})}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=$J(".sih_tradeoffer.active_single_trade").length>0?$J(".sih_tradeoffer.active_single_trade"):$J(".sih_tradeoffer"),r=RegExp("[0-9]*[.,]?[0-9]+");t.each(function(t,a){$J(a).children(".tradeoffer_items_ctn").children(".tradeoffer_items").each(function(t,n){var i={};if(0!==$J(n).children(".tradeoffer_item_list").find(".trade_item").length){var s=$J(n).find(".price_flag");$J(s).each(function(e,t){if($J(t).hasClass("steam")||$J(t).hasClass("dmarket")||$J(t).hasClass("buff163")||$J(t).hasClass("bitskins")||$J(t).hasClass("skinport")||$J(t).hasClass("mannco")){var a=$J(t).attr("class").replace(/price_flag /g,"").replace(/default/g,"").trim(),n=t.dataset.price.match(r);if(i[a]||Object.keys(i)==a)i[a].price+=+n,i[a].count++;else{var s;i=Object.assign(i,(s={},s[a]={price:+n,count:1},s))}}});var o=$J(a).find(".sih_tradeoffer_items_rule_price");$J(o).each(function(r,a){if(t===r){$J(a).find(".tooltip").remove(),$J(a).append('\n              <div class="tooltip">\n                <div class="tooltip-title">'+SIHLang.tradeoffers.cost+'</div>\n                <div class="tooltip-column"></div>\n              </div>\n              ');var n=$J(a).find(".tooltip .tooltip-column");for(var s in i){var o=b.Currency.getPriceFromCurrency(+i[s].price.toFixed(2),currencyId,currencyId).text;s===e?n.prepend('<div class="tooltip-row"> <span >'+SIHLang.tradeoffers.items+" "+i[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>"):n.append('<div class="tooltip-row"> <span>'+SIHLang.tradeoffers.items+" "+i[s].count+'</span> <span class="icon '+s+'"></span><span>'+o+"</span></div>")}}})}})})}function h(){($J(".sih_tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var r=$J(t).find(".sih_tradeoffer_items_rule_percent");r.find(".profit_info").remove();var a=void 0;a=$J(r[0]).data()?r[0].dataset.profitPrice:0,r.hasClass("profit")?r.append('<span class="profit_info">+'+a+"</span>"):r.append('<span class="profit_info">'+a+"</span>")})}function g(){($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).each(function(e,t){var r=$J(t).find(".sih_tradeoffer_items_rule_percent"),a=$J(t).find(".accept_trade");a.find(".profit-price").remove();var n=void 0;n=$J(r[0]).data()?r[0].dataset.profitPrice:0,r.hasClass("profit")?a.append('<span class="profit-price profit">+'+n+"</span>"):a.append('<span class="profit-price lose">'+n+"</span>")})}Object.defineProperty(t,"__esModule",{value:!0}),t.AfterResponse=a,t.load=n,t.SetStateAutoLoadMarketPriceToLocalStorage=s,t.SetPriceForItemsActiveMarket=l;var v=r(290),S=(r.n(v),r(44)),b=r(0),y=r(24),I=r(249),k=r(150),J=r(248),C=r(207)},150:function(e,t,r){"use strict";function a(){i(),s(),o()}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request",t=arguments[1],r=$J(".tradeoffer.single_price_loaded"),a=$J(".filter_load-price-market");if(0!==r.length||window.location.href.includes("history")){r.find(".sih_tradeoffer_footer").find(".sih_load_price_single").each(function(t,r){var a=$J(r);a.hasClass("reload")||"reload"!==e||(a.addClass("reload"),a.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(a.removeClass("reload"),a.text(SIHLang.market.requestPrice))})}else{var n=$J(".sih_tradeoffer_footer").find(".sih_load_price_single");a.hasClass("reload")||"reload"!==e||(a.addClass("reload"),a.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload),n.addClass("reload"),n.text(SIHLang.tradeoffers.filter.reload)),"request"===e&&(a.removeClass("reload"),a.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice),n.removeClass("reload"),n.text(SIHLang.market.requestPrice))}t&&("reload"===e?(a.addClass("reload"),a.find(".filter_load-price-market--text").text(SIHLang.tradeoffers.filter.reload)):(a.removeClass("reload"),a.find(".filter_load-price-market--text").text(SIHLang.market.requestPrice)))}function i(){var e=$J(".sih_filter"),t=r.i(c.GetDataFromLocalStorage)(),a='\n    <div class="filter_load-price">\n                <a href="javascript:void(0)" class="filter_switcher-load-price '+(t.autoLoadMarketPrice?"on":"")+'"></a>\n                <a href="javascript:void(0)" class="filter_load-price-market">\n                <span class="text text_tiny filter_load-price-market--text">'+SIHLang.market.requestPrice+'</span>\n                <span class="text text_tiny--fs7 filter_auto-load-price '+(t.autoLoadMarketPrice?"text_green":"")+'">'+(t.autoLoadMarketPrice?""+SIHLang.market.auto:""+SIHLang.market.manual)+"</span>\n                </a>\n    </div>\n  ";e.find(".filter_price").before(a)}function s(){$J(".filter").find(".filter_switcher-load-price").off("click").click(function(){var e=$J(".filter_load-price-market"),t=$J(this);t.toggleClass("on"),e.children(".filter_auto-load-price").toggleClass("text_green"),t.hasClass("on")?e.children(".filter_auto-load-price").text(""+SIHLang.market.auto):e.children(".filter_auto-load-price").text(""+SIHLang.market.manual);var a=r.i(c.GetDataFromLocalStorage)();r.i(u.SetStateAutoLoadMarketPriceToLocalStorage)(!a.autoLoadMarketPrice)})}function o(){$J(".filter").find(".filter_load-price-market").off("click").click($J.debounce(250,function(){$J(this).hasClass("reload")?(SteamBySihSource._cache={},MarketplaceSource._cache={},$J(".sih_tradeoffer.single_price_loaded").each(function(e,t){$J(t).hasClass("active_single_trade")||$J(t).addClass("active_single_trade")})):n("reload",!0),r.i(c.GetDataFromLocalStorage)().autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),r.i(f.SetFlagForLoadedSIHMarket)(),r.i(f.SetFlagForLoadedMarket)(),r.i(c.AddPreloadersAndHideBlocks)(),r.i(c.GetAllPrice)()}))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){e.find(".trade_item").each(function(e,t){if(t.rgItem){var r=t.rgItem.market_hash_name;Object.values(MarketplaceSource._cache).forEach(function(e){Object.values(e).forEach(function(e){e[r]&&delete e[r]})}),Object.values(SteamBySihSource._cache.steam).forEach(function(e){e[r]&&delete e[r]})}})}}t.c=a,t.b=n,t.a=d;var l=r(293),c=(r.n(l),r(24)),f=r(44),u=r(118)},197:function(e,t,r){"use strict";function a(){n(),setTimeout(function(){s(),i(),o()},100)}function n(){$J(".tradeoffer_footer").each(function(){var e=$J(this).html(),t=e.replace(/\|/," ");$J(this).html(t)}),$J(".tradeoffer_footer").contents().filter(function(){return 3===this.nodeType}).remove(),$J(".tradeoffer_footer").addClass("sih sih_tradeoffer_footer minimized"),$J(location).attr("pathname").includes("sent")||$J(".tradeoffer_footer_actions").append('<a class="accept_trade whiteLink" href="javascript:void(0);"><span>'+SIHLang.tradeoffers.fast_accept+"</span></a>"),0===$J(".tradeoffer_footer").find(".tradeoffer_footer_actions").length&&$J(".tradeoffer_footer").prepend('<div class="tradeoffer_footer_actions"></div>')}function i(){var e=r.i(c.GetDataFromLocalStorage)();if(e&&e.mode&&"lite"===e.mode){$J(".profile_leftcol").find(".tradeoffer_footer").each(function(e,t){var r=$J(t),a=r.parent().find(".tradeoffer_items_ctn").css("background");r.find(".tradeoffer_footer_actions").find("a").css("background",a)})}}function s(){var e=$J(".tradeoffer");0===e.find(".sih_load_price_single").length&&e.find(".tradeoffer_footer_actions").prepend("<a href='javascript:void(0)' class=\"whiteLink tradeoffer_footer_actions sih_load_price_single\">"+SIHLang.market.requestPrice+"</a>"),e.find(".sih_load_price_single").click($J.debounce(250,function(){var t=$J(this);if(t.hasClass("reload")){var a=void 0;a=e.hasClass("lite history")?t.parent().parent().parent().parent():t.parent().parent().parent(),r.i(f.a)(a)}else t.addClass("reload"),t.text(SIHLang.tradeoffers.filter.reload);$J(".tradeoffer").removeClass("active_single_trade");var n=void 0;n=e.hasClass("lite history")?t.parent().parent().parent().parent().parent():t.parent().parent().parent(),n.addClass("single_price_loaded active_single_trade"),r.i(l.SetFlagForLoadedSIHMarket)(),r.i(l.SetFlagForLoadedMarket)(),r.i(c.AddPreloadersAndHideBlocks)(n),r.i(c.GetAllPrice)(null,!1,!0,{name:"Steam",sort:13},n)}))}function o(){$J(".profile_leftcol").find(".tradeoffer.lite.history").each(function(e,t){var r=$J(t),a=r.find(".tradeoffer_items_banner");r.find(".tradeoffer_footer").appendTo(a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a,t.RenderLoadMarketPriceManualSingle=s;var d=r(295),l=(r.n(d),r(44)),c=r(24),f=r(150)},198:function(e,t,r){"use strict";function a(){i(),l()}function n(){setTimeout(function(){s(),o(),d()},100)}function i(){$J(".tradeoffer_items_ctn").addClass("sih_tradeoffer_items_ctn"),$J(".tradeoffer_items").addClass("sih_tradeoffer_items"),$J(".trade_item").addClass("sih_trade_item item");$J(".trade_item").append('\n  <div class="item-info">\n    <div class="float-data"></div>\n    <div class="p-price"></div>\n    <span class="animated-background small fake-price"></span>\n  </div>\n  ')}function s(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").each(function(e,t){e>=3&&$J(t).addClass("hidden"),3===e&&$J(t).after('\n            <div class="sih_trade_item show-items">\n                <div class="item_row">\n                   <span class="text text_grey count-items"></span>\n                </div>\n                <div class="item_row">\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                    <span class="item_dot"></span>\n                </div>\n            </div>\n          ')})})}function o(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){var r=$J(t).find(".trade_item.hidden");$J(t).find(".count-items").text("+"+r.length)})}function d(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_item_list").each(function(e,t){$J(t).find(".show-items").click(function(){var e=this,t=$J(this).parent().parent().parent().find(".trade_item.hidden");$J(this).parent().parent().parent().find(".show-items").remove(),t.each(function(t,r){$J(r).hasClass("hidden")&&($J(r).removeClass("hidden"),$J(e).remove())})})})}function l(){$J(".sih_tradeoffer").find(".tradeoffer_item_list div").each(function(e,t){var r=$J(t);[r.attr("style")].includes("clear: left;")&&r.remove()})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a,t.ModifyItemList=n;var c=r(296);r.n(c)},199:function(e,t,r){"use strict";function a(){n(),o()}function n(){var e=r.i(l.GetLimitedTradeofferList)();e.each(function(e,t){var r=$J(t).find(".tradeoffer_items_rule");0!==r.length||$J(t).hasClass("lite")?r.addClass("sih_tradeoffer_items_rule"):0!==$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="tradeoffer_items_rule sih_tradeoffer_items_rule"></div>')});$J(".sih_tradeoffer_items_rule").append('\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n     </div>\n   </div>\n   <div class="sih_tradeoffer_items_rule_percent">\n   </div>\n   <div class="sih_tradeoffer_items_rule_price">\n     <div class="row">\n        <div class="icons"></div>\n      </div>\n   </div>\n  '),e.find(".sih_tradeoffer_items_rule_price").append('<span class="animated-background"></span>'),e.find(".sih_tradeoffer_items_rule_percent").append('<div class="animated-background-profit"></div>')}function i(){$J(".sih_tradeoffer_header").append('<div class="column"></div>'),$J(".tradeoffer").each(function(e,t){var r=$J(t).find(".sih_tradeoffer_header").children(".column"),a=$J(t).find(".tradeoffer_items_rule");if($J(a).hasClass("tradeoffer_items_rule"))$J(a).appendTo(r);else{$J(t).find(".tradeoffer_items.primary").after('<div class="tradeoffer_items_rule"></div>');var n=$J(t).find(".tradeoffer_items_rule");$J(n).appendTo(r)}}),s()}function s(){setTimeout(function(){var e=0;$J(".tradeoffer_item_list").each(function(t,r){e=$J(r).find(".trade_item").length;var a=void 0;$J(location).attr("pathname").includes("sent")?t%2==0?(a=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(a).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(a=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(a).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):t%2==0?(a=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[0],$J(a).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>")):(a=$J(r).parent().parent().parent().children().children(".column").children().children(".sih_tradeoffer_items_rule_price")[1],$J(a).append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+e+" "+SIHLang.tradeoffers.units+")</span>"))})},1)}function o(){var e=$J(".profile_leftcol"),t=window.location.href;e.find(".tradeoffer.lite").find(".sih_tradeoffer_items_rule").each(function(e,r){$J(r).find(".sih_tradeoffer_items_rule_price").each(function(e,r){var a=$J(r);if(t.includes("sent"))if(0===e){var n=a.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;a.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+n+" "+SIHLang.tradeoffers.units+")</span>")}else{var i=a.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;a.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+i+" "+SIHLang.tradeoffers.units+")</span>")}else if(0===e){var s=a.parent().parent().find(".tradeoffer_items.primary").find(".trade_item").length;a.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.lots+" ("+s+" "+SIHLang.tradeoffers.units+")</span>")}else{var o=a.parent().parent().find(".tradeoffer_items.secondary").find(".trade_item").length;a.append('<span class="text text_small text_silver rule_lots">'+SIHLang.tradeoffers.your_lots+" ("+o+" "+SIHLang.tradeoffers.units+")</span>")}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a,t.RelocateRuleBlock=i;var d=r(297),l=(r.n(d),r(24))},207:function(e,t,r){"use strict";function a(){c(),f(),u(),m()}t.b=a,r.d(t,"a",function(){return p});var n=r(292),i=(r.n(n),r(24)),s=r(252),o=r(36),d=[],l=void 0,c=function(){var e=$J(".sih_filter"),t=r.i(i.GetDataFromLocalStorage)(),a=$J('\n    <div class="filter_load-float">\n                <div class="filter_load-float--inner">\n                  <div class="filter_load-float--buttons row '+(_apikey?"":"disabled")+'">\n\x3c!--                  TODO: check load balancing float--\x3e\n\x3c!--                      <a href="javascript:void(0)" class="filter_switcher-load-float '+(t.autoLoadFloat?"on":"")+'"></a>--\x3e\n                      <a href="javascript:void(0)" class="filter_load-float-btn">\n                          <span class="text text_tiny filter_load-float-market--text">'+SIHLang.inventory.title9+'</span>\n\n\x3c!--                  TODO: check load balancing float--\x3e\n\x3c!--                           <span class="text text_tiny&#45;&#45;fs7 filter_auto-load-float '+(t.autoLoadFloat?"text_green":"")+'">'+(t.autoLoadFloat?""+SIHLang.market.auto:""+SIHLang.market.manual)+'</span>--\x3e\n\n                          <span class="text text_tiny--fs7 filter_auto-load-float">'+SIHLang.market.manual+"</span>\n                      </a>\n                  </div>\n                </div>\n    </div>\n  "),n=$J('\n                    <div class="float-info row '+(_apikey?"hidden":"")+'">\n                        <div class="float-info__inner">\n                           <span class="float-info__text text">'+SIHLang.tradeoffers.filter.enter_float_text_1+'</span>\n                           <a href="javascript:void(0)" class="text text_blue setting-url">'+SIHLang.tradeoffers.filter.enter_float_text_2+"</a>\n                         </div>\n                    </div>"),s="chrome-extension://"+SIHID+"/dist/index.html#/settings/general";n.find(".setting-url").click(function(){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_OPEN_TAB_SETTINGS",data:{url:s}},function(){})}),"lite"!==t.mode?a.find(".filter_load-float--inner").append(n):$J(".sih_filter .filter_column").append(n),e.find(".filter_price").after(a)},f=function(){$J(".filter").find(".filter_switcher-load-float").off("click").click(function(){var e=$J(".filter_load-float-btn"),t=$J(this);t.toggleClass("on"),e.children(".filter_auto-load-float").toggleClass("text_green"),t.hasClass("on")?e.children(".filter_auto-load-float").text(""+SIHLang.market.auto):e.children(".filter_auto-load-float").text(""+SIHLang.market.manual);var a=r.i(i.GetDataFromLocalStorage)();a.autoLoadFloat=!a.autoLoadFloat,r.i(i.SetDataToLocalStorage)(a)})},u=function(){r.i(i.GetDataFromLocalStorage)()},m=function(){$J(".filter").find(".filter_load-float-btn").off("click").click(function(){p()})},p=function(){var e={active_only:1,get_received_offers:1,get_sent_offers:1,get_descriptions:1};!d.length&&_apikey&&chrome.runtime.sendMessage(SIHID,{type:"GetLastTrades",data:e},function(e){if(e.success){var t=_(e,location.href.includes("sent")?["trade_offers_sent"]:["trade_offers_received"]);h(e,t),v()}else $J(".filter_load-float--buttons").addClass("disabled"),$J(".float-info").removeClass("hidden"),$J(".float-info__text").text(""),$J(".setting-url").text(SIHLang.tradeoffers.filter.update_float_text_1)}),l&&l.length&&g(l)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=[];return t.forEach(function(t){e.response[t]&&e.response[t].forEach(function(e){if(e.items_to_give&&e.items_to_give.forEach(function(t){a.push({tradeofferid:e.tradeofferid,steamid:g_steamID,assetid:t.assetid,classid:t.classid})}),e.items_to_receive){var t=r.i(s.a)(e.accountid_other);e.items_to_receive.map(function(r){a.push({tradeofferid:e.tradeofferid,steamid:t,assetid:r.assetid,classid:r.classid})})}})}),a},h=function(e,t){e.response.descriptions.forEach(function(e){var a=r.i(s.b)(e.tags);e.actions&&a&&t.forEach(function(t){if(e.classid===t.classid){e.actions[0].link=e.actions[0].link.replace("%assetid%",t.assetid).replace("%owner_steamid%",t.steamid);-1===d.findIndex(function(t){return t&&t.actions[0].link===e.actions[0].link})&&d.push(e)}})})},g=function(e){$J(".tradeoffer").each(function(t,a){var n=$J(a);n.find(".tradeoffer_items").each(function(t,a){var i=$J(a);i.find(".trade_item").each(function(t,a){var s=$J(a),d=s.attr("data-economy-item").split("/");if(5===d.length&&d.pop(),3===d.length||4===d.length){var l=d[2],c=d[3],f=e.find(function(e){return e.classid===l&&e.instanceid===c});f&&!s.find(".float-value").length&&(s.find(".float-data").append('\n\n        <div class="float-item__row float-item__row transparent">\n          <span class="rating-pos">'+r.i(o.GetRatingPos)(f.iteminfo)+'</span>\n          <span class="paintseed">'+f.iteminfo.paintseed+'</span>\n        </div>\n        <div class="float-item__row">\n            <span class="float-value">'+(n.hasClass("minimized")?f.iteminfo.floatvalue.toFixed(4):n.hasClass("lite")&&i.hasClass("secondary")?f.iteminfo.floatvalue.toFixed(10):f.iteminfo.floatvalue.toFixed(13))+"</span>\n        </div>\n        "),r.i(o.loadForInventory)(f,s))}})})})},v=function(){Promise.all(d.map(function(e,t){return new Promise(function(r,a){setTimeout(function(){e.actions[0].link&&S(e.actions[0].link).then(function(t){t?(e.iteminfo=t.iteminfo,r(e)):a()}).catch(function(){a()})},Math.floor(25*Math.random()+10)*(t+1))})})).then(function(e){e&&e.length&&(g(e),l=e)})},S=function(e){return new Promise(function(t,r){chrome.runtime.sendMessage(SIHID,{type:"floatvalue",data:e},function(e){e&&e.success?t(e):r(e)})})}},214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"RenderLatestSelectedFriends",function(){return i}),r.d(t,"SaveLatestFriend",function(){return s}),r.d(t,"LocalStorageLatestFriends",function(){return d});var a=r(298),n=(r.n(a),r(0)),i=function(){o()},s=function(e){var t=d.get(),r=e.data("miniprofile");if(t.length){var a=t.findIndex(function(e){return e.miniProfile===r});-1===a?(t.push({miniProfile:r,ts:Date.now()}),t.length>10&&t.sort(function(e,t){return t.ts-e.ts}).splice(t.length-1,1)):t[a].ts=Date.now()}else t.push({miniProfile:r,ts:Date.now()});d.set(t)},o=function(){var e=($J(".newmodal:visible").addClass("sih-friends"),$J(".newmodal_content").addClass("sih_newmodal_content")),t=e.find(".player_list_ctn"),r=$J(".newmodal_header:visible"),a=$J('\n    <div class="sih-friends__header sih-global">\n        <div class="sih-friends__powered"></div>\n    </div>\n  ');if(!r.find(".sih-friends__header").length){r.append(a);r.find(".title_text").appendTo(".sih-friends__header")}var n=$J('\n    <div class="sih-latest-friends sih-global">\n        <div class="row justify-between">\n            <span class="text text_light-grey">'+SIHLang.tradeoffers.latest_friends.title+'</span>\n        </div>\n\n         <div class="sih-latest-friends__content"></div>\n    </div>\n  '),i=d.get();if(i.length)i.sort(function(e,t){return t.ts-e.ts}).forEach(function(e){var r=t.find(".friendBlock[data-miniprofile="+e.miniProfile+"]");if(r.length){var a=$J(r[0].outerHTML);a.off("click").click(function(){r.trigger("click")}),n.find(".sih-latest-friends__content").append(a)}});else{var s=$J('<span class="text text_white">'+SIHLang.tradeoffers.latest_friends.empty_list+"</span>");n.find(".sih-latest-friends__content").append(s)}t.before(n)},d={_name:"SIH_LATEST_FRIENDS",get:function(){return n.localStorageJSON.get(this._name)||[]},set:function(e){n.localStorageJSON.set(this._name,e)}}},215:function(e,t,r){"use strict";function a(){n(),i()}function n(){var e=r.i(o.GetLimitedTradeofferList)(),t='\n        <div class="row">\n            <div class="sih_lot_item">\n                <span class="icon default"></span>\n                <a href="javascript:void(0);" class="offer_price text text_blue">'+SIHLang.tradeoffers.load_prices+'</a>\n            </div>\n            <div class="sih_lot_item">\n                <span class="icon"></span>\n                <span class="text"></span>\n            </div>\n        </div>';$J(".tradeoffer_items_header").addClass("sih sih_lot"),$J(".sih_lot").append(t),e.find(".sih_lot_item .icon").after('<span class="animated-background small"></span>')}function i(){$J(".tradeoffer_item_list").each(function(e,t){var r=0;r=$J(t).find(".trade_item").length,$J(t).parent().children(".sih_lot").children(".row").each(function(e,t){$J(t).prepend('<span class="text">'+SIHLang.tradeoffers.lots+" - "+r+" |</span>")})})}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a;var s=r(299),o=(r.n(s),r(24))},216:function(e,t,r){"use strict";function a(){var e='\n    <div class="sih_panel_mode row">\n      <div class="sih_bg"></div>\n      <div class="sig_status_container">\n       <a href="javascript:void(0)" class="sih_status_button '+(IS_ENABLED_SIH?"on":"off")+'" data-enabled="'+IS_ENABLED_SIH+'">\n                <div class="sih_status_icon"></div>\n                <div class="sih_status_text">SIH '+(IS_ENABLED_SIH?"ON":"OFF")+'</div>\n      </a>\n\n        <a href="#" class="sih_help_button hidden">\n          <span class="sih_help_icon"></span>\n        </a>\n      </div>\n      <div class="sih_tradeoffer_mode">\n          <a href="javascript:void(0)" class="sih_tradeoffer_mode_button lite">Lite</a>\n          <a href="javascript:void(0)" class="sih_tradeoffer_mode_button full">Full</a>\n      </div>\n    </div>';$J(".profile_small_header_texture").append(e),$J(".sih_panel_mode").fadeIn("slow"),$J(".sih_panel_mode").css("display","flex"),n(),i()}function n(){$J(".sih_status_button").click(function(){var e=$J(this).data("enabled");SetCookie(COOKIE_ENABLED_SIH,!e,365,"tradeoffers"),window.location.reload()})}function i(){var e=$J(".sih_tradeoffer_mode");s(),e.find(".sih_tradeoffer_mode_button").each(function(e,t){$J(t).off("click").click(function(){var e=r.i(d.GetDataFromLocalStorage)(),t=$J(this);t.hasClass("lite")&&!t.hasClass("active")?(t.addClass("active").siblings().removeClass("active"),e.mode="lite",r.i(d.SetDataToLocalStorage)(e),window.location.reload()):t.hasClass("full")&&!t.hasClass("active")&&(t.addClass("active").siblings().removeClass("active"),e.mode="full",r.i(d.SetDataToLocalStorage)(e),window.location.reload())})})}function s(){var e=$J(".sih_tradeoffer_mode"),t=r.i(d.GetDataFromLocalStorage)();!t||t&&!t.mode?(e.find(".sih_tradeoffer_mode_button.lite").addClass("active"),t.mode="lite",r.i(d.SetDataToLocalStorage)(t)):e.find(".sih_tradeoffer_mode_button."+t.mode).addClass("active")}Object.defineProperty(t,"__esModule",{value:!0}),t.loadHtml=a;var o=r(300),d=(r.n(o),r(24))},217:function(e,t,r){"use strict";function a(){}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a;var n=r(301);r.n(n)},218:function(e,t,r){"use strict";function a(){var e=r.i(s.GetDataFromLocalStorage)();n(),r.i(o.SetFlagForLoadedSIHMarket)(),r.i(o.SetFlagForLoadedMarket)(),e.autoLoadMarketPrice&&r.i(s.GetAllPrice)(),r.i(s.InitializationFastAcceptTrade)()}function n(){var e=$J(".profile_leftcol"),t=window.location.href;e.find(".tradeoffer").addClass("lite"),t.includes("history")&&e.find(".tradeoffer").addClass("history")}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a;var i=r(303),s=(r.n(i),r(24)),o=r(44)},24:function(e,t,r){"use strict";function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=s();e?(t.length=e,t.addClass("single_price_loaded active_single_trade"),D=t.find(".trade_item").length):D=t.find(".trade_item").length}function n(e,t,r,a){x++;var n=0,i=1;if(t){if(e.rgItem=P({},t,{prefix:r}),$J(e).addClass("app"+e.rgItem.appid),"730"===e.rgItem.appid)for(var s=e.rgItem.descriptions,o=Array.isArray(s),d=0,s=o?s:s[Symbol.iterator]();;){var f;if(o){if(d>=s.length)break;f=s[d++]}else{if(d=s.next(),d.done)break;f=d.value}var u=f;if(u.value.includes("sticker_info")){var m=u.value,p=$J.parseHTML(m);n=$J(p[1]).find("img").length;var _='<div class="sih_trade_item_sticker">\n                            <span>'+n+"</span>\n                         </div>";$J(e).append(_)}}var h=e.rgItem.appid;0!==T.length&&T.includes(h)||T.push(h);var g=$J(".tradeoffer.active_single_trade");if(g.length>=1){var v=[];g.each(function(e,t){var r=$J(t);T.forEach(function(e){0!==r.find("div.item.app"+e).length&&(v.includes(e)||v.push(e))})}),T=v}x===D&&(a.name&&"steam"===a.name.toLowerCase()?$J(T).each(function(e,t){a.nameForApi="steamLiveSell",MarketplaceSource.GetPrices(t,{market:a.name,currencies:[],nameMarkerForApi:a.nameForApi,marketSort:a.sort},!1,function(){if(i!==T.length)i++;else{var e=l();e.isSteamBySIHLoaded=!0,c(e)}},!0)}):$J(T).each(function(e,t){MarketplaceSource.GetPrices(t,{market:a.name,currencies:[],nameMarkerForApi:a.nameForApi,marketSort:a.sort},!1,function(){if(i!==T.length)i++;else{var e=l();e.isMarketLoaded=!0,c(e)}},!0)}))}}function i(){return["steam","buff163","dmarket","bitskins","skinport","mannco"]}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e)return D=e.find(".trade_item").length,e;var t=$J(".tradeoffer.single_price_loaded");if(0===t.length){var r=$J(".tradeoffer");return D=r.find(".trade_item").length,r}return D=t.find(".trade_item").length,t}function o(e,t){var r=void 0,a=$J(e).parent().parent().find(".offer_price"),n=$J(e).parent().parent().find(".steam-total-price"),i=RegExp("[0-9]*[.,]?[0-9]+"),s=t.lowestPrice.match(i);s=s?s[0].replace(/,/g,"."):0,1===a.length?(r=0,r+=+s,$J(a).replaceWith('<span class="text steam-total-price">'+r.toFixed(2)+"</span>")):(r=+$J(n).text(),r+=+s,$J(n).text(r.toFixed(2)))}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments[3];if(e.rgItem)return void(r?n(e,e.rgItem,e.rgItem.prefix,a):(e.inited=!0,b(e.rgItem.prefix,e.rgItem,e)));var i=t.split("/");if(5===i.length&&i.pop(),3==i.length||4==i.length){r||(e.inited=!0);var s=null,o=i[0];if("classinfo"==o){o=i[1];s="economy/itemclasshover/"+o+"/"+i[2]+"/"+(i.length>3?i[3]:0),s+="?content_only=1&l=english"}else{var d=i[1],l=i[2];if(null!=A[o+"/"+d+"/"+l])return;var s="economy/itemhover/"+o+"/"+d+"/"+l;if(s+="?content_only=1&omit_owner=1&l=english",4==i.length&&i[3]){var c=i[3];0==c.indexOf("id:")?s+="&o_url="+c.substr(3):s+="&o="+c}}$J.ajax({url:window.location.protocol+"//steamcommunity.com/"+s,cache:!0,data:{l:"english"}}).done(function(t){var i=/BuildHover\( '(.*)', (.*)\);/i.exec(t);if(null!==i){var s=i[1],o=JSON.parse(i[2]);r?n(e,o,s,a):b(s,o,e)}}).error(function(t){n(e,null,null,a)})}}function l(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function c(e){var t=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",t)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();setTimeout(function(){t.find(".animated-background").fadeOut(),t.find(".animated-background-profit").fadeOut(),t.find(".p-price").show(),t.find(".rule_total_price").css("opacity",1),t.find(".icons").css("opacity",1),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",1),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",1),$J(t).children(".text").css("opacity",1)})},500)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e?s(e):s();window.location.href.includes("history")&&t.length>w&&(t.length=w),t.hasClass("lite")||(t.find(".animated-background").fadeIn(),t.find(".animated-background-profit").fadeIn()),t.find(".p-price").hide(),t.find(".sih_tradeoffer_items_rule_percent span").height(50),t.find(".sih_tradeoffer_items_rule_percent span").css("opacity",0),t.find(".rule_total_price").css("opacity",0),t.find(".icons").css("opacity",0),t.find(".sih_lot_item").each(function(e,t){$J(t).children(".icon").css("opacity",0),$J(t).children(".text").css("opacity",0)})}function m(){s().each(function(e,t){var r=$J(t).find(".sih_tradeoffer_items_rule_percent");r[0]&&"100"===r[0].dataset.profitPercent&&r.hasClass("profit")?$J(t).addClass("profit"):$J(t).removeClass("profit")})}function p(){var e=void 0;return $J(".rightcol_controls_content").each(function(t,r){0===t&&(e=$J(r).outerHeight())}),e}function _(){var e=window.location.href,t=$J("body").prop("outerHTML");if(e.includes("history")||e.includes("sent")){if(!e.includes("sent")){chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers/?history=1",txtResponse:t}})}}else{chrome.runtime.sendMessage(SIHID,{type:"BACKGROUND_TRADEOFFER_THROUGH_PARSING",data:{endPoint:"tradeoffers",txtResponse:t}})}}function h(){$J(".tradeoffer_footer").find("a").click(function(){var e=$J(this).attr("href");if(e.match(/DeclineTradeOffer/g)){var t=e.match(/\d+/g)[0];setTimeout(function(){$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){chrome.runtime.sendMessage(window.SIHID,{type:"TradeCancel",data:{offerId:t}})})},100)}})}function g(e,t){for(var r=0;r<t.length;r++)if(e.includes(t[r])){var a=t[r].replace(/\\u/,"").trim(),n=String.fromCharCode(parseInt(a,16));e=e.replace(t[r],n)}return e}function v(){var e=null;$J("#create_new_url_btn").click(function(){setTimeout(function(){var t=$J("#trade_offer_access_url").val();$J(".newmodal_content").find(".btn_green_steamui.btn_medium").click(function(){e=setInterval(function(){var r=$J("#trade_offer_access_url").val();t!==r&&(clearInterval(e),L.SihAppGlobal.updateTradeLink(r))},100)})},100)})}function S(e,t){(null!==t&&void 0!==t?t:$J('div[data-economy-item*="'+e.appid+"/"+e.classid+(e.instanceid?"/"+e.instanceid:"")+'"]')).parent(".tradeoffer_item_list").each(function(e,t){var r=$J(this),a=r.find(".total_price"),n=0,i=0,s=0,o=0;r.find(".trade_item").each(function(e){o++;var t=this.rgItem;if(t){if(t.lowestPrice){var r=parseInt(100*parseFloat(getPriceAsInt(t.lowestPrice))),a=window.PriceUtils.publisherFee(t,g_rgWalletInfo,.1),l=CalculateFeeAmount(r,a);i+=(r-l.fees)/100,n+=parseFloat(getPriceAsInt(t.lowestPrice))}"undefined"!=t.gemPrices&&null!=t.gemPrices&&$J.each(t.gemPrices,function(e,t){s+=parseFloat(getPriceAsInt(t.lowestPrice))})}null==this.inited&&d(this,$J(this).attr("data-economy-item"))});var l=formatNumberV2(n)+" ("+formatNumberV2(i)+")";s>0&&(l+=" - Gems total price: "+formatNumberV2(s)),l+=' <span style="float: right; padding-right: 15px">'+o+" item(s)</span>",r.find(".price-flag.no-price").length>0&&a.addClass("warning"),a.html(l)})}function b(e,t,r){var a=$J(r).children(".p-price"),n=$J(a).find(".price_flag.original");if(!t.marketable){$J(n).fadeOut("slow");var i=$J('<div class="price_flag"><span>&nbsp No price</span></div>');return i.addClass("no-price"),void $J(r).children(".p-price").prepend(i)}getLowestPriceHandler(t,e,function(e){var t=$J(r).find(".p-price");t.css("display","flex").show();var a=t.find(".price_flag.original");0==t.find(".price-flag").length&&(setTimeout(function(){a.attr("data-price",""+e.lowestPrice),a.find(".animated-background.silver").fadeOut("slow")},500),S(e,t),o(r,e))}),A[t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")]=t,$J('div[data-economy-item*="'+t.appid+"/"+t.classid+(t.instanceid?"/"+t.instanceid:"")+'"]').each(function(e,r){this.rgItem=t})}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]?arguments[3]:{name:"Steam",sort:13}),i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;x=0;var o=l();if(e)e.find(".trade_item").each(function(){var e=this;if(null==e.inited){d(e,$J(e).attr("data-economy-item"));var r=$J(e).find(".p-price");$J(r).prepend('<div class="price_flag original"><span class="animated-background silver small fake-price"></span></div>')}else t&&(e.inited=null,d(e,$J(e).attr("data-economy-item")))});else{if(i){var c=s(i);c.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,n,c)})}else{var f=s();window.location.href.includes("history")&&(f.length>w&&(f.length=w),a(f.length)),f.find(".trade_item").each(function(e,t){d(t,$J(t).attr("data-economy-item"),!0,n)})}if(!o.isMarketLoaded&&n.name&&"steam"===n.name.toLowerCase())var u=setInterval(function(){var e=l();e.isSteamBySIHLoaded&&(clearInterval(u),"steam"!==e.market&&r.i(C.SetPriceForItemsActiveMarket)(e.market,i),I(i))},100);else I(i)}}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=setInterval(function(){var a=l();a.isMarketLoaded&&"steam"!==a.market&&ExchangeRates._rates?(clearInterval(t),r.i(C.AfterResponse)(a.market),f(e),m()):a.isSteamBySIHLoaded&&"steam"===a.market&&ExchangeRates._rates&&(clearInterval(t),r.i(C.AfterResponse)(a.market),f(e),m())},100)}function k(){setTimeout(function(){$J(".accept_trade").click(function(){if($J(this).prop("disabled"))return!1;var e=$J(this).parent().parent().parent(),t=$J(e).find(".sih_tradeoffer_footer"),r="",a="",n=$J(e).prop("id").substring(13),i=$(e).find(".btn_report").attr("onclick").match(/'(\d*)',\s"(.+)"/),s=i[1];if(_tradesTimers[n])return window.clearInterval(_tradesTimers[n].timer),_tradesTimers[n]=null,$J(this).html(SIHLang.tradeoffers.fast_accept),!1;if(window.qadelay)_tradesTimers[n]={timer:window.setInterval(function(){return H(n,s)},1e3),remain:window.qadelay},$J(this).html(SIHLang.cancel+" "+(window.qadelay<10?"0":"")+window.qadelay);else if(0==window.qadelay){var o=$J(this);o.html(SIHLang.tradeoffers.accepting),o.prop("disabled",!0),O(n,s).then(function(e){e.needs_mobile_confirmation||e.needs_email_confirmation?r=SIHLang.tradeoffers.mobile_confirmation:(a="accepted",r=SIHLang.tradeoffers.trade_accepted),t.find(".tradeoffer_footer_actions").hide()}).catch(function(e){r=SIHLang.tradeoffers.not_accept}).finally(function(){o.remove(),t.append('<div class="tradeoffer_items_banner '+a+'" style="margin: 0; position: relative; width: 100%">'+r+"</div>")})}return!1})},200)}Object.defineProperty(t,"__esModule",{value:!0}),t.GetMarkets=i,t.GetLimitedTradeofferList=s,t.GetDataFromLocalStorage=l,t.SetDataToLocalStorage=c,t.AddPreloadersAndHideBlocks=u,t.GetHeightFirstRightControlsContent=p,t.sendTradeofferTxtToBackground=_,t.removeDeclinedOfferFromSihWindow=h,t.getHexFromUnicode=g,t.sendTradeLinkToBackground=v,t.GetAllPrice=y,t.InitializationFastAcceptTrade=k;var J=r(287),C=(r.n(J),r(118)),L=r(0),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},A={},w=10,x=0,T=[],D=void 0;a();var H=function(e,t){if(_tradesTimers[e]){var r=_tradesTimers[e].remain,a=$J("#tradeofferid_"+e).find(".accept_trade"),n=$J("#tradeofferid_"+e).find(".sih_tradeoffer_footer"),i="",s="";0==r?(a.html(SIHLang.tradeoffers.accepting),a.prop("disabled",!0),window.clearInterval(_tradesTimers[e].timer),O(e,t).then(function(e){e.needs_mobile_confirmation||e.needs_email_confirmation?i=SIHLang.tradeoffers.mobile_confirmation:(s="accepted",i=SIHLang.tradeoffers.trade_accepted),n.find(".tradeoffer_footer_actions").hide()}).catch(function(e){i=SIHLang.tradeoffers.not_accept}).finally(function(){a.remove(),n.append('<div class="tradeoffer_items_banner '+s+'" style="margin: 0; position: relative; width: 100%">'+i+"</div>")})):(r--,_tradesTimers[e].remain=r,a.html(SIHLang.cancel+" "+(r<10?"0":"")+r))}},O=function(e,t){return new Promise(function(r,a){var n=new Headers;n.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var i=new Request("https://steamcommunity.com/tradeoffer/"+e+"/accept",{method:"POST",headers:n,referrer:"https://steamcommunity.com/tradeoffer/"+e+"/",body:"sessionid="+g_sessionID+"&serverid=1&tradeofferid="+e+"&partner="+t+"&captcha="});fetch(i).then(function(e){if(e.ok)return e.json();a({status:e.status,statusText:e.statusText})}).then(function(e){r(e)}).catch(function(e){a(e)})})}},246:function(e,t,r){"use strict";function a(){return'\n<div class="fake-tradeoffer fake-tradeoffer-full" >\n    <div class="header">\n       <div class="user">\n       <div class="row">\n         <div class="avatar"></div>\n           <div class="column">\n              <span class="text"></span>\n           </div>\n       </div>\n        <span class="text"></span>\n       </div>\n       <div class="rule">\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n          <div class="profit"></div>\n          <div class="column">\n            <div class="fake-lots"></div>\n            <div class="price"></div>\n          </div>\n        </div>\n       <div class="report"></div>\n\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="spliter">\n        <div class="line"></div>\n        <div class="circle"></div>\n        <div class="line"></div>\n    </div>\n    <div class="fake-lots">\n        <span class="text"></span>\n        <div class="row">\n          <span class="text"></span>\n          <span class="text"></span>\n          <span class="text"></span>\n        </div>\n    </div>\n    <div class="items">\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n        <div class="item"></div>\n    </div>\n    <div class="footer">\n      <div class="button"></div>\n      <div class="button"></div>\n      <div class="button"></div>\n    </div>\n</div>\n '}t.a=a;var n=r(288);r.n(n)},247:function(e,t,r){"use strict";function a(){return'\n<div class="fake-tradeoffer fake-tradeoffer-minimized" >\n    <div class="header">\n        <div class="user">\n            <div class="row">\n              <div class="avatar"></div>\n              <div class="column">\n                <span class="text"></span>\n                <span class="text"></span>\n                <span class="text"></span>\n              </div>\n            </div>\n\n        </div>\n        <div class="rule">\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n          <div class="column">\n           <div class="fake-lots"></div>\n           <div class="price"></div>\n          </div>\n        </div>\n    </div>\n    <div class="items">\n      <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n       <div class="column">\n        <div class="row">\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n          <div class="item"></div>\n        </div>\n      </div>\n    </div>\n    <div class="footer">\n        <div class="button"></div>\n        <div class="button"></div>\n        <div class="button"></div>\n    </div>\n</div>\n '}t.a=a;var n=r(289);r.n(n)},248:function(e,t,r){"use strict";function a(){var e=r.i(l.GetDataFromLocalStorage)();n(),o(e.market),s(e.market),i()}function n(){$J(".sih_filter").find(".filter--left-side").append('\n       <div class="filter_price">\n                  <select id="filter_price_select" class="filter_price_select"></select>\n       </div>\n  '),r.i(l.GetMarkets)().forEach(function(e){$J(".filter_price_select").append('<option class="filter_price_option '+e+'"><span>'+("steam"===e?"Steam (bySIH)":e)+"</span></option>")}),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var r=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),a=$J("<div>",{text:t.label});return t.disabled&&r.addClass("ui-state-disabled"),r.append(a).appendTo(e)}}),$J(".filter_price_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("filter_price_widget_content")}}})}function i(){$J("#filter_price_select-button").click(function(){var e=r.i(l.GetDataFromLocalStorage)();$J(".filter_price_widget_content").find(".filter_price_option").each(function(t,a){$J(a).off("click").click(function(){var t=$J(this).attr("class").replace(/ui-menu-item|filter_price_option/g,"").trim();o(t),s(t),"steam"===t&&r.i(c.SetFlagForLoadedSIHMarket)(),e.autoLoadMarketPrice&&(r.i(c.SetFlagForLoadedMarket)(),r.i(l.AddPreloadersAndHideBlocks)(),setTimeout(function(){r.i(f.SetPriceForItemsActiveMarket)(t)},100))})})})}function s(e){setTimeout(function(){$J("#filter_price_select-button").find(".ui-selectmenu-text").addClass(e)},1)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"steam",t=r.i(l.GetDataFromLocalStorage)();if(!t||!t.market||t.market){t.market=e;var a=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",a)}}t.a=a;var d=r(291),l=(r.n(d),r(24)),c=r(44),f=r(118)},249:function(e,t,r){"use strict";function a(){n(),i()}function n(){var e=$J(".sih_filter"),t='\n            <div class="sorting_tradeoffers">\n               <select id="sorting_tradeoffers_select" class="sorting_tradeoffers_select">\n                  <option class="sorting_tradeoffers_option" value="new"><span>'+SIHLang.tradeoffers.filter.sort.time_new+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="old"><span>'+SIHLang.tradeoffers.filter.sort.time_old+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_desc"><span>'+SIHLang.tradeoffers.filter.sort.profit_desc+'</span></option>\n                  <option class="sorting_tradeoffers_option" value="profit_asc"><span>'+SIHLang.tradeoffers.filter.sort.profit_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_asc"><span>'+SIHLang.tradeoffers.filter.sort.name_asc+'</span></option>\n                   <option class="sorting_tradeoffers_option" value="name_desc"><span>'+SIHLang.tradeoffers.filter.sort.name_desc+"</span></option>\n               </select>\n             </div>\n";e.find(".filter_load-price").before(t),$J.widget("custom.selectMenuWithIcons",$J.ui.selectmenu,{_renderItem:function(e,t){var r=$J("<li>",{class:t.element.attr("class"),value:t.element.attr("value")}),a=$J("<div>",{text:t.label});return t.disabled&&r.addClass("ui-state-disabled"),u()||"profit_desc"!==t.value&&"profit_asc"!==t.value||a.append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>"),r.append(a).appendTo(e)}}),$J(".sorting_tradeoffers_select").selectMenuWithIcons({position:{my:"left top",at:"left bottom+10",using:function(e,t){$J(this).css(e),$J(this).addClass("sorting_tradeoffers_widget_content")}}})}function i(){$J(".sih_filter").find("#sorting_tradeoffers_select-button").click(function(){$J(".sorting_tradeoffers_widget_content").find(".sorting_tradeoffers_option").each(function(e,t){var r=$J(t),a=u();"profit_desc"!==r.attr("value")&&"profit_asc"!==r.attr("value")||(a?r.find(".sih_need-load-price").remove():0===r.find(".sih_need-load-price").length&&r.find(".ui-menu-item-wrapper").append('<span class="sih_need-load-price">'+SIHLang.tradeoffers.filter.sort.price_request+"</span>")),r.off("click").click(function(){switch($J(this).attr("value")){case"new":s(-1);break;case"old":s(1);break;case"profit_desc":o(-1);break;case"profit_asc":o(1);break;case"name_asc":window.location.href.includes("sent")?l(1):d(1);break;case"name_desc":window.location.href.includes("sent")?l(-1):d(-1)}})})})}function s(e){var t=r.i(p.GetDataFromLocalStorage)(),a=t.mode,n="lite"!==a?$J(".tradeoffer_list"):$J(".profile_leftcol"),i=n.find(".tradeoffer");i.sort(function(t,r){var a=$J(t).attr("id").substring(13)||0,n=$J(r).attr("id").substring(13)||0;return+a>+n?1*e:+a<+n?-1*e:0}),i.detach().appendTo(n)}function o(e){var t=r.i(p.GetDataFromLocalStorage)(),a="lite"!==t.mode?$J(".tradeoffer_list"):$J(".profile_leftcol"),n=a.find(".tradeoffer");if(u()||t.isMarketLoaded||t.isSteamBySIHLoaded)n.sort(function(t,r){var a=$J(t).find(".sih_tradeoffer_items_rule_percent"),n=$J(r).find(".sih_tradeoffer_items_rule_percent"),i=(a.hasClass("lose")?-a.attr("data-profit-percent"):+a.attr("data-profit-percent"))||0,s=(n.hasClass("lose")?-n.attr("data-profit-percent"):+n.attr("data-profit-percent"))||0;return i>s?1*e:i<s?-1*e:0}),n.detach().appendTo(a);else{!t.autoLoadMarketPrice&&window.location.href.includes("history")&&(n.length>10&&(n.length=10),n.each(function(e,t){$J(t).addClass("active_single_trade single_price_loaded")})),t.autoLoadMarketPrice||$J(".tradeoffer").removeClass("active_single_trade single_price_loaded"),r.i(_.SetFlagForLoadedSIHMarket)(),r.i(_.SetFlagForLoadedMarket)(),r.i(p.AddPreloadersAndHideBlocks)(),r.i(p.GetAllPrice)();var i=setInterval(function(){var t=r.i(p.GetDataFromLocalStorage)();t.isMarketLoaded&&t.isSteamBySIHLoaded&&"steam"!==t.market&&(clearInterval(i),setTimeout(function(){return o(e)},300)),t.isSteamBySIHLoaded&&"steam"===t.market&&(clearInterval(i),setTimeout(function(){return o(e)},300))},100)}}function d(e){var t=r.i(p.GetDataFromLocalStorage)(),a=t.mode,n="lite"!==a?$J(".tradeoffer_list"):$J(".profile_leftcol"),i=n.find(".tradeoffer");i.sort(function(t,r){var a=$J(t).find(".btn_report"),n=$J(r).find(".btn_report"),i=c(a),s=c(n);return 1===e?i.toUpperCase().localeCompare(s.toUpperCase()):s.toUpperCase().localeCompare(i.toUpperCase())}),i.detach().appendTo(n)}function l(e){var t=r.i(p.GetDataFromLocalStorage)(),a=t.mode,n="lite"!==a?$J(".tradeoffer_list"):$J(".profile_leftcol"),i=n.find(".tradeoffer");i.sort(function(t,r){var n="lite"!==a?$J(t).find(".tradeoffer_items.secondary .sih_lot"):$J(t).find(".tradeoffer_items.secondary .tradeoffer_items_header"),i="lite"!==a?$J(r).find(".tradeoffer_items.secondary .sih_lot"):$J(r).find(".tradeoffer_items.secondary .tradeoffer_items_header"),s=f(n),o=f(i);return 1===e?s.toUpperCase().localeCompare(o.toUpperCase()):o.toUpperCase().localeCompare(s.toUpperCase())}),i.detach().appendTo(n)}function c(e){if(1===e.length){var t=e.attr("onclick").match(/'(\d*)',\s"(.+)"/),a=t[2],n=a.match(/\\u[\w\d]{4}/g);return n?r.i(p.getHexFromUnicode)(a,n):a}}function f(e){if(1===e.length){return e.contents()[0].data}}function u(){var e=$J(".sih_tradeoffer"),t=!1;return e.find(".sih_tradeoffer_items_rule_percent").each(function(e,r){$J(r).attr("data-profit-percent")&&(t=!0)}),t}t.a=a;var m=r(294),p=(r.n(m),r(24)),_=r(44)},250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(24),n=r(216),i=r(118),s=r(44),o=r(198),d=r(215),l=r(199),c=r(197),f=r(0),u=r(217),m=r(218),p=r(214);r.d(t,"profileHeader",function(){return u}),r.d(t,"common",function(){return a}),r.d(t,"panelMode",function(){return n}),r.d(t,"filter",function(){return i}),r.d(t,"tradeoffer",function(){return s}),r.d(t,"items",function(){return o}),r.d(t,"lots",function(){return d}),r.d(t,"itemsRule",function(){return l}),r.d(t,"footer",function(){return c}),r.d(t,"global",function(){return f}),r.d(t,"tradeofferLite",function(){return m}),r.d(t,"latestFriends",function(){return p})},251:function(e,t,r){"use strict";function a(){$J(".tradeoffer_items.primary").after('\n  <div class="sih_spliter">\n      <div class="horizontal_line"></div>\n      <div class="arrows"></div>\n      <div class="horizontal_line"></div>\n  </div>\n  ')}t.a=a;var n=r(302);r.n(n)},252:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return n});var a=function(e){return"7656"+(+e+1197960265728)},n=function(e){return e.find(function(e){return"WEAPON"===e.category.toUpperCase()||"TYPE_HANDS"===e.internal_name.toUpperCase()})}},287:function(e,t){},288:function(e,t){},289:function(e,t){},290:function(e,t){},291:function(e,t){},292:function(e,t){},293:function(e,t){},294:function(e,t){},295:function(e,t){},296:function(e,t){},297:function(e,t){},298:function(e,t){},299:function(e,t){},300:function(e,t){},301:function(e,t){},302:function(e,t){},303:function(e,t){},304:function(e,t){},36:function(e,t,r){"use strict";function a(e,t){var r=window.location.pathname.match(/tradeoffer\/new/),a=e.description?e.description:e,n=a.market_hash_name,i=a.icon_url,s=window.KnifePhaseDetector.detect(n,i);if(s){var o=void 0,d="";n.includes("Gamma Doppler")?d+="gd-"+s.code:n.includes("Doppler")&&(d+="d-"+s.code),o=s.code.includes("phase")?"P"+s.code.slice(-1):s.name;var l=null,c=0;l=setInterval(function(){c++,(1===t.find(".item-info").length&&1===t.children(".item-info").length||r&&c>=10)&&(clearInterval(l),t.find(".phase-background").length||t.find("img").before('<div class="phase-background '+d+'"></div>'),t.find(".phase-label").length||(r?t.find(".tradeoffer.float-data").length?t.find(".tradeoffer.float-data").prepend('<span class="trade phase-label">'+o+"</span>"):t.find(".p-price").before('<span class="trade phase-label">'+o+"</span>"):t.find(".item-info").prepend('<span class="phase-label">'+o+"</span>")))},100)}}function n(){$J('.market_listing_row[id^="listing_"]').each(function(){var e=$J(this),t=e.attr("id").substring(8),r=g_rgListingInfo[t],a=null;if(r){a=g_rgListingInfo[t].asset;var n=g_rgAssets[a.appid][a.contextid][a.id],i=n.market_hash_name,s=n.icon_url,o=window.KnifePhaseDetector.detect(i,s);if(o){var d=void 0,l="";n.$row.find(".sih-phase")&&n.$row.find(".sih-phase").remove(),n.market_hash_name.includes("Gamma Doppler")?l+="gd-"+o.code:n.market_hash_name.includes("Doppler")&&(l+="d-"+o.code),d=o.code.includes("phase")?"P"+o.code.slice(-1):o.name,n.$row.find(".market_listing_seller").after('\n        <div class="sih-phase">\n          <div class="icon '+l+'"></div>\n          '+d+"\n        </div>\n      ")}}})}function i(e){return e.globalRatingPos||e.localRatingPos?"#"+Math.abs(e.globalRatingPos?e.globalRatingPos:e.localRatingPos):""}Object.defineProperty(t,"__esModule",{value:!0}),t.loadForInventory=a,t.load=n,t.GetRatingPos=i;var s=r(79);r.n(s)},44:function(e,t,r){"use strict";function a(){g();var e=h();n(),_(),p(),y(),setTimeout(function(){i()},1),setTimeout(function(){S(e.size),N(),l(),e.autoLoadMarketPrice&&(r.i(G.AddPreloadersAndHideBlocks)(),r.i(G.GetAllPrice)())},100),b(),H(),r.i(G.InitializationFastAcceptTrade)()}function n(){$J(".tradeoffer").addClass("sih_tradeoffer minimized")}function i(){z=$J(".tradeoffer").clone(!0,!0),$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(z),s(),Y=$J(".tradeoffer_list").html(),I()}function s(){$J(".profile_leftcol > .tradeoffer").remove(),$J(".profile_leftcol > .tradeoffer_rule").remove()}function o(){$J(".tradeoffer_list").remove()}function d(){$J(".profile_leftcol").append('<div class="tradeoffer_list"></div>'),$J(".tradeoffer_list").append(Y)}function l(){$J(".offer_price").each(function(e,t){$J(t).click(function(){var e=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list");r.i(G.GetAllPrice)(e),$J(this).parent().find(".icon").hasClass("reload")||$J(this).after('<a href="javascript:void(0);" class="icon reload reload-steam-price"></a>'),c()})})}function c(){$J(".reload-steam-price").each(function(e,t){$J(t).click(function(e){if(!e.isDefaultPrevented()){e.preventDefault(),PriceQueue.StopQueue();var t=$J(this).parent().parent().parent().parent().children(".tradeoffer_item_list"),a=$J(this).parent().find(".steam-total-price");1===a.length&&$J(a).text(0),$J(t).find(".trade_item").each(function(e,t){$J(t).find(".p-price").children(".price_flag.original").attr("data-price","").find(".animated-background.silver").fadeIn("slow")}),r.i(G.GetAllPrice)(t,!0)}})})}function f(){$J(".tradeoffer").addClass("full"),$J(".tradeoffer").removeClass("minimized"),$J(".tradeoffer_footer").removeClass("minimized")}function u(){$J(".tradeoffer").removeClass("full"),$J(".tradeoffer").addClass("minimized"),$J(".tradeoffer_footer").addClass("minimized")}function m(){var e=h();$J(".filter_page").each(function(t,r){if($J(r).hasClass("active")&&(!e||!e.size||e.size)){var a=$J(r).attr("class").replace(/filter_page/g,"").replace(/active/g,"").trim();e.size=a;var n=JSON.stringify(e);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",n)}})}function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isMarketLoaded=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function _(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h();if(!t||!t.isMarketLoaded||t.isMarketLoaded){t.isSteamBySIHLoaded=e;var r=JSON.stringify(t);localStorage.setItem("SIH_TRADEOFFER_ACTIVE_MODE",r)}}function h(){var e=localStorage.getItem("SIH_TRADEOFFER_ACTIVE_MODE")||"{}";return JSON.parse(e)}function g(){var e=window.location.pathname,t=h(),a=void 0;a=t.size&&"minimized"!==t.size?r.i(R.a)():r.i(U.a)(),$J(".filter").after(a),v(),e.includes("tradetopics")||e.includes("privacy")||$J(".fake-tradeoffer").show()}function v(){var e=r.i(G.GetHeightFirstRightControlsContent)();$J(".fake-tradeoffer").css("top",e+22)}function S(e){"full"===e&&($J(".filter_page").each(function(e,t){$J(t).hasClass("full")&&$J(t).addClass("active").siblings().removeClass("active")}),o(),d(),f(),C(),k(),r.i(B.a)(),setTimeout(function(){r.i(V.RelocateRuleBlock)()},50)),L(),setTimeout(function(){$J(".fake-tradeoffer").fadeOut("slow"),$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow")},300)}function b(){$J(".filter_page").each(function(e,t){var a=$J(t);a.on("click",function(){M(),setTimeout(function(){$J(".tradeoffer").fadeIn("slow"),$J(".sih_tradeoffer_footer").fadeIn("slow"),N()},100);var e=h();$J(this).addClass("active").siblings().removeClass("active"),a.hasClass("full")?$J(".tradeoffer").hasClass("full")||(window.location.href.includes("history")?r.i(K.b)("request",!0):r.i(K.b)(),H(),m(),o(),d(),f(),C(),r.i(V.RelocateRuleBlock)(),k(),r.i(B.a)(),l(),_(),p(),e.autoLoadMarketPrice&&(r.i(G.AddPreloadersAndHideBlocks)(),r.i(G.GetAllPrice)()),e.autoLoadFloat&&r.i(j.a)(),r.i(W.RenderLoadMarketPriceManualSingle)(),r.i(G.InitializationFastAcceptTrade)(),L()):a.hasClass("minimized")&&($J(".tradeoffer").hasClass("minimized")||(window.location.href.includes("history")?r.i(K.b)("request",!0):r.i(K.b)(),H(),m(),o(),d(),u(),I(),_(),p(),e.autoLoadMarketPrice&&(r.i(G.AddPreloadersAndHideBlocks)(),r.i(G.GetAllPrice)()),e.autoLoadFloat&&r.i(j.a)(),r.i(W.RenderLoadMarketPriceManualSingle)(),r.i(G.InitializationFastAcceptTrade)(),L()))})})}function y(){$J(".tradeoffer").prepend('<div class="sih_tradeoffer_header"></div>'),$J(".sih_tradeoffer_header").append('<div class="sih_user"></div>'),A(),w()}function I(){J(),T(),D(),P(),r.i(F.ModifyItemList)(),O()}function k(){$J(".tradeoffer_item_list").each(function(e,t){$J(t).find(".trade_item").hasClass("trade_item")||$J(t).parent().find(".tradeoffer_items_header").find(".row").remove()})}function J(){$(),r.i(V.RelocateRuleBlock)()}function C(){$J(".tradeoffer").each(function(e,t){var r=$J(t).find(".sih_user");$J(r).append('<div class="sih_user_row"></div>');var a=$J(t).find(".sih_user_row"),n=$J(t).find(".tradeoffer_partner"),i=$J(t).find(".tradeoffer_header");$J(n).appendTo(a),$J(i).appendTo(a)})}function $(){$J(".tradeoffer").each(function(e,t){$J(t).find(".sih_user").append('<div class="sih_user_row"></div>');var r=$J(t).find(".sih_user_row"),a=$J(t).find(".tradeoffer_partner"),n=$J(t).find(".tradeoffer_header");a.appendTo(r),n.appendTo(r);var i=$J(t).find(".tradeoffer_expiries");$J(i).appendTo(n)})}function L(){var e=$J(location).attr("pathname");$J(".tradeoffer").each(function(t,r){var a=$J(r).find(".sih_user_row");if(e.includes("sent")){var n=$J(r).find(".tradeoffer_avatar");$J(n[1]).hasClass("tiny")&&$J(n[1]).removeClass("tiny"),$J(n[1]).prependTo(a)}})}function P(){$J(".sih_tradeoffer.minimized").find(".tradeoffer_header").each(function(e,t){var r=$J(t).parent().parent().parent().parent().find(".tradeoffer_message");1===r.length&&$J(t).prepend('<div class="text text_tiny text_italic text_blue message-controller">'+SIHLang.tradeoffers.show_message+"</div>"),$J(t).find(".message-controller").click(function(){var e=$J(this);r.toggleClass("show"),r.hasClass("show")?e.text(""+SIHLang.tradeoffers.hide_message):e.text(""+SIHLang.tradeoffers.show_message)})})}function A(){$J(".tradeoffer").each(function(e,t){var r=$J(t).find(".btn_report"),a=$J(t).find(".sih_tradeoffer_header");setTimeout(function(){$J(r).appendTo(a)},1)})}function w(){$J(".tradeoffer").each(function(e,t){var r=$J(t).find(".tradeoffer_footer");$J(r).each(function(e,r){var a=$J(r).contents().filter(function(){return 3===this.nodeType})[1].nodeValue;$J(t).find(".sih_user").append('<span class="tradeoffer_expiries text text_tiny">'+a+"</span>")})})}function x(){var e=0,t=[];return($J(".tradeoffer.active_single_trade").length>0?$J(".tradeoffer.active_single_trade"):$J(".tradeoffer")).find(".tradeoffer_item_list").each(function(r,a){if(0===$J(a).find(".trade_item").length)e=0,t.push(e);else{e=0;var n=RegExp("[0-9]*[.,]?[0-9]+");$J(a).children(".trade_item").find(".price_flag").each(function(t,r){if($J(r).hasClass("steam")||$J(r).hasClass("dmarket")||$J(r).hasClass("buff163")||$J(r).hasClass("bitskins")||$J(r).hasClass("skinport")||$J(r).hasClass("mannco")){var a=$J(r).data("price");a=a.match(n),e+=+a}}),t.push(e.toFixed(2))}}),t}function T(){$J(".sih_tradeoffer_header").each(function(e,t){var a=$J(t).find(".btn_report");if(1===a.length){var n=a.attr("onclick").match(/'(\d*)',\s"(.+)"/),i=n[2],s=i.match(/\\u[\w\d]{4}/g);$J(t).find(".tradeoffer_header").prepend('<span class="text">'+(s?r.i(G.getHexFromUnicode)(i,s):i)+"</span>")}})}function D(){$J(location).attr("href").includes("sent")||$J(".tradeoffer_header").each(function(e,t){$J(t).contents().filter(function(){return 3===this.nodeType}).remove()})}function H(){setTimeout(function(){$J(".tradeoffer").each(function(e,t){1===$J(t).find(".tradeoffer_items_banner").length&&$J(t).append('<div class="sih_inactive"></div>')}),$J(".tradeoffer").mouseenter(function(){$J(this).find(".sih_inactive").css("opacity",0),$J(this).find(".tradeoffer_items_ctn").removeClass("inactive"),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",6),$J(this).find(".sih_user").css("z-index",6),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",7)}),$J(".tradeoffer").mouseleave(function(){$J(this).find(".sih_inactive").css("opacity",.5),$J(this).find(".sih_tradeoffer_items_ctn").css("z-index",0),$J(this).find(".sih_user").css("z-index",0),$J(this).find(".sih_tradeoffer_items_rule").css("z-index",0)})},100)}function O(){$J(".tradeoffer.minimized").each(function(e,t){var r=$J(t).find(".tradeoffer_items_banner");1===r.length&&($J(t).find(".tradeoffer_items_banner").remove(),$J(t).addClass("history"),$J(t).find(".sih_tradeoffer_footer").addClass("history"),$J(t).find(".sih_tradeoffer_footer").append(r))})}function M(){var e=$J('.sorting_tradeoffers_select option[value="new"]'),t=e.text();e.prop("selected",!0),$J("#ui-id-2-button").find(".ui-selectmenu-text").text(t)}function N(){var e=$J(".profile_leftcol"),t=e.find(".tradeoffers_view_more");e.find(".tradeoffer_list").after(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.load=a,t.SetFlagForLoadedMarket=p,t.SetFlagForLoadedSIHMarket=_,t.GetTotalPriceForActiveMarket=x;var E=r(304),R=(r.n(E),r(246)),U=r(247),B=r(251),F=r(198),G=r(24),W=r(197),K=r(150),V=r(199),j=r(207),z=void 0,Y=void 0},79:function(e,t){}});